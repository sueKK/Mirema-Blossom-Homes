var RD=Object.defineProperty;var MD=(r,e,t)=>e in r?RD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var fe=(r,e,t)=>MD(r,typeof e!="symbol"?e+"":e,t);function ND(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function jS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bm={exports:{}},Eu={},Pm={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function OD(){if(tw)return Fe;tw=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,P={};function D(B,te,Ee){this.props=B,this.context=te,this.refs=P,this.updater=Ee||E}D.prototype.isReactComponent={},D.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},D.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=D.prototype;function V(B,te,Ee){this.props=B,this.context=te,this.refs=P,this.updater=Ee||E}var L=V.prototype=new N;L.constructor=V,I(L,D.prototype),L.isPureReactComponent=!0;var K=Array.isArray,Q=Object.prototype.hasOwnProperty,Z={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function k(B,te,Ee){var Ne,Ve={},ze=null,Ge=null;if(te!=null)for(Ne in te.ref!==void 0&&(Ge=te.ref),te.key!==void 0&&(ze=""+te.key),te)Q.call(te,Ne)&&!b.hasOwnProperty(Ne)&&(Ve[Ne]=te[Ne]);var Qe=arguments.length-2;if(Qe===1)Ve.children=Ee;else if(1<Qe){for(var st=Array(Qe),Bt=0;Bt<Qe;Bt++)st[Bt]=arguments[Bt+2];Ve.children=st}if(B&&B.defaultProps)for(Ne in Qe=B.defaultProps,Qe)Ve[Ne]===void 0&&(Ve[Ne]=Qe[Ne]);return{$$typeof:r,type:B,key:ze,ref:Ge,props:Ve,_owner:Z.current}}function C(B,te){return{$$typeof:r,type:B.type,key:te,ref:B.ref,props:B.props,_owner:B._owner}}function R(B){return typeof B=="object"&&B!==null&&B.$$typeof===r}function O(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Ee){return te[Ee]})}var F=/\/+/g;function A(B,te){return typeof B=="object"&&B!==null&&B.key!=null?O(""+B.key):te.toString(36)}function Te(B,te,Ee,Ne,Ve){var ze=typeof B;(ze==="undefined"||ze==="boolean")&&(B=null);var Ge=!1;if(B===null)Ge=!0;else switch(ze){case"string":case"number":Ge=!0;break;case"object":switch(B.$$typeof){case r:case e:Ge=!0}}if(Ge)return Ge=B,Ve=Ve(Ge),B=Ne===""?"."+A(Ge,0):Ne,K(Ve)?(Ee="",B!=null&&(Ee=B.replace(F,"$&/")+"/"),Te(Ve,te,Ee,"",function(Bt){return Bt})):Ve!=null&&(R(Ve)&&(Ve=C(Ve,Ee+(!Ve.key||Ge&&Ge.key===Ve.key?"":(""+Ve.key).replace(F,"$&/")+"/")+B)),te.push(Ve)),1;if(Ge=0,Ne=Ne===""?".":Ne+":",K(B))for(var Qe=0;Qe<B.length;Qe++){ze=B[Qe];var st=Ne+A(ze,Qe);Ge+=Te(ze,te,Ee,st,Ve)}else if(st=w(B),typeof st=="function")for(B=st.call(B),Qe=0;!(ze=B.next()).done;)ze=ze.value,st=Ne+A(ze,Qe++),Ge+=Te(ze,te,Ee,st,Ve);else if(ze==="object")throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Ge}function De(B,te,Ee){if(B==null)return B;var Ne=[],Ve=0;return Te(B,Ne,"","",function(ze){return te.call(Ee,ze,Ve++)}),Ne}function me(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(Ee){(B._status===0||B._status===-1)&&(B._status=1,B._result=Ee)},function(Ee){(B._status===0||B._status===-1)&&(B._status=2,B._result=Ee)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var ae={current:null},J={transition:null},ce={ReactCurrentDispatcher:ae,ReactCurrentBatchConfig:J,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:De,forEach:function(B,te,Ee){De(B,function(){te.apply(this,arguments)},Ee)},count:function(B){var te=0;return De(B,function(){te++}),te},toArray:function(B){return De(B,function(te){return te})||[]},only:function(B){if(!R(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Fe.Component=D,Fe.Fragment=t,Fe.Profiler=i,Fe.PureComponent=V,Fe.StrictMode=n,Fe.Suspense=d,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Fe.act=le,Fe.cloneElement=function(B,te,Ee){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ne=I({},B.props),Ve=B.key,ze=B.ref,Ge=B._owner;if(te!=null){if(te.ref!==void 0&&(ze=te.ref,Ge=Z.current),te.key!==void 0&&(Ve=""+te.key),B.type&&B.type.defaultProps)var Qe=B.type.defaultProps;for(st in te)Q.call(te,st)&&!b.hasOwnProperty(st)&&(Ne[st]=te[st]===void 0&&Qe!==void 0?Qe[st]:te[st])}var st=arguments.length-2;if(st===1)Ne.children=Ee;else if(1<st){Qe=Array(st);for(var Bt=0;Bt<st;Bt++)Qe[Bt]=arguments[Bt+2];Ne.children=Qe}return{$$typeof:r,type:B.type,key:Ve,ref:ze,props:Ne,_owner:Ge}},Fe.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},Fe.createElement=k,Fe.createFactory=function(B){var te=k.bind(null,B);return te.type=B,te},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(B){return{$$typeof:u,render:B}},Fe.isValidElement=R,Fe.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:me}},Fe.memo=function(B,te){return{$$typeof:p,type:B,compare:te===void 0?null:te}},Fe.startTransition=function(B){var te=J.transition;J.transition={};try{B()}finally{J.transition=te}},Fe.unstable_act=le,Fe.useCallback=function(B,te){return ae.current.useCallback(B,te)},Fe.useContext=function(B){return ae.current.useContext(B)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(B){return ae.current.useDeferredValue(B)},Fe.useEffect=function(B,te){return ae.current.useEffect(B,te)},Fe.useId=function(){return ae.current.useId()},Fe.useImperativeHandle=function(B,te,Ee){return ae.current.useImperativeHandle(B,te,Ee)},Fe.useInsertionEffect=function(B,te){return ae.current.useInsertionEffect(B,te)},Fe.useLayoutEffect=function(B,te){return ae.current.useLayoutEffect(B,te)},Fe.useMemo=function(B,te){return ae.current.useMemo(B,te)},Fe.useReducer=function(B,te,Ee){return ae.current.useReducer(B,te,Ee)},Fe.useRef=function(B){return ae.current.useRef(B)},Fe.useState=function(B){return ae.current.useState(B)},Fe.useSyncExternalStore=function(B,te,Ee){return ae.current.useSyncExternalStore(B,te,Ee)},Fe.useTransition=function(){return ae.current.useTransition()},Fe.version="18.3.1",Fe}var nw;function fy(){return nw||(nw=1,Pm.exports=OD()),Pm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function LD(){if(rw)return Eu;rw=1;var r=fy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,p){var m,y={},w=null,E=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(E=d.ref);for(m in d)n.call(d,m)&&!o.hasOwnProperty(m)&&(y[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)y[m]===void 0&&(y[m]=d[m]);return{$$typeof:e,type:u,key:w,ref:E,props:y,_owner:i.current}}return Eu.Fragment=t,Eu.jsx=l,Eu.jsxs=l,Eu}var iw;function VD(){return iw||(iw=1,bm.exports=LD()),bm.exports}var z=VD(),H=fy();const q=jS(H),US=ND({__proto__:null,default:q},[H]);var Gd={},Am={exports:{}},bn={},Rm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function FD(){return sw||(sw=1,function(r){function e(J,ce){var le=J.length;J.push(ce);e:for(;0<le;){var B=le-1>>>1,te=J[B];if(0<i(te,ce))J[B]=ce,J[le]=te,le=B;else break e}}function t(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ce=J[0],le=J.pop();if(le!==ce){J[0]=le;e:for(var B=0,te=J.length,Ee=te>>>1;B<Ee;){var Ne=2*(B+1)-1,Ve=J[Ne],ze=Ne+1,Ge=J[ze];if(0>i(Ve,le))ze<te&&0>i(Ge,Ve)?(J[B]=Ge,J[ze]=le,B=ze):(J[B]=Ve,J[Ne]=le,B=Ne);else if(ze<te&&0>i(Ge,le))J[B]=Ge,J[ze]=le,B=ze;else break e}}return ce}function i(J,ce){var le=J.sortIndex-ce.sortIndex;return le!==0?le:J.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();r.unstable_now=function(){return l.now()-u}}var d=[],p=[],m=1,y=null,w=3,E=!1,I=!1,P=!1,D=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(J){for(var ce=t(p);ce!==null;){if(ce.callback===null)n(p);else if(ce.startTime<=J)n(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(p)}}function K(J){if(P=!1,L(J),!I)if(t(d)!==null)I=!0,me(Q);else{var ce=t(p);ce!==null&&ae(K,ce.startTime-J)}}function Q(J,ce){I=!1,P&&(P=!1,N(k),k=-1),E=!0;var le=w;try{for(L(ce),y=t(d);y!==null&&(!(y.expirationTime>ce)||J&&!O());){var B=y.callback;if(typeof B=="function"){y.callback=null,w=y.priorityLevel;var te=B(y.expirationTime<=ce);ce=r.unstable_now(),typeof te=="function"?y.callback=te:y===t(d)&&n(d),L(ce)}else n(d);y=t(d)}if(y!==null)var Ee=!0;else{var Ne=t(p);Ne!==null&&ae(K,Ne.startTime-ce),Ee=!1}return Ee}finally{y=null,w=le,E=!1}}var Z=!1,b=null,k=-1,C=5,R=-1;function O(){return!(r.unstable_now()-R<C)}function F(){if(b!==null){var J=r.unstable_now();R=J;var ce=!0;try{ce=b(!0,J)}finally{ce?A():(Z=!1,b=null)}}else Z=!1}var A;if(typeof V=="function")A=function(){V(F)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,De=Te.port2;Te.port1.onmessage=F,A=function(){De.postMessage(null)}}else A=function(){D(F,0)};function me(J){b=J,Z||(Z=!0,A())}function ae(J,ce){k=D(function(){J(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){I||E||(I=!0,me(Q))},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(d)},r.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var le=w;w=ce;try{return J()}finally{w=le}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var le=w;w=J;try{return ce()}finally{w=le}},r.unstable_scheduleCallback=function(J,ce,le){var B=r.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?B+le:B):le=B,J){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=le+te,J={id:m++,callback:ce,priorityLevel:J,startTime:le,expirationTime:te,sortIndex:-1},le>B?(J.sortIndex=le,e(p,J),t(d)===null&&J===t(p)&&(P?(N(k),k=-1):P=!0,ae(K,le-B))):(J.sortIndex=te,e(d,J),I||E||(I=!0,me(Q))),J},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(J){var ce=w;return function(){var le=w;w=ce;try{return J.apply(this,arguments)}finally{w=le}}}}(Mm)),Mm}var ow;function jD(){return ow||(ow=1,Rm.exports=FD()),Rm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function UD(){if(aw)return bn;aw=1;var r=fy(),e=jD();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)n.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(s){return d.call(y,s)?!0:d.call(m,s)?!1:p.test(s)?y[s]=!0:(m[s]=!0,!1)}function E(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function I(s,a,c,f){if(a===null||typeof a>"u"||E(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(s,a,c,f,g,_,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=S}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){D[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];D[a]=new P(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){D[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){D[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){D[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){D[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){D[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){D[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){D[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(N,V);D[a]=new P(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(N,V);D[a]=new P(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(N,V);D[a]=new P(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){D[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),D.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){D[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,a,c,f){var g=D.hasOwnProperty(a)?D[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(I(a,c,g,f)&&(c=null),f||g===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var K=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),Z=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),O=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),J=Symbol.iterator;function ce(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,B;function te(s){if(B===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+s}var Ee=!1;function Ne(s,a){if(!s||Ee)return"";Ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(G){var f=G}Reflect.construct(s,[],a)}else{try{a.call()}catch(G){f=G}s.call(a.prototype)}else{try{throw Error()}catch(G){f=G}s()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var g=G.stack.split(`
`),_=f.stack.split(`
`),S=g.length-1,M=_.length-1;1<=S&&0<=M&&g[S]!==_[M];)M--;for(;1<=S&&0<=M;S--,M--)if(g[S]!==_[M]){if(S!==1||M!==1)do if(S--,M--,0>M||g[S]!==_[M]){var j=`
`+g[S].replace(" at new "," at ");return s.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",s.displayName)),j}while(1<=S&&0<=M);break}}}finally{Ee=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function Ve(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=Ne(s.type,!1),s;case 11:return s=Ne(s.type.render,!1),s;case 1:return s=Ne(s.type,!0),s;default:return""}}function ze(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case b:return"Fragment";case Z:return"Portal";case C:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case Te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case O:return(s.displayName||"Context")+".Consumer";case R:return(s._context.displayName||"Context")+".Provider";case F:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case De:return a=s.displayName||null,a!==null?a:ze(s.type)||"Memo";case me:a=s._payload,s=s._init;try{return ze(s(a))}catch{}}return null}function Ge(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(a);case 8:return a===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function st(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Bt(s){var a=st(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,_.call(this,S)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ii(s){s._valueTracker||(s._valueTracker=Bt(s))}function zo(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=st(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function Fi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function js(s,a){var c=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Wo(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=Qe(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Dl(s,a){a=a.checked,a!=null&&L(s,"checked",a,!1)}function bl(s,a){Dl(s,a);var c=Qe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ho(s,a.type,c):a.hasOwnProperty("defaultValue")&&Ho(s,a.type,Qe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Nc(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ho(s,a,c){(a!=="number"||Fi(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var si=Array.isArray;function oi(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+Qe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Pl(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function $o(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(si(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Qe(c)}}function Yo(s,a){var c=Qe(a.value),f=Qe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Al(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Mt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Mt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ai,Rl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ai.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ji(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bs=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(s){Bs.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Us[a]=Us[s]})});function Ml(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Us.hasOwnProperty(s)&&Us[s]?(""+a).trim():a+"px"}function Nl(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Ml(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var Ol=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(s,a){if(a){if(Ol[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Vl(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zs=null;function Ko(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qo=null,Un=null,Cr=null;function Go(s){if(s=au(s)){if(typeof qo!="function")throw Error(t(280));var a=s.stateNode;a&&(a=cd(a),qo(s.stateNode,s.type,a))}}function Dr(s){Un?Cr?Cr.push(s):Cr=[s]:Un=s}function Fl(){if(Un){var s=Un,a=Cr;if(Cr=Un=null,Go(s),a)for(s=0;s<a.length;s++)Go(a[s])}}function Ws(s,a){return s(a)}function jl(){}var li=!1;function Ul(s,a,c){if(li)return s(a,c);li=!0;try{return Ws(s,a,c)}finally{li=!1,(Un!==null||Cr!==null)&&(jl(),Fl())}}function kt(s,a){var c=s.stateNode;if(c===null)return null;var f=cd(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Qo=!1;if(u)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{Qo=!1}function Hs(s,a,c,f,g,_,S,M,j){var G=Array.prototype.slice.call(arguments,3);try{a.apply(c,G)}catch(re){this.onError(re)}}var $s=!1,Xo=null,sr=!1,Bl=null,rp={onError:function(s){$s=!0,Xo=s}};function Jo(s,a,c,f,g,_,S,M,j){$s=!1,Xo=null,Hs.apply(rp,arguments)}function Oc(s,a,c,f,g,_,S,M,j){if(Jo.apply(this,arguments),$s){if($s){var G=Xo;$s=!1,Xo=null}else throw Error(t(198));sr||(sr=!0,Bl=G)}}function or(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Ys(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function ar(s){if(or(s)!==s)throw Error(t(188))}function Lc(s){var a=s.alternate;if(!a){if(a=or(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return ar(g),s;if(_===f)return ar(g),a;_=_.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=_;else{for(var S=!1,M=g.child;M;){if(M===c){S=!0,c=g,f=_;break}if(M===f){S=!0,f=g,c=_;break}M=M.sibling}if(!S){for(M=_.child;M;){if(M===c){S=!0,c=_,f=g;break}if(M===f){S=!0,f=_,c=g;break}M=M.sibling}if(!S)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function zl(s){return s=Lc(s),s!==null?Zo(s):null}function Zo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Zo(s);if(a!==null)return a;s=s.sibling}return null}var ea=e.unstable_scheduleCallback,Wl=e.unstable_cancelCallback,Vc=e.unstable_shouldYield,ip=e.unstable_requestPaint,ot=e.unstable_now,Fc=e.unstable_getCurrentPriorityLevel,Ks=e.unstable_ImmediatePriority,Ui=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,Hl=e.unstable_LowPriority,jc=e.unstable_IdlePriority,qs=null,Rn=null;function Uc(s){if(Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(qs,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:zc,$l=Math.log,Bc=Math.LN2;function zc(s){return s>>>=0,s===0?32:31-($l(s)/Bc|0)|0}var ta=64,na=4194304;function Bi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gs(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes,S=c&268435455;if(S!==0){var M=S&~g;M!==0?f=Bi(M):(_&=S,_!==0&&(f=Bi(_)))}else S=c&~g,S!==0?f=Bi(S):_!==0&&(f=Bi(_));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-fn(a),g=1<<c,f|=s[c],a&=~g;return f}function sp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ui(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var S=31-fn(_),M=1<<S,j=g[S];j===-1?((M&c)===0||(M&f)!==0)&&(g[S]=sp(M,a)):j<=a&&(s.expiredLanes|=M),_&=~M}}function Mn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Qs(){var s=ta;return ta<<=1,(ta&4194240)===0&&(ta=64),s}function zi(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Wi(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-fn(a),s[a]=c}function rt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-fn(c),_=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~_}}function Hi(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-fn(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var Be=0;function $i(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Wc,ra,Hc,$c,Yc,Yl=!1,br=[],qt=null,lr=null,ur=null,Yi=new Map,zn=new Map,Pr=[],op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kc(s,a){switch(s){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":Yi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(a.pointerId)}}function En(s,a,c,f,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},a!==null&&(a=au(a),a!==null&&ra(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function ap(s,a,c,f,g){switch(a){case"focusin":return qt=En(qt,s,a,c,f,g),!0;case"dragenter":return lr=En(lr,s,a,c,f,g),!0;case"mouseover":return ur=En(ur,s,a,c,f,g),!0;case"pointerover":var _=g.pointerId;return Yi.set(_,En(Yi.get(_)||null,s,a,c,f,g)),!0;case"gotpointercapture":return _=g.pointerId,zn.set(_,En(zn.get(_)||null,s,a,c,f,g)),!0}return!1}function qc(s){var a=to(s.target);if(a!==null){var c=or(a);if(c!==null){if(a=c.tag,a===13){if(a=Ys(c),a!==null){s.blockedOn=a,Yc(s.priority,function(){Hc(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ci(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=ia(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);zs=f,c.target.dispatchEvent(f),zs=null}else return a=au(c),a!==null&&ra(a),s.blockedOn=c,!1;a.shift()}return!0}function Xs(s,a,c){ci(s)&&c.delete(a)}function Gc(){Yl=!1,qt!==null&&ci(qt)&&(qt=null),lr!==null&&ci(lr)&&(lr=null),ur!==null&&ci(ur)&&(ur=null),Yi.forEach(Xs),zn.forEach(Xs)}function cr(s,a){s.blockedOn===a&&(s.blockedOn=null,Yl||(Yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Gc)))}function dr(s){function a(g){return cr(g,s)}if(0<br.length){cr(br[0],s);for(var c=1;c<br.length;c++){var f=br[c];f.blockedOn===s&&(f.blockedOn=null)}}for(qt!==null&&cr(qt,s),lr!==null&&cr(lr,s),ur!==null&&cr(ur,s),Yi.forEach(a),zn.forEach(a),c=0;c<Pr.length;c++)f=Pr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Pr.length&&(c=Pr[0],c.blockedOn===null);)qc(c),c.blockedOn===null&&Pr.shift()}var di=K.ReactCurrentBatchConfig,Ki=!0;function dt(s,a,c,f){var g=Be,_=di.transition;di.transition=null;try{Be=1,Kl(s,a,c,f)}finally{Be=g,di.transition=_}}function lp(s,a,c,f){var g=Be,_=di.transition;di.transition=null;try{Be=4,Kl(s,a,c,f)}finally{Be=g,di.transition=_}}function Kl(s,a,c,f){if(Ki){var g=ia(s,a,c,f);if(g===null)_p(s,a,f,Js,c),Kc(s,f);else if(ap(g,s,a,c,f))f.stopPropagation();else if(Kc(s,f),a&4&&-1<op.indexOf(s)){for(;g!==null;){var _=au(g);if(_!==null&&Wc(_),_=ia(s,a,c,f),_===null&&_p(s,a,f,Js,c),_===g)break;g=_}g!==null&&f.stopPropagation()}else _p(s,a,f,null,c)}}var Js=null;function ia(s,a,c,f){if(Js=null,s=Ko(f),s=to(s),s!==null)if(a=or(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Ys(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Js=s,null}function ql(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fc()){case Ks:return 1;case Ui:return 4;case Bn:case Hl:return 16;case jc:return 536870912;default:return 16}default:return 16}}var Nn=null,sa=null,Sn=null;function Gl(){if(Sn)return Sn;var s,a=sa,c=a.length,f,g="value"in Nn?Nn.value:Nn.textContent,_=g.length;for(s=0;s<c&&a[s]===g[s];s++);var S=c-s;for(f=1;f<=S&&a[c-f]===g[_-f];f++);return Sn=g.slice(s,1<f?1-f:void 0)}function oa(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ar(){return!0}function Ql(){return!1}function Gt(s){function a(c,f,g,_,S){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=S,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(_):_[M]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ar:Ql,this.isPropagationStopped=Ql,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),a}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=Gt(hr),Rr=le({},hr,{view:0,detail:0}),up=Gt(Rr),la,hi,qi,Zs=le({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==qi&&(qi&&s.type==="mousemove"?(la=s.screenX-qi.screenX,hi=s.screenY-qi.screenY):hi=la=0,qi=s),la)},movementY:function(s){return"movementY"in s?s.movementY:hi}}),ua=Gt(Zs),Xl=le({},Zs,{dataTransfer:0}),Qc=Gt(Xl),ca=le({},Rr,{relatedTarget:0}),da=Gt(ca),Xc=le({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),fi=Gt(Xc),Jc=le({},hr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Zc=Gt(Jc),ed=le({},hr,{data:0}),Jl=Gt(ed),ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},td={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=td[s])?!!a[s]:!1}function Mr(){return nd}var h=le({},Rr,{key:function(s){if(s.key){var a=ha[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=oa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(s){return s.type==="keypress"?oa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?oa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Gt(h),T=le({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=Gt(T),W=le({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),X=Gt(W),ue=le({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=Gt(ue),Ot=le({},Zs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),We=Gt(Ot),zt=[9,13,27,32],Pt=u&&"CompositionEvent"in window,Wn=null;u&&"documentMode"in document&&(Wn=document.documentMode);var On=u&&"TextEvent"in window&&!Wn,eo=u&&(!Pt||Wn&&8<Wn&&11>=Wn),fa=" ",Gv=!1;function Qv(s,a){switch(s){case"keyup":return zt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var pa=!1;function bC(s,a){switch(s){case"compositionend":return Xv(a);case"keypress":return a.which!==32?null:(Gv=!0,fa);case"textInput":return s=a.data,s===fa&&Gv?null:s;default:return null}}function PC(s,a){if(pa)return s==="compositionend"||!Pt&&Qv(s,a)?(s=Gl(),Sn=sa=Nn=null,pa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return eo&&a.locale!=="ko"?null:a.data;default:return null}}var AC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!AC[s.type]:a==="textarea"}function Zv(s,a,c,f){Dr(f),a=ad(a,"onChange"),0<a.length&&(c=new aa("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var Zl=null,eu=null;function RC(s){y_(s,0)}function rd(s){var a=_a(s);if(zo(a))return s}function MC(s,a){if(s==="change")return a}var e_=!1;if(u){var cp;if(u){var dp="oninput"in document;if(!dp){var t_=document.createElement("div");t_.setAttribute("oninput","return;"),dp=typeof t_.oninput=="function"}cp=dp}else cp=!1;e_=cp&&(!document.documentMode||9<document.documentMode)}function n_(){Zl&&(Zl.detachEvent("onpropertychange",r_),eu=Zl=null)}function r_(s){if(s.propertyName==="value"&&rd(eu)){var a=[];Zv(a,eu,s,Ko(s)),Ul(RC,a)}}function NC(s,a,c){s==="focusin"?(n_(),Zl=a,eu=c,Zl.attachEvent("onpropertychange",r_)):s==="focusout"&&n_()}function OC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return rd(eu)}function LC(s,a){if(s==="click")return rd(a)}function VC(s,a){if(s==="input"||s==="change")return rd(a)}function FC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var fr=typeof Object.is=="function"?Object.is:FC;function tu(s,a){if(fr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!d.call(a,g)||!fr(s[g],a[g]))return!1}return!0}function i_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function s_(s,a){var c=i_(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=i_(c)}}function o_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?o_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function a_(){for(var s=window,a=Fi();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Fi(s.document)}return a}function hp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function jC(s){var a=a_(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&o_(c.ownerDocument.documentElement,c)){if(f!==null&&hp(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!s.extend&&_>f&&(g=f,f=_,_=g),g=s_(c,_);var S=s_(c,f);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>f?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var UC=u&&"documentMode"in document&&11>=document.documentMode,ma=null,fp=null,nu=null,pp=!1;function l_(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;pp||ma==null||ma!==Fi(f)||(f=ma,"selectionStart"in f&&hp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),nu&&tu(nu,f)||(nu=f,f=ad(fp,"onSelect"),0<f.length&&(a=new aa("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=ma)))}function id(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ga={animationend:id("Animation","AnimationEnd"),animationiteration:id("Animation","AnimationIteration"),animationstart:id("Animation","AnimationStart"),transitionend:id("Transition","TransitionEnd")},mp={},u_={};u&&(u_=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function sd(s){if(mp[s])return mp[s];if(!ga[s])return s;var a=ga[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in u_)return mp[s]=a[c];return s}var c_=sd("animationend"),d_=sd("animationiteration"),h_=sd("animationstart"),f_=sd("transitionend"),p_=new Map,m_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(s,a){p_.set(s,a),o(a,[s])}for(var gp=0;gp<m_.length;gp++){var yp=m_[gp],BC=yp.toLowerCase(),zC=yp[0].toUpperCase()+yp.slice(1);Gi(BC,"on"+zC)}Gi(c_,"onAnimationEnd"),Gi(d_,"onAnimationIteration"),Gi(h_,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(f_,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WC=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function g_(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,Oc(f,a,void 0,s),s.currentTarget=null}function y_(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var _=void 0;if(a)for(var S=f.length-1;0<=S;S--){var M=f[S],j=M.instance,G=M.currentTarget;if(M=M.listener,j!==_&&g.isPropagationStopped())break e;g_(g,M,G),_=j}else for(S=0;S<f.length;S++){if(M=f[S],j=M.instance,G=M.currentTarget,M=M.listener,j!==_&&g.isPropagationStopped())break e;g_(g,M,G),_=j}}}if(sr)throw s=Bl,sr=!1,Bl=null,s}function ut(s,a){var c=a[xp];c===void 0&&(c=a[xp]=new Set);var f=s+"__bubble";c.has(f)||(v_(a,s,2,!1),c.add(f))}function vp(s,a,c){var f=0;a&&(f|=4),v_(c,s,f,a)}var od="_reactListening"+Math.random().toString(36).slice(2);function iu(s){if(!s[od]){s[od]=!0,n.forEach(function(c){c!=="selectionchange"&&(WC.has(c)||vp(c,!1,s),vp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[od]||(a[od]=!0,vp("selectionchange",!1,a))}}function v_(s,a,c,f){switch(ql(a)){case 1:var g=dt;break;case 4:g=lp;break;default:g=Kl}c=g.bind(null,a,c,s),g=void 0,!Qo||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function _p(s,a,c,f,g){var _=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var M=f.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var j=S.tag;if((j===3||j===4)&&(j=S.stateNode.containerInfo,j===g||j.nodeType===8&&j.parentNode===g))return;S=S.return}for(;M!==null;){if(S=to(M),S===null)return;if(j=S.tag,j===5||j===6){f=_=S;continue e}M=M.parentNode}}f=f.return}Ul(function(){var G=_,re=Ko(c),se=[];e:{var ne=p_.get(s);if(ne!==void 0){var he=aa,ye=s;switch(s){case"keypress":if(oa(c)===0)break e;case"keydown":case"keyup":he=v;break;case"focusin":ye="focus",he=da;break;case"focusout":ye="blur",he=da;break;case"beforeblur":case"afterblur":he=da;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=X;break;case c_:case d_:case h_:he=fi;break;case f_:he=et;break;case"scroll":he=up;break;case"wheel":he=We;break;case"copy":case"cut":case"paste":he=Zc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=x}var ve=(a&4)!==0,xt=!ve&&s==="scroll",$=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var U=G,Y;U!==null;){Y=U;var oe=Y.stateNode;if(Y.tag===5&&oe!==null&&(Y=oe,$!==null&&(oe=kt(U,$),oe!=null&&ve.push(su(U,oe,Y)))),xt)break;U=U.return}0<ve.length&&(ne=new he(ne,ye,null,c,re),se.push({event:ne,listeners:ve}))}}if((a&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",ne&&c!==zs&&(ye=c.relatedTarget||c.fromElement)&&(to(ye)||ye[pi]))break e;if((he||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,he?(ye=c.relatedTarget||c.toElement,he=G,ye=ye?to(ye):null,ye!==null&&(xt=or(ye),ye!==xt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(he=null,ye=G),he!==ye)){if(ve=ua,oe="onMouseLeave",$="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(ve=x,oe="onPointerLeave",$="onPointerEnter",U="pointer"),xt=he==null?ne:_a(he),Y=ye==null?ne:_a(ye),ne=new ve(oe,U+"leave",he,c,re),ne.target=xt,ne.relatedTarget=Y,oe=null,to(re)===G&&(ve=new ve($,U+"enter",ye,c,re),ve.target=Y,ve.relatedTarget=xt,oe=ve),xt=oe,he&&ye)t:{for(ve=he,$=ye,U=0,Y=ve;Y;Y=ya(Y))U++;for(Y=0,oe=$;oe;oe=ya(oe))Y++;for(;0<U-Y;)ve=ya(ve),U--;for(;0<Y-U;)$=ya($),Y--;for(;U--;){if(ve===$||$!==null&&ve===$.alternate)break t;ve=ya(ve),$=ya($)}ve=null}else ve=null;he!==null&&__(se,ne,he,ve,!1),ye!==null&&xt!==null&&__(se,xt,ye,ve,!0)}}e:{if(ne=G?_a(G):window,he=ne.nodeName&&ne.nodeName.toLowerCase(),he==="select"||he==="input"&&ne.type==="file")var _e=MC;else if(Jv(ne))if(e_)_e=VC;else{_e=OC;var ke=NC}else(he=ne.nodeName)&&he.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(_e=LC);if(_e&&(_e=_e(s,G))){Zv(se,_e,c,re);break e}ke&&ke(s,ne,G),s==="focusout"&&(ke=ne._wrapperState)&&ke.controlled&&ne.type==="number"&&Ho(ne,"number",ne.value)}switch(ke=G?_a(G):window,s){case"focusin":(Jv(ke)||ke.contentEditable==="true")&&(ma=ke,fp=G,nu=null);break;case"focusout":nu=fp=ma=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,l_(se,c,re);break;case"selectionchange":if(UC)break;case"keydown":case"keyup":l_(se,c,re)}var xe;if(Pt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else pa?Qv(s,c)&&(Ae="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ae="onCompositionStart");Ae&&(eo&&c.locale!=="ko"&&(pa||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&pa&&(xe=Gl()):(Nn=re,sa="value"in Nn?Nn.value:Nn.textContent,pa=!0)),ke=ad(G,Ae),0<ke.length&&(Ae=new Jl(Ae,s,null,c,re),se.push({event:Ae,listeners:ke}),xe?Ae.data=xe:(xe=Xv(c),xe!==null&&(Ae.data=xe)))),(xe=On?bC(s,c):PC(s,c))&&(G=ad(G,"onBeforeInput"),0<G.length&&(re=new Jl("onBeforeInput","beforeinput",null,c,re),se.push({event:re,listeners:G}),re.data=xe))}y_(se,a)})}function su(s,a,c){return{instance:s,listener:a,currentTarget:c}}function ad(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=kt(s,c),_!=null&&f.unshift(su(s,_,g)),_=kt(s,a),_!=null&&f.push(su(s,_,g))),s=s.return}return f}function ya(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function __(s,a,c,f,g){for(var _=a._reactName,S=[];c!==null&&c!==f;){var M=c,j=M.alternate,G=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&G!==null&&(M=G,g?(j=kt(c,_),j!=null&&S.unshift(su(c,j,M))):g||(j=kt(c,_),j!=null&&S.push(su(c,j,M)))),c=c.return}S.length!==0&&s.push({event:a,listeners:S})}var HC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function w_(s){return(typeof s=="string"?s:""+s).replace(HC,`
`).replace($C,"")}function ld(s,a,c){if(a=w_(a),w_(s)!==a&&c)throw Error(t(425))}function ud(){}var wp=null,Tp=null;function Ep(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Sp=typeof setTimeout=="function"?setTimeout:void 0,YC=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,KC=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(s){return T_.resolve(null).then(s).catch(qC)}:Sp;function qC(s){setTimeout(function(){throw s})}function kp(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),dr(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);dr(a)}function Qi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function E_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var va=Math.random().toString(36).slice(2),Nr="__reactFiber$"+va,ou="__reactProps$"+va,pi="__reactContainer$"+va,xp="__reactEvents$"+va,GC="__reactListeners$"+va,QC="__reactHandles$"+va;function to(s){var a=s[Nr];if(a)return a;for(var c=s.parentNode;c;){if(a=c[pi]||c[Nr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=E_(s);s!==null;){if(c=s[Nr])return c;s=E_(s)}return a}s=c,c=s.parentNode}return null}function au(s){return s=s[Nr]||s[pi],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function _a(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function cd(s){return s[ou]||null}var Ip=[],wa=-1;function Xi(s){return{current:s}}function ct(s){0>wa||(s.current=Ip[wa],Ip[wa]=null,wa--)}function at(s,a){wa++,Ip[wa]=s.current,s.current=a}var Ji={},nn=Xi(Ji),kn=Xi(!1),no=Ji;function Ta(s,a){var c=s.type.contextTypes;if(!c)return Ji;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function xn(s){return s=s.childContextTypes,s!=null}function dd(){ct(kn),ct(nn)}function S_(s,a,c){if(nn.current!==Ji)throw Error(t(168));at(nn,a),at(kn,c)}function k_(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,Ge(s)||"Unknown",g));return le({},c,f)}function hd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ji,no=nn.current,at(nn,s),at(kn,kn.current),!0}function x_(s,a,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=k_(s,a,no),f.__reactInternalMemoizedMergedChildContext=s,ct(kn),ct(nn),at(nn,s)):ct(kn),at(kn,c)}var mi=null,fd=!1,Cp=!1;function I_(s){mi===null?mi=[s]:mi.push(s)}function XC(s){fd=!0,I_(s)}function Zi(){if(!Cp&&mi!==null){Cp=!0;var s=0,a=Be;try{var c=mi;for(Be=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}mi=null,fd=!1}catch(g){throw mi!==null&&(mi=mi.slice(s+1)),ea(Ks,Zi),g}finally{Be=a,Cp=!1}}return null}var Ea=[],Sa=0,pd=null,md=0,Hn=[],$n=0,ro=null,gi=1,yi="";function io(s,a){Ea[Sa++]=md,Ea[Sa++]=pd,pd=s,md=a}function C_(s,a,c){Hn[$n++]=gi,Hn[$n++]=yi,Hn[$n++]=ro,ro=s;var f=gi;s=yi;var g=32-fn(f)-1;f&=~(1<<g),c+=1;var _=32-fn(a)+g;if(30<_){var S=g-g%5;_=(f&(1<<S)-1).toString(32),f>>=S,g-=S,gi=1<<32-fn(a)+g|c<<g|f,yi=_+s}else gi=1<<_|c<<g|f,yi=s}function Dp(s){s.return!==null&&(io(s,1),C_(s,1,0))}function bp(s){for(;s===pd;)pd=Ea[--Sa],Ea[Sa]=null,md=Ea[--Sa],Ea[Sa]=null;for(;s===ro;)ro=Hn[--$n],Hn[$n]=null,yi=Hn[--$n],Hn[$n]=null,gi=Hn[--$n],Hn[$n]=null}var Ln=null,Vn=null,ht=!1,pr=null;function D_(s,a){var c=Gn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function b_(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Ln=s,Vn=Qi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Ln=s,Vn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ro!==null?{id:gi,overflow:yi}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Gn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,Ln=s,Vn=null,!0):!1;default:return!1}}function Pp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ap(s){if(ht){var a=Vn;if(a){var c=a;if(!b_(s,a)){if(Pp(s))throw Error(t(418));a=Qi(c.nextSibling);var f=Ln;a&&b_(s,a)?D_(f,c):(s.flags=s.flags&-4097|2,ht=!1,Ln=s)}}else{if(Pp(s))throw Error(t(418));s.flags=s.flags&-4097|2,ht=!1,Ln=s}}}function P_(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ln=s}function gd(s){if(s!==Ln)return!1;if(!ht)return P_(s),ht=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Ep(s.type,s.memoizedProps)),a&&(a=Vn)){if(Pp(s))throw A_(),Error(t(418));for(;a;)D_(s,a),a=Qi(a.nextSibling)}if(P_(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Vn=Qi(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Vn=null}}else Vn=Ln?Qi(s.stateNode.nextSibling):null;return!0}function A_(){for(var s=Vn;s;)s=Qi(s.nextSibling)}function ka(){Vn=Ln=null,ht=!1}function Rp(s){pr===null?pr=[s]:pr.push(s)}var JC=K.ReactCurrentBatchConfig;function lu(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(S){var M=g.refs;S===null?delete M[_]:M[_]=S},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function yd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function R_(s){var a=s._init;return a(s._payload)}function M_(s){function a($,U){if(s){var Y=$.deletions;Y===null?($.deletions=[U],$.flags|=16):Y.push(U)}}function c($,U){if(!s)return null;for(;U!==null;)a($,U),U=U.sibling;return null}function f($,U){for($=new Map;U!==null;)U.key!==null?$.set(U.key,U):$.set(U.index,U),U=U.sibling;return $}function g($,U){return $=as($,U),$.index=0,$.sibling=null,$}function _($,U,Y){return $.index=Y,s?(Y=$.alternate,Y!==null?(Y=Y.index,Y<U?($.flags|=2,U):Y):($.flags|=2,U)):($.flags|=1048576,U)}function S($){return s&&$.alternate===null&&($.flags|=2),$}function M($,U,Y,oe){return U===null||U.tag!==6?(U=Sm(Y,$.mode,oe),U.return=$,U):(U=g(U,Y),U.return=$,U)}function j($,U,Y,oe){var _e=Y.type;return _e===b?re($,U,Y.props.children,oe,Y.key):U!==null&&(U.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===me&&R_(_e)===U.type)?(oe=g(U,Y.props),oe.ref=lu($,U,Y),oe.return=$,oe):(oe=Bd(Y.type,Y.key,Y.props,null,$.mode,oe),oe.ref=lu($,U,Y),oe.return=$,oe)}function G($,U,Y,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=km(Y,$.mode,oe),U.return=$,U):(U=g(U,Y.children||[]),U.return=$,U)}function re($,U,Y,oe,_e){return U===null||U.tag!==7?(U=fo(Y,$.mode,oe,_e),U.return=$,U):(U=g(U,Y),U.return=$,U)}function se($,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Sm(""+U,$.mode,Y),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return Y=Bd(U.type,U.key,U.props,null,$.mode,Y),Y.ref=lu($,null,U),Y.return=$,Y;case Z:return U=km(U,$.mode,Y),U.return=$,U;case me:var oe=U._init;return se($,oe(U._payload),Y)}if(si(U)||ce(U))return U=fo(U,$.mode,Y,null),U.return=$,U;yd($,U)}return null}function ne($,U,Y,oe){var _e=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return _e!==null?null:M($,U,""+Y,oe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return Y.key===_e?j($,U,Y,oe):null;case Z:return Y.key===_e?G($,U,Y,oe):null;case me:return _e=Y._init,ne($,U,_e(Y._payload),oe)}if(si(Y)||ce(Y))return _e!==null?null:re($,U,Y,oe,null);yd($,Y)}return null}function he($,U,Y,oe,_e){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return $=$.get(Y)||null,M(U,$,""+oe,_e);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Q:return $=$.get(oe.key===null?Y:oe.key)||null,j(U,$,oe,_e);case Z:return $=$.get(oe.key===null?Y:oe.key)||null,G(U,$,oe,_e);case me:var ke=oe._init;return he($,U,Y,ke(oe._payload),_e)}if(si(oe)||ce(oe))return $=$.get(Y)||null,re(U,$,oe,_e,null);yd(U,oe)}return null}function ye($,U,Y,oe){for(var _e=null,ke=null,xe=U,Ae=U=0,$t=null;xe!==null&&Ae<Y.length;Ae++){xe.index>Ae?($t=xe,xe=null):$t=xe.sibling;var qe=ne($,xe,Y[Ae],oe);if(qe===null){xe===null&&(xe=$t);break}s&&xe&&qe.alternate===null&&a($,xe),U=_(qe,U,Ae),ke===null?_e=qe:ke.sibling=qe,ke=qe,xe=$t}if(Ae===Y.length)return c($,xe),ht&&io($,Ae),_e;if(xe===null){for(;Ae<Y.length;Ae++)xe=se($,Y[Ae],oe),xe!==null&&(U=_(xe,U,Ae),ke===null?_e=xe:ke.sibling=xe,ke=xe);return ht&&io($,Ae),_e}for(xe=f($,xe);Ae<Y.length;Ae++)$t=he(xe,$,Ae,Y[Ae],oe),$t!==null&&(s&&$t.alternate!==null&&xe.delete($t.key===null?Ae:$t.key),U=_($t,U,Ae),ke===null?_e=$t:ke.sibling=$t,ke=$t);return s&&xe.forEach(function(ls){return a($,ls)}),ht&&io($,Ae),_e}function ve($,U,Y,oe){var _e=ce(Y);if(typeof _e!="function")throw Error(t(150));if(Y=_e.call(Y),Y==null)throw Error(t(151));for(var ke=_e=null,xe=U,Ae=U=0,$t=null,qe=Y.next();xe!==null&&!qe.done;Ae++,qe=Y.next()){xe.index>Ae?($t=xe,xe=null):$t=xe.sibling;var ls=ne($,xe,qe.value,oe);if(ls===null){xe===null&&(xe=$t);break}s&&xe&&ls.alternate===null&&a($,xe),U=_(ls,U,Ae),ke===null?_e=ls:ke.sibling=ls,ke=ls,xe=$t}if(qe.done)return c($,xe),ht&&io($,Ae),_e;if(xe===null){for(;!qe.done;Ae++,qe=Y.next())qe=se($,qe.value,oe),qe!==null&&(U=_(qe,U,Ae),ke===null?_e=qe:ke.sibling=qe,ke=qe);return ht&&io($,Ae),_e}for(xe=f($,xe);!qe.done;Ae++,qe=Y.next())qe=he(xe,$,Ae,qe.value,oe),qe!==null&&(s&&qe.alternate!==null&&xe.delete(qe.key===null?Ae:qe.key),U=_(qe,U,Ae),ke===null?_e=qe:ke.sibling=qe,ke=qe);return s&&xe.forEach(function(AD){return a($,AD)}),ht&&io($,Ae),_e}function xt($,U,Y,oe){if(typeof Y=="object"&&Y!==null&&Y.type===b&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:e:{for(var _e=Y.key,ke=U;ke!==null;){if(ke.key===_e){if(_e=Y.type,_e===b){if(ke.tag===7){c($,ke.sibling),U=g(ke,Y.props.children),U.return=$,$=U;break e}}else if(ke.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===me&&R_(_e)===ke.type){c($,ke.sibling),U=g(ke,Y.props),U.ref=lu($,ke,Y),U.return=$,$=U;break e}c($,ke);break}else a($,ke);ke=ke.sibling}Y.type===b?(U=fo(Y.props.children,$.mode,oe,Y.key),U.return=$,$=U):(oe=Bd(Y.type,Y.key,Y.props,null,$.mode,oe),oe.ref=lu($,U,Y),oe.return=$,$=oe)}return S($);case Z:e:{for(ke=Y.key;U!==null;){if(U.key===ke)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){c($,U.sibling),U=g(U,Y.children||[]),U.return=$,$=U;break e}else{c($,U);break}else a($,U);U=U.sibling}U=km(Y,$.mode,oe),U.return=$,$=U}return S($);case me:return ke=Y._init,xt($,U,ke(Y._payload),oe)}if(si(Y))return ye($,U,Y,oe);if(ce(Y))return ve($,U,Y,oe);yd($,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,U!==null&&U.tag===6?(c($,U.sibling),U=g(U,Y),U.return=$,$=U):(c($,U),U=Sm(Y,$.mode,oe),U.return=$,$=U),S($)):c($,U)}return xt}var xa=M_(!0),N_=M_(!1),vd=Xi(null),_d=null,Ia=null,Mp=null;function Np(){Mp=Ia=_d=null}function Op(s){var a=vd.current;ct(vd),s._currentValue=a}function Lp(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Ca(s,a){_d=s,Mp=Ia=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(In=!0),s.firstContext=null)}function Yn(s){var a=s._currentValue;if(Mp!==s)if(s={context:s,memoizedValue:a,next:null},Ia===null){if(_d===null)throw Error(t(308));Ia=s,_d.dependencies={lanes:0,firstContext:s}}else Ia=Ia.next=s;return a}var so=null;function Vp(s){so===null?so=[s]:so.push(s)}function O_(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,Vp(a)):(c.next=g.next,g.next=c),a.interleaved=c,vi(s,f)}function vi(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var es=!1;function Fp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function L_(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function _i(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ts(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,($e&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,vi(s,c)}return g=f.interleaved,g===null?(a.next=a,Vp(f)):(a.next=g.next,g.next=a),f.interleaved=a,vi(s,c)}function wd(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Hi(s,c)}}function V_(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=S:_=_.next=S,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Td(s,a,c,f){var g=s.updateQueue;es=!1;var _=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var j=M,G=j.next;j.next=null,S===null?_=G:S.next=G,S=j;var re=s.alternate;re!==null&&(re=re.updateQueue,M=re.lastBaseUpdate,M!==S&&(M===null?re.firstBaseUpdate=G:M.next=G,re.lastBaseUpdate=j))}if(_!==null){var se=g.baseState;S=0,re=G=j=null,M=_;do{var ne=M.lane,he=M.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:he,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var ye=s,ve=M;switch(ne=a,he=c,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){se=ye.call(he,se,ne);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ne=typeof ye=="function"?ye.call(he,se,ne):ye,ne==null)break e;se=le({},se,ne);break e;case 2:es=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,ne=g.effects,ne===null?g.effects=[M]:ne.push(M))}else he={eventTime:he,lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},re===null?(G=re=he,j=se):re=re.next=he,S|=ne;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;ne=M,M=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);if(re===null&&(j=se),g.baseState=j,g.firstBaseUpdate=G,g.lastBaseUpdate=re,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);lo|=S,s.lanes=S,s.memoizedState=se}}function F_(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var uu={},Or=Xi(uu),cu=Xi(uu),du=Xi(uu);function oo(s){if(s===uu)throw Error(t(174));return s}function jp(s,a){switch(at(du,a),at(cu,s),at(Or,uu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Nt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Nt(a,s)}ct(Or),at(Or,a)}function Da(){ct(Or),ct(cu),ct(du)}function j_(s){oo(du.current);var a=oo(Or.current),c=Nt(a,s.type);a!==c&&(at(cu,s),at(Or,c))}function Up(s){cu.current===s&&(ct(Or),ct(cu))}var gt=Xi(0);function Ed(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Bp=[];function zp(){for(var s=0;s<Bp.length;s++)Bp[s]._workInProgressVersionPrimary=null;Bp.length=0}var Sd=K.ReactCurrentDispatcher,Wp=K.ReactCurrentBatchConfig,ao=0,yt=null,Lt=null,Wt=null,kd=!1,hu=!1,fu=0,ZC=0;function rn(){throw Error(t(321))}function Hp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!fr(s[c],a[c]))return!1;return!0}function $p(s,a,c,f,g,_){if(ao=_,yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Sd.current=s===null||s.memoizedState===null?rD:iD,s=c(f,g),hu){_=0;do{if(hu=!1,fu=0,25<=_)throw Error(t(301));_+=1,Wt=Lt=null,a.updateQueue=null,Sd.current=sD,s=c(f,g)}while(hu)}if(Sd.current=Cd,a=Lt!==null&&Lt.next!==null,ao=0,Wt=Lt=yt=null,kd=!1,a)throw Error(t(300));return s}function Yp(){var s=fu!==0;return fu=0,s}function Lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?yt.memoizedState=Wt=s:Wt=Wt.next=s,Wt}function Kn(){if(Lt===null){var s=yt.alternate;s=s!==null?s.memoizedState:null}else s=Lt.next;var a=Wt===null?yt.memoizedState:Wt.next;if(a!==null)Wt=a,Lt=s;else{if(s===null)throw Error(t(310));Lt=s,s={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Wt===null?yt.memoizedState=Wt=s:Wt=Wt.next=s}return Wt}function pu(s,a){return typeof a=="function"?a(s):a}function Kp(s){var a=Kn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Lt,g=f.baseQueue,_=c.pending;if(_!==null){if(g!==null){var S=g.next;g.next=_.next,_.next=S}f.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,f=f.baseState;var M=S=null,j=null,G=_;do{var re=G.lane;if((ao&re)===re)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:s(f,G.action);else{var se={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(M=j=se,S=f):j=j.next=se,yt.lanes|=re,lo|=re}G=G.next}while(G!==null&&G!==_);j===null?S=f:j.next=M,fr(f,a.memoizedState)||(In=!0),a.memoizedState=f,a.baseState=S,a.baseQueue=j,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do _=g.lane,yt.lanes|=_,lo|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function qp(s){var a=Kn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do _=s(_,S.action),S=S.next;while(S!==g);fr(_,a.memoizedState)||(In=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,f]}function U_(){}function B_(s,a){var c=yt,f=Kn(),g=a(),_=!fr(f.memoizedState,g);if(_&&(f.memoizedState=g,In=!0),f=f.queue,Gp(H_.bind(null,c,f,s),[s]),f.getSnapshot!==a||_||Wt!==null&&Wt.memoizedState.tag&1){if(c.flags|=2048,mu(9,W_.bind(null,c,f,g,a),void 0,null),Ht===null)throw Error(t(349));(ao&30)!==0||z_(c,a,g)}return g}function z_(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function W_(s,a,c,f){a.value=c,a.getSnapshot=f,$_(a)&&Y_(s)}function H_(s,a,c){return c(function(){$_(a)&&Y_(s)})}function $_(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!fr(s,c)}catch{return!0}}function Y_(s){var a=vi(s,1);a!==null&&vr(a,s,1,-1)}function K_(s){var a=Lr();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pu,lastRenderedState:s},a.queue=s,s=s.dispatch=nD.bind(null,yt,s),[a.memoizedState,s]}function mu(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=yt.updateQueue,a===null?(a={lastEffect:null,stores:null},yt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function q_(){return Kn().memoizedState}function xd(s,a,c,f){var g=Lr();yt.flags|=s,g.memoizedState=mu(1|a,c,void 0,f===void 0?null:f)}function Id(s,a,c,f){var g=Kn();f=f===void 0?null:f;var _=void 0;if(Lt!==null){var S=Lt.memoizedState;if(_=S.destroy,f!==null&&Hp(f,S.deps)){g.memoizedState=mu(a,c,_,f);return}}yt.flags|=s,g.memoizedState=mu(1|a,c,_,f)}function G_(s,a){return xd(8390656,8,s,a)}function Gp(s,a){return Id(2048,8,s,a)}function Q_(s,a){return Id(4,2,s,a)}function X_(s,a){return Id(4,4,s,a)}function J_(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Z_(s,a,c){return c=c!=null?c.concat([s]):null,Id(4,4,J_.bind(null,a,s),c)}function Qp(){}function e0(s,a){var c=Kn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Hp(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function t0(s,a){var c=Kn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Hp(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function n0(s,a,c){return(ao&21)===0?(s.baseState&&(s.baseState=!1,In=!0),s.memoizedState=c):(fr(c,a)||(c=Qs(),yt.lanes|=c,lo|=c,s.baseState=!0),a)}function eD(s,a){var c=Be;Be=c!==0&&4>c?c:4,s(!0);var f=Wp.transition;Wp.transition={};try{s(!1),a()}finally{Be=c,Wp.transition=f}}function r0(){return Kn().memoizedState}function tD(s,a,c){var f=ss(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},i0(s))s0(a,c);else if(c=O_(s,a,c,f),c!==null){var g=gn();vr(c,s,f,g),o0(c,a,f)}}function nD(s,a,c){var f=ss(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(i0(s))s0(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var S=a.lastRenderedState,M=_(S,c);if(g.hasEagerState=!0,g.eagerState=M,fr(M,S)){var j=a.interleaved;j===null?(g.next=g,Vp(a)):(g.next=j.next,j.next=g),a.interleaved=g;return}}catch{}finally{}c=O_(s,a,g,f),c!==null&&(g=gn(),vr(c,s,f,g),o0(c,a,f))}}function i0(s){var a=s.alternate;return s===yt||a!==null&&a===yt}function s0(s,a){hu=kd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function o0(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Hi(s,c)}}var Cd={readContext:Yn,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},rD={readContext:Yn,useCallback:function(s,a){return Lr().memoizedState=[s,a===void 0?null:a],s},useContext:Yn,useEffect:G_,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,xd(4194308,4,J_.bind(null,a,s),c)},useLayoutEffect:function(s,a){return xd(4194308,4,s,a)},useInsertionEffect:function(s,a){return xd(4,2,s,a)},useMemo:function(s,a){var c=Lr();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=Lr();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=tD.bind(null,yt,s),[f.memoizedState,s]},useRef:function(s){var a=Lr();return s={current:s},a.memoizedState=s},useState:K_,useDebugValue:Qp,useDeferredValue:function(s){return Lr().memoizedState=s},useTransition:function(){var s=K_(!1),a=s[0];return s=eD.bind(null,s[1]),Lr().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=yt,g=Lr();if(ht){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Ht===null)throw Error(t(349));(ao&30)!==0||z_(f,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,G_(H_.bind(null,f,_,s),[s]),f.flags|=2048,mu(9,W_.bind(null,f,_,c,a),void 0,null),c},useId:function(){var s=Lr(),a=Ht.identifierPrefix;if(ht){var c=yi,f=gi;c=(f&~(1<<32-fn(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=fu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=ZC++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},iD={readContext:Yn,useCallback:e0,useContext:Yn,useEffect:Gp,useImperativeHandle:Z_,useInsertionEffect:Q_,useLayoutEffect:X_,useMemo:t0,useReducer:Kp,useRef:q_,useState:function(){return Kp(pu)},useDebugValue:Qp,useDeferredValue:function(s){var a=Kn();return n0(a,Lt.memoizedState,s)},useTransition:function(){var s=Kp(pu)[0],a=Kn().memoizedState;return[s,a]},useMutableSource:U_,useSyncExternalStore:B_,useId:r0,unstable_isNewReconciler:!1},sD={readContext:Yn,useCallback:e0,useContext:Yn,useEffect:Gp,useImperativeHandle:Z_,useInsertionEffect:Q_,useLayoutEffect:X_,useMemo:t0,useReducer:qp,useRef:q_,useState:function(){return qp(pu)},useDebugValue:Qp,useDeferredValue:function(s){var a=Kn();return Lt===null?a.memoizedState=s:n0(a,Lt.memoizedState,s)},useTransition:function(){var s=qp(pu)[0],a=Kn().memoizedState;return[s,a]},useMutableSource:U_,useSyncExternalStore:B_,useId:r0,unstable_isNewReconciler:!1};function mr(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Xp(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:le({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Dd={isMounted:function(s){return(s=s._reactInternals)?or(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=gn(),g=ss(s),_=_i(f,g);_.payload=a,c!=null&&(_.callback=c),a=ts(s,_,g),a!==null&&(vr(a,s,g,f),wd(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=gn(),g=ss(s),_=_i(f,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=ts(s,_,g),a!==null&&(vr(a,s,g,f),wd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=gn(),f=ss(s),g=_i(c,f);g.tag=2,a!=null&&(g.callback=a),a=ts(s,g,f),a!==null&&(vr(a,s,f,c),wd(a,s,f))}};function a0(s,a,c,f,g,_,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,S):a.prototype&&a.prototype.isPureReactComponent?!tu(c,f)||!tu(g,_):!0}function l0(s,a,c){var f=!1,g=Ji,_=a.contextType;return typeof _=="object"&&_!==null?_=Yn(_):(g=xn(a)?no:nn.current,f=a.contextTypes,_=(f=f!=null)?Ta(s,g):Ji),a=new a(c,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Dd,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function u0(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Dd.enqueueReplaceState(a,a.state,null)}function Jp(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Fp(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Yn(_):(_=xn(a)?no:nn.current,g.context=Ta(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xp(s,a,_,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Dd.enqueueReplaceState(g,g.state,null),Td(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ba(s,a){try{var c="",f=a;do c+=Ve(f),f=f.return;while(f);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function Zp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function em(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var oD=typeof WeakMap=="function"?WeakMap:Map;function c0(s,a,c){c=_i(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){Od||(Od=!0,mm=f),em(s,a)},c}function d0(s,a,c){c=_i(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){em(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){em(s,a),typeof f!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),c}function h0(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new oD;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=wD.bind(null,s,a,c),a.then(s,s))}function f0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function p0(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=_i(-1,1),a.tag=2,ts(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var aD=K.ReactCurrentOwner,In=!1;function mn(s,a,c,f){a.child=s===null?N_(a,null,c,f):xa(a,s.child,c,f)}function m0(s,a,c,f,g){c=c.render;var _=a.ref;return Ca(a,g),f=$p(s,a,c,f,_,g),c=Yp(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,wi(s,a,g)):(ht&&c&&Dp(a),a.flags|=1,mn(s,a,f,g),a.child)}function g0(s,a,c,f,g){if(s===null){var _=c.type;return typeof _=="function"&&!Em(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,y0(s,a,_,f,g)):(s=Bd(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var S=_.memoizedProps;if(c=c.compare,c=c!==null?c:tu,c(S,f)&&s.ref===a.ref)return wi(s,a,g)}return a.flags|=1,s=as(_,f),s.ref=a.ref,s.return=a,a.child=s}function y0(s,a,c,f,g){if(s!==null){var _=s.memoizedProps;if(tu(_,f)&&s.ref===a.ref)if(In=!1,a.pendingProps=f=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(In=!0);else return a.lanes=s.lanes,wi(s,a,g)}return tm(s,a,c,f,g)}function v0(s,a,c){var f=a.pendingProps,g=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Aa,Fn),Fn|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,at(Aa,Fn),Fn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:c,at(Aa,Fn),Fn|=f}else _!==null?(f=_.baseLanes|c,a.memoizedState=null):f=c,at(Aa,Fn),Fn|=f;return mn(s,a,g,c),a.child}function _0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function tm(s,a,c,f,g){var _=xn(c)?no:nn.current;return _=Ta(a,_),Ca(a,g),c=$p(s,a,c,f,_,g),f=Yp(),s!==null&&!In?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,wi(s,a,g)):(ht&&f&&Dp(a),a.flags|=1,mn(s,a,c,g),a.child)}function w0(s,a,c,f,g){if(xn(c)){var _=!0;hd(a)}else _=!1;if(Ca(a,g),a.stateNode===null)Pd(s,a),l0(a,c,f),Jp(a,c,f,g),f=!0;else if(s===null){var S=a.stateNode,M=a.memoizedProps;S.props=M;var j=S.context,G=c.contextType;typeof G=="object"&&G!==null?G=Yn(G):(G=xn(c)?no:nn.current,G=Ta(a,G));var re=c.getDerivedStateFromProps,se=typeof re=="function"||typeof S.getSnapshotBeforeUpdate=="function";se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==f||j!==G)&&u0(a,S,f,G),es=!1;var ne=a.memoizedState;S.state=ne,Td(a,f,S,g),j=a.memoizedState,M!==f||ne!==j||kn.current||es?(typeof re=="function"&&(Xp(a,c,re,f),j=a.memoizedState),(M=es||a0(a,c,M,f,ne,j,G))?(se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=j),S.props=f,S.state=j,S.context=G,f=M):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{S=a.stateNode,L_(s,a),M=a.memoizedProps,G=a.type===a.elementType?M:mr(a.type,M),S.props=G,se=a.pendingProps,ne=S.context,j=c.contextType,typeof j=="object"&&j!==null?j=Yn(j):(j=xn(c)?no:nn.current,j=Ta(a,j));var he=c.getDerivedStateFromProps;(re=typeof he=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==se||ne!==j)&&u0(a,S,f,j),es=!1,ne=a.memoizedState,S.state=ne,Td(a,f,S,g);var ye=a.memoizedState;M!==se||ne!==ye||kn.current||es?(typeof he=="function"&&(Xp(a,c,he,f),ye=a.memoizedState),(G=es||a0(a,c,G,f,ne,ye,j)||!1)?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,ye,j),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,ye,j)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ye),S.props=f,S.state=ye,S.context=j,f=G):(typeof S.componentDidUpdate!="function"||M===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),f=!1)}return nm(s,a,c,f,_,g)}function nm(s,a,c,f,g,_){_0(s,a);var S=(a.flags&128)!==0;if(!f&&!S)return g&&x_(a,c,!1),wi(s,a,_);f=a.stateNode,aD.current=a;var M=S&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&S?(a.child=xa(a,s.child,null,_),a.child=xa(a,null,M,_)):mn(s,a,M,_),a.memoizedState=f.state,g&&x_(a,c,!0),a.child}function T0(s){var a=s.stateNode;a.pendingContext?S_(s,a.pendingContext,a.pendingContext!==a.context):a.context&&S_(s,a.context,!1),jp(s,a.containerInfo)}function E0(s,a,c,f,g){return ka(),Rp(g),a.flags|=256,mn(s,a,c,f),a.child}var rm={dehydrated:null,treeContext:null,retryLane:0};function im(s){return{baseLanes:s,cachePool:null,transitions:null}}function S0(s,a,c){var f=a.pendingProps,g=gt.current,_=!1,S=(a.flags&128)!==0,M;if((M=S)||(M=s!==null&&s.memoizedState===null?!1:(g&2)!==0),M?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),at(gt,g&1),s===null)return Ap(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=f.children,s=f.fallback,_?(f=a.mode,_=a.child,S={mode:"hidden",children:S},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=S):_=zd(S,f,0,null),s=fo(s,f,c,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=im(c),a.memoizedState=rm,s):sm(a,S));if(g=s.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return lD(s,a,S,f,M,g,c);if(_){_=f.fallback,S=a.mode,g=s.child,M=g.sibling;var j={mode:"hidden",children:f.children};return(S&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=j,a.deletions=null):(f=as(g,j),f.subtreeFlags=g.subtreeFlags&14680064),M!==null?_=as(M,_):(_=fo(_,S,c,null),_.flags|=2),_.return=a,f.return=a,f.sibling=_,a.child=f,f=_,_=a.child,S=s.child.memoizedState,S=S===null?im(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},_.memoizedState=S,_.childLanes=s.childLanes&~c,a.memoizedState=rm,f}return _=s.child,s=_.sibling,f=as(_,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function sm(s,a){return a=zd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function bd(s,a,c,f){return f!==null&&Rp(f),xa(a,s.child,null,c),s=sm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function lD(s,a,c,f,g,_,S){if(c)return a.flags&256?(a.flags&=-257,f=Zp(Error(t(422))),bd(s,a,S,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=f.fallback,g=a.mode,f=zd({mode:"visible",children:f.children},g,0,null),_=fo(_,g,S,null),_.flags|=2,f.return=a,_.return=a,f.sibling=_,a.child=f,(a.mode&1)!==0&&xa(a,s.child,null,S),a.child.memoizedState=im(S),a.memoizedState=rm,_);if((a.mode&1)===0)return bd(s,a,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var M=f.dgst;return f=M,_=Error(t(419)),f=Zp(_,f,void 0),bd(s,a,S,f)}if(M=(S&s.childLanes)!==0,In||M){if(f=Ht,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,vi(s,g),vr(f,s,g,-1))}return Tm(),f=Zp(Error(t(421))),bd(s,a,S,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=TD.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,Vn=Qi(g.nextSibling),Ln=a,ht=!0,pr=null,s!==null&&(Hn[$n++]=gi,Hn[$n++]=yi,Hn[$n++]=ro,gi=s.id,yi=s.overflow,ro=a),a=sm(a,f.children),a.flags|=4096,a)}function k0(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Lp(s.return,a,c)}function om(s,a,c,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=c,_.tailMode=g)}function x0(s,a,c){var f=a.pendingProps,g=f.revealOrder,_=f.tail;if(mn(s,a,f.children,c),f=gt.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&k0(s,c,a);else if(s.tag===19)k0(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(at(gt,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Ed(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),om(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Ed(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}om(a,!0,c,null,_);break;case"together":om(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Pd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function wi(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),lo|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=as(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=as(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function uD(s,a,c){switch(a.tag){case 3:T0(a),ka();break;case 5:j_(a);break;case 1:xn(a.type)&&hd(a);break;case 4:jp(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;at(vd,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(at(gt,gt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?S0(s,a,c):(at(gt,gt.current&1),s=wi(s,a,c),s!==null?s.sibling:null);at(gt,gt.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return x0(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),at(gt,gt.current),f)break;return null;case 22:case 23:return a.lanes=0,v0(s,a,c)}return wi(s,a,c)}var I0,am,C0,D0;I0=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},am=function(){},C0=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,oo(Or.current);var _=null;switch(c){case"input":g=js(s,g),f=js(s,f),_=[];break;case"select":g=le({},g,{value:void 0}),f=le({},f,{value:void 0}),_=[];break;case"textarea":g=Pl(s,g),f=Pl(s,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=ud)}Ll(c,f);var S;c=null;for(G in g)if(!f.hasOwnProperty(G)&&g.hasOwnProperty(G)&&g[G]!=null)if(G==="style"){var M=g[G];for(S in M)M.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?_||(_=[]):(_=_||[]).push(G,null));for(G in f){var j=f[G];if(M=g!=null?g[G]:void 0,f.hasOwnProperty(G)&&j!==M&&(j!=null||M!=null))if(G==="style")if(M){for(S in M)!M.hasOwnProperty(S)||j&&j.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in j)j.hasOwnProperty(S)&&M[S]!==j[S]&&(c||(c={}),c[S]=j[S])}else c||(_||(_=[]),_.push(G,c)),c=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(_=_||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(_=_||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&ut("scroll",s),_||M===j||(_=[])):(_=_||[]).push(G,j))}c&&(_=_||[]).push("style",c);var G=_;(a.updateQueue=G)&&(a.flags|=4)}},D0=function(s,a,c,f){c!==f&&(a.flags|=4)};function gu(s,a){if(!ht)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function sn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function cD(s,a,c){var f=a.pendingProps;switch(bp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(a),null;case 1:return xn(a.type)&&dd(),sn(a),null;case 3:return f=a.stateNode,Da(),ct(kn),ct(nn),zp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(gd(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pr!==null&&(vm(pr),pr=null))),am(s,a),sn(a),null;case 5:Up(a);var g=oo(du.current);if(c=a.type,s!==null&&a.stateNode!=null)C0(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return sn(a),null}if(s=oo(Or.current),gd(a)){f=a.stateNode,c=a.type;var _=a.memoizedProps;switch(f[Nr]=a,f[ou]=_,s=(a.mode&1)!==0,c){case"dialog":ut("cancel",f),ut("close",f);break;case"iframe":case"object":case"embed":ut("load",f);break;case"video":case"audio":for(g=0;g<ru.length;g++)ut(ru[g],f);break;case"source":ut("error",f);break;case"img":case"image":case"link":ut("error",f),ut("load",f);break;case"details":ut("toggle",f);break;case"input":Wo(f,_),ut("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},ut("invalid",f);break;case"textarea":$o(f,_),ut("invalid",f)}Ll(c,_),g=null;for(var S in _)if(_.hasOwnProperty(S)){var M=_[S];S==="children"?typeof M=="string"?f.textContent!==M&&(_.suppressHydrationWarning!==!0&&ld(f.textContent,M,s),g=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(_.suppressHydrationWarning!==!0&&ld(f.textContent,M,s),g=["children",""+M]):i.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&ut("scroll",f)}switch(c){case"input":ii(f),Nc(f,_,!0);break;case"textarea":ii(f),Al(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=ud)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Mt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(c,{is:f.is}):(s=S.createElement(c),c==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,c),s[Nr]=a,s[ou]=f,I0(s,a,!1,!1),a.stateNode=s;e:{switch(S=Vl(c,f),c){case"dialog":ut("cancel",s),ut("close",s),g=f;break;case"iframe":case"object":case"embed":ut("load",s),g=f;break;case"video":case"audio":for(g=0;g<ru.length;g++)ut(ru[g],s);g=f;break;case"source":ut("error",s),g=f;break;case"img":case"image":case"link":ut("error",s),ut("load",s),g=f;break;case"details":ut("toggle",s),g=f;break;case"input":Wo(s,f),g=js(s,f),ut("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=le({},f,{value:void 0}),ut("invalid",s);break;case"textarea":$o(s,f),g=Pl(s,f),ut("invalid",s);break;default:g=f}Ll(c,g),M=g;for(_ in M)if(M.hasOwnProperty(_)){var j=M[_];_==="style"?Nl(s,j):_==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Rl(s,j)):_==="children"?typeof j=="string"?(c!=="textarea"||j!=="")&&ji(s,j):typeof j=="number"&&ji(s,""+j):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?j!=null&&_==="onScroll"&&ut("scroll",s):j!=null&&L(s,_,j,S))}switch(c){case"input":ii(s),Nc(s,f,!1);break;case"textarea":ii(s),Al(s);break;case"option":f.value!=null&&s.setAttribute("value",""+Qe(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?oi(s,!!f.multiple,_,!1):f.defaultValue!=null&&oi(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=ud)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return sn(a),null;case 6:if(s&&a.stateNode!=null)D0(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=oo(du.current),oo(Or.current),gd(a)){if(f=a.stateNode,c=a.memoizedProps,f[Nr]=a,(_=f.nodeValue!==c)&&(s=Ln,s!==null))switch(s.tag){case 3:ld(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ld(f.nodeValue,c,(s.mode&1)!==0)}_&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Nr]=a,a.stateNode=f}return sn(a),null;case 13:if(ct(gt),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ht&&Vn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)A_(),ka(),a.flags|=98560,_=!1;else if(_=gd(a),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[Nr]=a}else ka(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;sn(a),_=!1}else pr!==null&&(vm(pr),pr=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(gt.current&1)!==0?Vt===0&&(Vt=3):Tm())),a.updateQueue!==null&&(a.flags|=4),sn(a),null);case 4:return Da(),am(s,a),s===null&&iu(a.stateNode.containerInfo),sn(a),null;case 10:return Op(a.type._context),sn(a),null;case 17:return xn(a.type)&&dd(),sn(a),null;case 19:if(ct(gt),_=a.memoizedState,_===null)return sn(a),null;if(f=(a.flags&128)!==0,S=_.rendering,S===null)if(f)gu(_,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Ed(s),S!==null){for(a.flags|=128,gu(_,!1),f=S.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)_=c,s=f,_.flags&=14680066,S=_.alternate,S===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=S.childLanes,_.lanes=S.lanes,_.child=S.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=S.memoizedProps,_.memoizedState=S.memoizedState,_.updateQueue=S.updateQueue,_.type=S.type,s=S.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return at(gt,gt.current&1|2),a.child}s=s.sibling}_.tail!==null&&ot()>Ra&&(a.flags|=128,f=!0,gu(_,!1),a.lanes=4194304)}else{if(!f)if(s=Ed(S),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),gu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!S.alternate&&!ht)return sn(a),null}else 2*ot()-_.renderingStartTime>Ra&&c!==1073741824&&(a.flags|=128,f=!0,gu(_,!1),a.lanes=4194304);_.isBackwards?(S.sibling=a.child,a.child=S):(c=_.last,c!==null?c.sibling=S:a.child=S,_.last=S)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=ot(),a.sibling=null,c=gt.current,at(gt,f?c&1|2:c&1),a):(sn(a),null);case 22:case 23:return wm(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(Fn&1073741824)!==0&&(sn(a),a.subtreeFlags&6&&(a.flags|=8192)):sn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function dD(s,a){switch(bp(a),a.tag){case 1:return xn(a.type)&&dd(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Da(),ct(kn),ct(nn),zp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Up(a),null;case 13:if(ct(gt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));ka()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ct(gt),null;case 4:return Da(),null;case 10:return Op(a.type._context),null;case 22:case 23:return wm(),null;case 24:return null;default:return null}}var Ad=!1,on=!1,hD=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Pa(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Tt(s,a,f)}else c.current=null}function lm(s,a,c){try{c()}catch(f){Tt(s,a,f)}}var b0=!1;function fD(s,a){if(wp=Ki,s=a_(),hp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var S=0,M=-1,j=-1,G=0,re=0,se=s,ne=null;t:for(;;){for(var he;se!==c||g!==0&&se.nodeType!==3||(M=S+g),se!==_||f!==0&&se.nodeType!==3||(j=S+f),se.nodeType===3&&(S+=se.nodeValue.length),(he=se.firstChild)!==null;)ne=se,se=he;for(;;){if(se===s)break t;if(ne===c&&++G===g&&(M=S),ne===_&&++re===f&&(j=S),(he=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=he}c=M===-1||j===-1?null:{start:M,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(Tp={focusedElem:s,selectionRange:c},Ki=!1,ge=a;ge!==null;)if(a=ge,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,ge=s;else for(;ge!==null;){a=ge;try{var ye=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,xt=ye.memoizedState,$=a.stateNode,U=$.getSnapshotBeforeUpdate(a.elementType===a.type?ve:mr(a.type,ve),xt);$.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){Tt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,ge=s;break}ge=a.return}return ye=b0,b0=!1,ye}function yu(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&lm(a,c,_)}g=g.next}while(g!==f)}}function Rd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function um(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function P0(s){var a=s.alternate;a!==null&&(s.alternate=null,P0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Nr],delete a[ou],delete a[xp],delete a[GC],delete a[QC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function A0(s){return s.tag===5||s.tag===3||s.tag===4}function R0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||A0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=ud));else if(f!==4&&(s=s.child,s!==null))for(cm(s,a,c),s=s.sibling;s!==null;)cm(s,a,c),s=s.sibling}function dm(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(dm(s,a,c),s=s.sibling;s!==null;)dm(s,a,c),s=s.sibling}var Qt=null,gr=!1;function ns(s,a,c){for(c=c.child;c!==null;)M0(s,a,c),c=c.sibling}function M0(s,a,c){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(qs,c)}catch{}switch(c.tag){case 5:on||Pa(c,a);case 6:var f=Qt,g=gr;Qt=null,ns(s,a,c),Qt=f,gr=g,Qt!==null&&(gr?(s=Qt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Qt.removeChild(c.stateNode));break;case 18:Qt!==null&&(gr?(s=Qt,c=c.stateNode,s.nodeType===8?kp(s.parentNode,c):s.nodeType===1&&kp(s,c),dr(s)):kp(Qt,c.stateNode));break;case 4:f=Qt,g=gr,Qt=c.stateNode.containerInfo,gr=!0,ns(s,a,c),Qt=f,gr=g;break;case 0:case 11:case 14:case 15:if(!on&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,S=_.destroy;_=_.tag,S!==void 0&&((_&2)!==0||(_&4)!==0)&&lm(c,a,S),g=g.next}while(g!==f)}ns(s,a,c);break;case 1:if(!on&&(Pa(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(M){Tt(c,a,M)}ns(s,a,c);break;case 21:ns(s,a,c);break;case 22:c.mode&1?(on=(f=on)||c.memoizedState!==null,ns(s,a,c),on=f):ns(s,a,c);break;default:ns(s,a,c)}}function N0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new hD),a.forEach(function(f){var g=ED.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function yr(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var _=s,S=a,M=S;e:for(;M!==null;){switch(M.tag){case 5:Qt=M.stateNode,gr=!1;break e;case 3:Qt=M.stateNode.containerInfo,gr=!0;break e;case 4:Qt=M.stateNode.containerInfo,gr=!0;break e}M=M.return}if(Qt===null)throw Error(t(160));M0(_,S,g),Qt=null,gr=!1;var j=g.alternate;j!==null&&(j.return=null),g.return=null}catch(G){Tt(g,a,G)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)O0(a,s),a=a.sibling}function O0(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(yr(a,s),Vr(s),f&4){try{yu(3,s,s.return),Rd(3,s)}catch(ve){Tt(s,s.return,ve)}try{yu(5,s,s.return)}catch(ve){Tt(s,s.return,ve)}}break;case 1:yr(a,s),Vr(s),f&512&&c!==null&&Pa(c,c.return);break;case 5:if(yr(a,s),Vr(s),f&512&&c!==null&&Pa(c,c.return),s.flags&32){var g=s.stateNode;try{ji(g,"")}catch(ve){Tt(s,s.return,ve)}}if(f&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,S=c!==null?c.memoizedProps:_,M=s.type,j=s.updateQueue;if(s.updateQueue=null,j!==null)try{M==="input"&&_.type==="radio"&&_.name!=null&&Dl(g,_),Vl(M,S);var G=Vl(M,_);for(S=0;S<j.length;S+=2){var re=j[S],se=j[S+1];re==="style"?Nl(g,se):re==="dangerouslySetInnerHTML"?Rl(g,se):re==="children"?ji(g,se):L(g,re,se,G)}switch(M){case"input":bl(g,_);break;case"textarea":Yo(g,_);break;case"select":var ne=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var he=_.value;he!=null?oi(g,!!_.multiple,he,!1):ne!==!!_.multiple&&(_.defaultValue!=null?oi(g,!!_.multiple,_.defaultValue,!0):oi(g,!!_.multiple,_.multiple?[]:"",!1))}g[ou]=_}catch(ve){Tt(s,s.return,ve)}}break;case 6:if(yr(a,s),Vr(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(ve){Tt(s,s.return,ve)}}break;case 3:if(yr(a,s),Vr(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{dr(a.containerInfo)}catch(ve){Tt(s,s.return,ve)}break;case 4:yr(a,s),Vr(s);break;case 13:yr(a,s),Vr(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(pm=ot())),f&4&&N0(s);break;case 22:if(re=c!==null&&c.memoizedState!==null,s.mode&1?(on=(G=on)||re,yr(a,s),on=G):yr(a,s),Vr(s),f&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!re&&(s.mode&1)!==0)for(ge=s,re=s.child;re!==null;){for(se=ge=re;ge!==null;){switch(ne=ge,he=ne.child,ne.tag){case 0:case 11:case 14:case 15:yu(4,ne,ne.return);break;case 1:Pa(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){f=ne,c=ne.return;try{a=f,ye.props=a.memoizedProps,ye.state=a.memoizedState,ye.componentWillUnmount()}catch(ve){Tt(f,c,ve)}}break;case 5:Pa(ne,ne.return);break;case 22:if(ne.memoizedState!==null){F0(se);continue}}he!==null?(he.return=ne,ge=he):F0(se)}re=re.sibling}e:for(re=null,se=s;;){if(se.tag===5){if(re===null){re=se;try{g=se.stateNode,G?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(M=se.stateNode,j=se.memoizedProps.style,S=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=Ml("display",S))}catch(ve){Tt(s,s.return,ve)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=G?"":se.memoizedProps}catch(ve){Tt(s,s.return,ve)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===s)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===s)break e;for(;se.sibling===null;){if(se.return===null||se.return===s)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:yr(a,s),Vr(s),f&4&&N0(s);break;case 21:break;default:yr(a,s),Vr(s)}}function Vr(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(A0(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(ji(g,""),f.flags&=-33);var _=R0(s);dm(s,_,g);break;case 3:case 4:var S=f.stateNode.containerInfo,M=R0(s);cm(s,M,S);break;default:throw Error(t(161))}}catch(j){Tt(s,s.return,j)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function pD(s,a,c){ge=s,L0(s)}function L0(s,a,c){for(var f=(s.mode&1)!==0;ge!==null;){var g=ge,_=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Ad;if(!S){var M=g.alternate,j=M!==null&&M.memoizedState!==null||on;M=Ad;var G=on;if(Ad=S,(on=j)&&!G)for(ge=g;ge!==null;)S=ge,j=S.child,S.tag===22&&S.memoizedState!==null?j0(g):j!==null?(j.return=S,ge=j):j0(g);for(;_!==null;)ge=_,L0(_),_=_.sibling;ge=g,Ad=M,on=G}V0(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,ge=_):V0(s)}}function V0(s){for(;ge!==null;){var a=ge;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:on||Rd(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!on)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:mr(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&F_(a,_,f);break;case 3:var S=a.updateQueue;if(S!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}F_(a,S,c)}break;case 5:var M=a.stateNode;if(c===null&&a.flags&4){c=M;var j=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&c.focus();break;case"img":j.src&&(c.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var G=a.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&dr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}on||a.flags&512&&um(a)}catch(ne){Tt(a,a.return,ne)}}if(a===s){ge=null;break}if(c=a.sibling,c!==null){c.return=a.return,ge=c;break}ge=a.return}}function F0(s){for(;ge!==null;){var a=ge;if(a===s){ge=null;break}var c=a.sibling;if(c!==null){c.return=a.return,ge=c;break}ge=a.return}}function j0(s){for(;ge!==null;){var a=ge;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Rd(4,a)}catch(j){Tt(a,c,j)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(j){Tt(a,g,j)}}var _=a.return;try{um(a)}catch(j){Tt(a,_,j)}break;case 5:var S=a.return;try{um(a)}catch(j){Tt(a,S,j)}}}catch(j){Tt(a,a.return,j)}if(a===s){ge=null;break}var M=a.sibling;if(M!==null){M.return=a.return,ge=M;break}ge=a.return}}var mD=Math.ceil,Md=K.ReactCurrentDispatcher,hm=K.ReactCurrentOwner,qn=K.ReactCurrentBatchConfig,$e=0,Ht=null,At=null,Xt=0,Fn=0,Aa=Xi(0),Vt=0,vu=null,lo=0,Nd=0,fm=0,_u=null,Cn=null,pm=0,Ra=1/0,Ti=null,Od=!1,mm=null,rs=null,Ld=!1,is=null,Vd=0,wu=0,gm=null,Fd=-1,jd=0;function gn(){return($e&6)!==0?ot():Fd!==-1?Fd:Fd=ot()}function ss(s){return(s.mode&1)===0?1:($e&2)!==0&&Xt!==0?Xt&-Xt:JC.transition!==null?(jd===0&&(jd=Qs()),jd):(s=Be,s!==0||(s=window.event,s=s===void 0?16:ql(s.type)),s)}function vr(s,a,c,f){if(50<wu)throw wu=0,gm=null,Error(t(185));Wi(s,c,f),(($e&2)===0||s!==Ht)&&(s===Ht&&(($e&2)===0&&(Nd|=c),Vt===4&&os(s,Xt)),Dn(s,f),c===1&&$e===0&&(a.mode&1)===0&&(Ra=ot()+500,fd&&Zi()))}function Dn(s,a){var c=s.callbackNode;ui(s,a);var f=Gs(s,s===Ht?Xt:0);if(f===0)c!==null&&Wl(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&Wl(c),a===1)s.tag===0?XC(B0.bind(null,s)):I_(B0.bind(null,s)),KC(function(){($e&6)===0&&Zi()}),c=null;else{switch($i(f)){case 1:c=Ks;break;case 4:c=Ui;break;case 16:c=Bn;break;case 536870912:c=jc;break;default:c=Bn}c=G0(c,U0.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function U0(s,a){if(Fd=-1,jd=0,($e&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Ma()&&s.callbackNode!==c)return null;var f=Gs(s,s===Ht?Xt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=Ud(s,f);else{a=f;var g=$e;$e|=2;var _=W0();(Ht!==s||Xt!==a)&&(Ti=null,Ra=ot()+500,co(s,a));do try{vD();break}catch(M){z0(s,M)}while(!0);Np(),Md.current=_,$e=g,At!==null?a=0:(Ht=null,Xt=0,a=Vt)}if(a!==0){if(a===2&&(g=Mn(s),g!==0&&(f=g,a=ym(s,g))),a===1)throw c=vu,co(s,0),os(s,f),Dn(s,ot()),c;if(a===6)os(s,f);else{if(g=s.current.alternate,(f&30)===0&&!gD(g)&&(a=Ud(s,f),a===2&&(_=Mn(s),_!==0&&(f=_,a=ym(s,_))),a===1))throw c=vu,co(s,0),os(s,f),Dn(s,ot()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:ho(s,Cn,Ti);break;case 3:if(os(s,f),(f&130023424)===f&&(a=pm+500-ot(),10<a)){if(Gs(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){gn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Sp(ho.bind(null,s,Cn,Ti),a);break}ho(s,Cn,Ti);break;case 4:if(os(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var S=31-fn(f);_=1<<S,S=a[S],S>g&&(g=S),f&=~_}if(f=g,f=ot()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*mD(f/1960))-f,10<f){s.timeoutHandle=Sp(ho.bind(null,s,Cn,Ti),f);break}ho(s,Cn,Ti);break;case 5:ho(s,Cn,Ti);break;default:throw Error(t(329))}}}return Dn(s,ot()),s.callbackNode===c?U0.bind(null,s):null}function ym(s,a){var c=_u;return s.current.memoizedState.isDehydrated&&(co(s,a).flags|=256),s=Ud(s,a),s!==2&&(a=Cn,Cn=c,a!==null&&vm(a)),s}function vm(s){Cn===null?Cn=s:Cn.push.apply(Cn,s)}function gD(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],_=g.getSnapshot;g=g.value;try{if(!fr(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function os(s,a){for(a&=~fm,a&=~Nd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-fn(a),f=1<<c;s[c]=-1,a&=~f}}function B0(s){if(($e&6)!==0)throw Error(t(327));Ma();var a=Gs(s,0);if((a&1)===0)return Dn(s,ot()),null;var c=Ud(s,a);if(s.tag!==0&&c===2){var f=Mn(s);f!==0&&(a=f,c=ym(s,f))}if(c===1)throw c=vu,co(s,0),os(s,a),Dn(s,ot()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,ho(s,Cn,Ti),Dn(s,ot()),null}function _m(s,a){var c=$e;$e|=1;try{return s(a)}finally{$e=c,$e===0&&(Ra=ot()+500,fd&&Zi())}}function uo(s){is!==null&&is.tag===0&&($e&6)===0&&Ma();var a=$e;$e|=1;var c=qn.transition,f=Be;try{if(qn.transition=null,Be=1,s)return s()}finally{Be=f,qn.transition=c,$e=a,($e&6)===0&&Zi()}}function wm(){Fn=Aa.current,ct(Aa)}function co(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,YC(c)),At!==null)for(c=At.return;c!==null;){var f=c;switch(bp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&dd();break;case 3:Da(),ct(kn),ct(nn),zp();break;case 5:Up(f);break;case 4:Da();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:Op(f.type._context);break;case 22:case 23:wm()}c=c.return}if(Ht=s,At=s=as(s.current,null),Xt=Fn=a,Vt=0,vu=null,fm=Nd=lo=0,Cn=_u=null,so!==null){for(a=0;a<so.length;a++)if(c=so[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,_=c.pending;if(_!==null){var S=_.next;_.next=g,f.next=S}c.pending=f}so=null}return s}function z0(s,a){do{var c=At;try{if(Np(),Sd.current=Cd,kd){for(var f=yt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}kd=!1}if(ao=0,Wt=Lt=yt=null,hu=!1,fu=0,hm.current=null,c===null||c.return===null){Vt=1,vu=a,At=null;break}e:{var _=s,S=c.return,M=c,j=a;if(a=Xt,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,re=M,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var he=f0(S);if(he!==null){he.flags&=-257,p0(he,S,M,_,a),he.mode&1&&h0(_,G,a),a=he,j=G;var ye=a.updateQueue;if(ye===null){var ve=new Set;ve.add(j),a.updateQueue=ve}else ye.add(j);break e}else{if((a&1)===0){h0(_,G,a),Tm();break e}j=Error(t(426))}}else if(ht&&M.mode&1){var xt=f0(S);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),p0(xt,S,M,_,a),Rp(ba(j,M));break e}}_=j=ba(j,M),Vt!==4&&(Vt=2),_u===null?_u=[_]:_u.push(_),_=S;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var $=c0(_,j,a);V_(_,$);break e;case 1:M=j;var U=_.type,Y=_.stateNode;if((_.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(rs===null||!rs.has(Y)))){_.flags|=65536,a&=-a,_.lanes|=a;var oe=d0(_,M,a);V_(_,oe);break e}}_=_.return}while(_!==null)}$0(c)}catch(_e){a=_e,At===c&&c!==null&&(At=c=c.return);continue}break}while(!0)}function W0(){var s=Md.current;return Md.current=Cd,s===null?Cd:s}function Tm(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Ht===null||(lo&268435455)===0&&(Nd&268435455)===0||os(Ht,Xt)}function Ud(s,a){var c=$e;$e|=2;var f=W0();(Ht!==s||Xt!==a)&&(Ti=null,co(s,a));do try{yD();break}catch(g){z0(s,g)}while(!0);if(Np(),$e=c,Md.current=f,At!==null)throw Error(t(261));return Ht=null,Xt=0,Vt}function yD(){for(;At!==null;)H0(At)}function vD(){for(;At!==null&&!Vc();)H0(At)}function H0(s){var a=q0(s.alternate,s,Fn);s.memoizedProps=s.pendingProps,a===null?$0(s):At=a,hm.current=null}function $0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=cD(c,a,Fn),c!==null){At=c;return}}else{if(c=dD(c,a),c!==null){c.flags&=32767,At=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Vt=6,At=null;return}}if(a=a.sibling,a!==null){At=a;return}At=a=s}while(a!==null);Vt===0&&(Vt=5)}function ho(s,a,c){var f=Be,g=qn.transition;try{qn.transition=null,Be=1,_D(s,a,c,f)}finally{qn.transition=g,Be=f}return null}function _D(s,a,c,f){do Ma();while(is!==null);if(($e&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(rt(s,_),s===Ht&&(At=Ht=null,Xt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Ld||(Ld=!0,G0(Bn,function(){return Ma(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=qn.transition,qn.transition=null;var S=Be;Be=1;var M=$e;$e|=4,hm.current=null,fD(s,c),O0(c,s),jC(Tp),Ki=!!wp,Tp=wp=null,s.current=c,pD(c),ip(),$e=M,Be=S,qn.transition=_}else s.current=c;if(Ld&&(Ld=!1,is=s,Vd=g),_=s.pendingLanes,_===0&&(rs=null),Uc(c.stateNode),Dn(s,ot()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(Od)throw Od=!1,s=mm,mm=null,s;return(Vd&1)!==0&&s.tag!==0&&Ma(),_=s.pendingLanes,(_&1)!==0?s===gm?wu++:(wu=0,gm=s):wu=0,Zi(),null}function Ma(){if(is!==null){var s=$i(Vd),a=qn.transition,c=Be;try{if(qn.transition=null,Be=16>s?16:s,is===null)var f=!1;else{if(s=is,is=null,Vd=0,($e&6)!==0)throw Error(t(331));var g=$e;for($e|=4,ge=s.current;ge!==null;){var _=ge,S=_.child;if((ge.flags&16)!==0){var M=_.deletions;if(M!==null){for(var j=0;j<M.length;j++){var G=M[j];for(ge=G;ge!==null;){var re=ge;switch(re.tag){case 0:case 11:case 15:yu(8,re,_)}var se=re.child;if(se!==null)se.return=re,ge=se;else for(;ge!==null;){re=ge;var ne=re.sibling,he=re.return;if(P0(re),re===G){ge=null;break}if(ne!==null){ne.return=he,ge=ne;break}ge=he}}}var ye=_.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var xt=ve.sibling;ve.sibling=null,ve=xt}while(ve!==null)}}ge=_}}if((_.subtreeFlags&2064)!==0&&S!==null)S.return=_,ge=S;else e:for(;ge!==null;){if(_=ge,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:yu(9,_,_.return)}var $=_.sibling;if($!==null){$.return=_.return,ge=$;break e}ge=_.return}}var U=s.current;for(ge=U;ge!==null;){S=ge;var Y=S.child;if((S.subtreeFlags&2064)!==0&&Y!==null)Y.return=S,ge=Y;else e:for(S=U;ge!==null;){if(M=ge,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Rd(9,M)}}catch(_e){Tt(M,M.return,_e)}if(M===S){ge=null;break e}var oe=M.sibling;if(oe!==null){oe.return=M.return,ge=oe;break e}ge=M.return}}if($e=g,Zi(),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(qs,s)}catch{}f=!0}return f}finally{Be=c,qn.transition=a}}return!1}function Y0(s,a,c){a=ba(c,a),a=c0(s,a,1),s=ts(s,a,1),a=gn(),s!==null&&(Wi(s,1,a),Dn(s,a))}function Tt(s,a,c){if(s.tag===3)Y0(s,s,c);else for(;a!==null;){if(a.tag===3){Y0(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(rs===null||!rs.has(f))){s=ba(c,s),s=d0(a,s,1),a=ts(a,s,1),s=gn(),a!==null&&(Wi(a,1,s),Dn(a,s));break}}a=a.return}}function wD(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=gn(),s.pingedLanes|=s.suspendedLanes&c,Ht===s&&(Xt&c)===c&&(Vt===4||Vt===3&&(Xt&130023424)===Xt&&500>ot()-pm?co(s,0):fm|=c),Dn(s,a)}function K0(s,a){a===0&&((s.mode&1)===0?a=1:(a=na,na<<=1,(na&130023424)===0&&(na=4194304)));var c=gn();s=vi(s,a),s!==null&&(Wi(s,a,c),Dn(s,c))}function TD(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),K0(s,c)}function ED(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),K0(s,c)}var q0;q0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||kn.current)In=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return In=!1,uD(s,a,c);In=(s.flags&131072)!==0}else In=!1,ht&&(a.flags&1048576)!==0&&C_(a,md,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Pd(s,a),s=a.pendingProps;var g=Ta(a,nn.current);Ca(a,c),g=$p(null,a,f,s,g,c);var _=Yp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,xn(f)?(_=!0,hd(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Fp(a),g.updater=Dd,a.stateNode=g,g._reactInternals=a,Jp(a,f,s,c),a=nm(null,a,f,!0,_,c)):(a.tag=0,ht&&_&&Dp(a),mn(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Pd(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=kD(f),s=mr(f,s),g){case 0:a=tm(null,a,f,s,c);break e;case 1:a=w0(null,a,f,s,c);break e;case 11:a=m0(null,a,f,s,c);break e;case 14:a=g0(null,a,f,mr(f.type,s),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:mr(f,g),tm(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:mr(f,g),w0(s,a,f,g,c);case 3:e:{if(T0(a),s===null)throw Error(t(387));f=a.pendingProps,_=a.memoizedState,g=_.element,L_(s,a),Td(a,f,null,c);var S=a.memoizedState;if(f=S.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=ba(Error(t(423)),a),a=E0(s,a,f,c,g);break e}else if(f!==g){g=ba(Error(t(424)),a),a=E0(s,a,f,c,g);break e}else for(Vn=Qi(a.stateNode.containerInfo.firstChild),Ln=a,ht=!0,pr=null,c=N_(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ka(),f===g){a=wi(s,a,c);break e}mn(s,a,f,c)}a=a.child}return a;case 5:return j_(a),s===null&&Ap(a),f=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,S=g.children,Ep(f,g)?S=null:_!==null&&Ep(f,_)&&(a.flags|=32),_0(s,a),mn(s,a,S,c),a.child;case 6:return s===null&&Ap(a),null;case 13:return S0(s,a,c);case 4:return jp(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=xa(a,null,f,c):mn(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:mr(f,g),m0(s,a,f,g,c);case 7:return mn(s,a,a.pendingProps,c),a.child;case 8:return mn(s,a,a.pendingProps.children,c),a.child;case 12:return mn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,_=a.memoizedProps,S=g.value,at(vd,f._currentValue),f._currentValue=S,_!==null)if(fr(_.value,S)){if(_.children===g.children&&!kn.current){a=wi(s,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var M=_.dependencies;if(M!==null){S=_.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(_.tag===1){j=_i(-1,c&-c),j.tag=2;var G=_.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?j.next=j:(j.next=re.next,re.next=j),G.pending=j}}_.lanes|=c,j=_.alternate,j!==null&&(j.lanes|=c),Lp(_.return,c,a),M.lanes|=c;break}j=j.next}}else if(_.tag===10)S=_.type===a.type?null:_.child;else if(_.tag===18){if(S=_.return,S===null)throw Error(t(341));S.lanes|=c,M=S.alternate,M!==null&&(M.lanes|=c),Lp(S,c,a),S=_.sibling}else S=_.child;if(S!==null)S.return=_;else for(S=_;S!==null;){if(S===a){S=null;break}if(_=S.sibling,_!==null){_.return=S.return,S=_;break}S=S.return}_=S}mn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Ca(a,c),g=Yn(g),f=f(g),a.flags|=1,mn(s,a,f,c),a.child;case 14:return f=a.type,g=mr(f,a.pendingProps),g=mr(f.type,g),g0(s,a,f,g,c);case 15:return y0(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:mr(f,g),Pd(s,a),a.tag=1,xn(f)?(s=!0,hd(a)):s=!1,Ca(a,c),l0(a,f,g),Jp(a,f,g,c),nm(null,a,f,!0,s,c);case 19:return x0(s,a,c);case 22:return v0(s,a,c)}throw Error(t(156,a.tag))};function G0(s,a){return ea(s,a)}function SD(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(s,a,c,f){return new SD(s,a,c,f)}function Em(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kD(s){if(typeof s=="function")return Em(s)?1:0;if(s!=null){if(s=s.$$typeof,s===F)return 11;if(s===De)return 14}return 2}function as(s,a){var c=s.alternate;return c===null?(c=Gn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Bd(s,a,c,f,g,_){var S=2;if(f=s,typeof s=="function")Em(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case b:return fo(c.children,g,_,a);case k:S=8,g|=8;break;case C:return s=Gn(12,c,a,g|2),s.elementType=C,s.lanes=_,s;case A:return s=Gn(13,c,a,g),s.elementType=A,s.lanes=_,s;case Te:return s=Gn(19,c,a,g),s.elementType=Te,s.lanes=_,s;case ae:return zd(c,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:S=10;break e;case O:S=9;break e;case F:S=11;break e;case De:S=14;break e;case me:S=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Gn(S,c,a,g),a.elementType=s,a.type=f,a.lanes=_,a}function fo(s,a,c,f){return s=Gn(7,s,f,a),s.lanes=c,s}function zd(s,a,c,f){return s=Gn(22,s,f,a),s.elementType=ae,s.lanes=c,s.stateNode={isHidden:!1},s}function Sm(s,a,c){return s=Gn(6,s,null,a),s.lanes=c,s}function km(s,a,c){return a=Gn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function xD(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function xm(s,a,c,f,g,_,S,M,j){return s=new xD(s,a,c,M,j),a===1?(a=1,_===!0&&(a|=8)):a=0,_=Gn(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fp(_),s}function ID(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function Q0(s){if(!s)return Ji;s=s._reactInternals;e:{if(or(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(xn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(xn(c))return k_(s,c,a)}return a}function X0(s,a,c,f,g,_,S,M,j){return s=xm(c,f,!0,s,g,_,S,M,j),s.context=Q0(null),c=s.current,f=gn(),g=ss(c),_=_i(f,g),_.callback=a??null,ts(c,_,g),s.current.lanes=g,Wi(s,g,f),Dn(s,f),s}function Wd(s,a,c,f){var g=a.current,_=gn(),S=ss(g);return c=Q0(c),a.context===null?a.context=c:a.pendingContext=c,a=_i(_,S),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=ts(g,a,S),s!==null&&(vr(s,g,S,_),wd(s,g,S)),S}function Hd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function J0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Im(s,a){J0(s,a),(s=s.alternate)&&J0(s,a)}function CD(){return null}var Z0=typeof reportError=="function"?reportError:function(s){console.error(s)};function Cm(s){this._internalRoot=s}$d.prototype.render=Cm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Wd(s,a,null,null)},$d.prototype.unmount=Cm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;uo(function(){Wd(null,s,null,null)}),a[pi]=null}};function $d(s){this._internalRoot=s}$d.prototype.unstable_scheduleHydration=function(s){if(s){var a=$c();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Pr.length&&a!==0&&a<Pr[c].priority;c++);Pr.splice(c,0,s),c===0&&qc(s)}};function Dm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Yd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ew(){}function DD(s,a,c,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var G=Hd(S);_.call(G)}}var S=X0(a,f,s,0,null,!1,!1,"",ew);return s._reactRootContainer=S,s[pi]=S.current,iu(s.nodeType===8?s.parentNode:s),uo(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var M=f;f=function(){var G=Hd(j);M.call(G)}}var j=xm(s,0,!1,null,null,!1,!1,"",ew);return s._reactRootContainer=j,s[pi]=j.current,iu(s.nodeType===8?s.parentNode:s),uo(function(){Wd(a,j,c,f)}),j}function Kd(s,a,c,f,g){var _=c._reactRootContainer;if(_){var S=_;if(typeof g=="function"){var M=g;g=function(){var j=Hd(S);M.call(j)}}Wd(a,S,s,g)}else S=DD(c,a,s,g,f);return Hd(S)}Wc=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Bi(a.pendingLanes);c!==0&&(Hi(a,c|1),Dn(a,ot()),($e&6)===0&&(Ra=ot()+500,Zi()))}break;case 13:uo(function(){var f=vi(s,1);if(f!==null){var g=gn();vr(f,s,1,g)}}),Im(s,1)}},ra=function(s){if(s.tag===13){var a=vi(s,134217728);if(a!==null){var c=gn();vr(a,s,134217728,c)}Im(s,134217728)}},Hc=function(s){if(s.tag===13){var a=ss(s),c=vi(s,a);if(c!==null){var f=gn();vr(c,s,a,f)}Im(s,a)}},$c=function(){return Be},Yc=function(s,a){var c=Be;try{return Be=s,a()}finally{Be=c}},qo=function(s,a,c){switch(a){case"input":if(bl(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=cd(f);if(!g)throw Error(t(90));zo(f),bl(f,g)}}}break;case"textarea":Yo(s,c);break;case"select":a=c.value,a!=null&&oi(s,!!c.multiple,a,!1)}},Ws=_m,jl=uo;var bD={usingClientEntryPoint:!1,Events:[au,_a,cd,Dr,Fl,_m]},Tu={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},PD={bundleType:Tu.bundleType,version:Tu.version,rendererPackageName:Tu.rendererPackageName,rendererConfig:Tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=zl(s),s===null?null:s.stateNode},findFiberByHostInstance:Tu.findFiberByHostInstance||CD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qd.isDisabled&&qd.supportsFiber)try{qs=qd.inject(PD),Rn=qd}catch{}}return bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bD,bn.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(a))throw Error(t(200));return ID(s,a,null,c)},bn.createRoot=function(s,a){if(!Dm(s))throw Error(t(299));var c=!1,f="",g=Z0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=xm(s,1,!1,null,null,c,!1,f,g),s[pi]=a.current,iu(s.nodeType===8?s.parentNode:s),new Cm(a)},bn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=zl(a),s=s===null?null:s.stateNode,s},bn.flushSync=function(s){return uo(s)},bn.hydrate=function(s,a,c){if(!Yd(a))throw Error(t(200));return Kd(null,s,a,!0,c)},bn.hydrateRoot=function(s,a,c){if(!Dm(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,_="",S=Z0;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),a=X0(a,null,s,1,c??null,g,!1,_,S),s[pi]=a.current,iu(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new $d(a)},bn.render=function(s,a,c){if(!Yd(a))throw Error(t(200));return Kd(null,s,a,!1,c)},bn.unmountComponentAtNode=function(s){if(!Yd(s))throw Error(t(40));return s._reactRootContainer?(uo(function(){Kd(null,null,s,!1,function(){s._reactRootContainer=null,s[pi]=null})}),!0):!1},bn.unstable_batchedUpdates=_m,bn.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!Yd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Kd(s,a,c,!1,f)},bn.version="18.3.1-next-f1338f8080-20240426",bn}var lw;function BS(){if(lw)return Am.exports;lw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Am.exports=UD(),Am.exports}var uw;function BD(){if(uw)return Gd;uw=1;var r=BS();return Gd.createRoot=r.createRoot,Gd.hydrateRoot=r.hydrateRoot,Gd}var zD=BD();const WD="data:image/svg+xml,%3csvg%20width='50'%20height='50'%20viewBox='0%200%2050%2050'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_7625_1251)'%3e%3cpath%20d='M46.6175%200L25%2021.6902L3.38257%200L0.0722656%203.29969L21.7009%2025.0004L0.0722656%2046.7018L3.38257%2050L25%2028.3105L46.6175%2050L49.9278%2046.7018L28.2991%2025.0004L49.9278%203.29969L46.6175%200Z'%20fill='black'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_7625_1251'%3e%3crect%20width='50'%20height='50'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",HD="data:image/svg+xml,%3csvg%20width='36'%20height='29'%20viewBox='0%200%2036%2029'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='35.9988'%20height='4'%20rx='2'%20fill='white'/%3e%3crect%20x='13.0898'%20y='12.5'%20width='22.9083'%20height='4'%20rx='2'%20fill='white'/%3e%3crect%20x='4.91016'%20y='25'%20width='31.0899'%20height='4'%20rx='2'%20fill='white'/%3e%3c/svg%3e",$D="data:image/svg+xml,%3csvg%20width='16'%20height='15'%20viewBox='0%200%2016%2015'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M7.52447%200.463526C7.67415%200.0028708%208.32585%200.00286996%208.47553%200.463525L9.90837%204.87336C9.97531%205.07937%2010.1673%205.21885%2010.3839%205.21885H15.0207C15.505%205.21885%2015.7064%205.83865%2015.3146%206.12336L11.5633%208.84878C11.3881%208.9761%2011.3148%209.20179%2011.3817%209.4078L12.8145%2013.8176C12.9642%2014.2783%2012.437%2014.6613%2012.0451%2014.3766L8.29389%2011.6512C8.11865%2011.5239%207.88135%2011.5239%207.70611%2011.6512L3.95488%2014.3766C3.56303%2014.6613%203.03578%2014.2783%203.18546%2013.8176L4.6183%209.4078C4.68524%209.20179%204.61191%208.9761%204.43667%208.84878L0.685441%206.12336C0.293584%205.83866%200.494972%205.21885%200.979333%205.21885H5.6161C5.83272%205.21885%206.02469%205.07937%206.09163%204.87336L7.52447%200.463526Z'%20fill='%23FF532E'/%3e%3c/svg%3e",YD="data:image/svg+xml,%3csvg%20width='9'%20height='14'%20viewBox='0%200%209%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M8%201L1%207L8%2013'%20stroke='%232563EB'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",KD="data:image/svg+xml,%3csvg%20width='9'%20height='14'%20viewBox='0%200%209%2014'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M1%201L8%207L1%2013'%20stroke='%232563EB'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",qD="/Mirema-Blossom-Homes/assets/brand_img-DdvGEZ02.png",GD="/Mirema-Blossom-Homes/assets/project_img_1-x1JmUNXh.jpg",QD="/Mirema-Blossom-Homes/assets/project_img_2-CWtMR2x0.jpg",XD="/Mirema-Blossom-Homes/assets/project_img_3-kM0r9FRb.jpg",JD="/Mirema-Blossom-Homes/assets/project_img_4-BUPn6c2P.jpg",ZD="/Mirema-Blossom-Homes/assets/project_img_5-COAB0xBV.jpg",eb="/Mirema-Blossom-Homes/assets/project_img_6-5sAu7GO0.jpg",tb="/Mirema-Blossom-Homes/assets/gallery_img_1-p__Jd9qy.jpg",nb="/Mirema-Blossom-Homes/assets/gallery_img_2-DGNfGkPY.jpg",rb="/Mirema-Blossom-Homes/assets/gallery_img_3-HMcu4i5M.jpg",ib="/Mirema-Blossom-Homes/assets/gallery_img_4-DjBcnJqi.jpg",sb="/Mirema-Blossom-Homes/assets/gallery_img_5-C9x68fIN.jpg",ob="/Mirema-Blossom-Homes/assets/gallery_img_6-Ddtj2hdv.jpg",ab="/Mirema-Blossom-Homes/assets/gallery_img_7-Bm0gSLWq.jpg",lb="/Mirema-Blossom-Homes/assets/gallery_img_8-CbrOhwRg.jpg",ub="/Mirema-Blossom-Homes/assets/gallery_img_9-CNa-8avL.jpg",cb="/Mirema-Blossom-Homes/assets/gallery_img_10-BBKFNzp_.jpg",db="/Mirema-Blossom-Homes/assets/activities_img_1-V4nt1El1.jpeg",hb="/Mirema-Blossom-Homes/assets/activities_img_2-CLVOncpt.jpeg",fb="/Mirema-Blossom-Homes/assets/activities_img_3-vpWh4R8n.jpeg",pb="/Mirema-Blossom-Homes/assets/activities_img_4-lDQRVWlC.jpeg",Ja={cross_icon:WD,menu_icon:HD,star_icon:$D,brand_img:qD,left_arrow:YD,right_arrow:KD},Qd=[{title:"1 Bedroom BnB",price:"KSH 3000.00",location:"Comfortble Queen size bed with a high-density with fiber mattress and pillows with clean soft bedding for a warm cozy night. Access to kitchen balcony",image:GD},{title:"2 Bedroom BnB",price:"KSH 5,000",location:"1 Queen size bed, 1 Double bed, Access to 2 balconies with spectacular views",image:ZD},{title:"Separate Bathroom and Toilet",price:"",location:"1 Bathroom, 1 toilet, 1 Hand wash sink",image:XD},{title:"Fully Equipped Kitchen",price:"",location:".cooker and oven .Refrigerator .Microwave .Kettel .cookery .Cutlery",image:JD},{title:"Living Room",price:"",location:".cozy sofa .smart TV .sound system .Fast Speed Internet",image:QD},{title:"Balcony",price:"",location:"Access to Balcony and relaxing views",image:eb}],mb=[{name:"Donald Jackman",title:"Marketing Manager",alt:"Portrait of Donald Jackman",rating:5,text:"From the very first meeting, they understood my vision and helped me find the perfect property. Their attention to detail and commitment to client satisfaction is unmatched."},{name:"Richard Nelson",title:"UI/UX Designer",alt:"Portrait of Richard Nelson",rating:4,text:"From the very first meeting, they understood my vision and helped me find the perfect property. Their attention to detail and commitment to client satisfaction is unmatched."},{name:"James Washington",title:"Co-Founder",alt:"Portrait of James Washington",rating:5,text:"From the very first meeting, they understood my vision and helped me find the perfect property. Their attention to detail and commitment to client satisfaction is unmatched."}],gb=[tb,nb,rb,ib,sb,ob,ab,lb,ub,cb],yb=[db,hb,fb,pb],vb=()=>{const[r,e]=H.useState(!1);return H.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[r]),z.jsxs("div",{className:"absolute top-0 left-0 w-full z-10 justify-center flex items-center px-6 py-4",children:[z.jsxs("div",{className:`container mx-auto flex justify-between\r
        items-center py-4 px-6 md:px-20 lg:px-32 \r
        bg-transparent`,children:[z.jsx("div",{className:"flex items-center",children:z.jsx("span",{className:"text-white font-semibold text-2xl tracking-wide",children:"Mirema Blossom Homes"})}),z.jsxs("ul",{className:"hidden md:flex gap-7 text-white ",children:[z.jsx("a",{href:"#Header",className:`cursor-pointer\r
                hover:text-gray-400`,children:"Home"}),z.jsx("a",{href:"#About",className:`cursor-pointer\r
                hover:text-gray-400`,children:"About"}),z.jsx("a",{href:"#Gallery",className:`cursor-pointer\r
                hover:text-gray-400`,children:"Gallery"}),z.jsx("a",{href:"#Testimonials",className:`cursor-pointer\r
                hover:text-gray-400`,children:"Reviews"})]}),z.jsx("a",{href:"#Contact",className:"hidden md:block bg-assent px-8 py-2 rounded-full",children:"Contact Us"}),z.jsx("img",{onClick:()=>e(!0),src:Ja.menu_icon,className:"md:hidden w-7 cursor-pointer",alt:""})]}),z.jsxs("div",{className:`md:hidden ${r?"fixed w-full":"h-0 w-0"}  right-0 top-0 bottom-0
        overflow-hidden bg-white transition-all`,children:[z.jsx("div",{className:"flex justify-end p-6 cursor-pointer",children:z.jsx("img",{onClick:()=>e(!1),src:Ja.cross_icon,className:"w-6",alt:""})}),z.jsxs("ul",{className:`flex flex-col items-center gap-2 mt-5 px-5 text-lg\r
          font-medium`,children:[z.jsx("a",{onClick:()=>e(!1),href:"#Header",className:`px-4 py-2 rounded-full \r
            inline-block`,children:"Home"}),z.jsx("a",{onClick:()=>e(!1),href:"#About",className:`px-4 py-2 rounded-full \r
            inline-block`,children:"About"}),z.jsx("a",{onClick:()=>e(!1),href:"#Gallery",className:`px-4 py-2 rounded-full \r
            inline-block`,children:"Gallery"}),z.jsx("a",{onClick:()=>e(!1),href:"#Testimonials",className:`px-4 py-2 rounded-full \r
            inline-block`,children:"Reviews"})]})]})]})},zS=H.createContext({});function _b(r){const e=H.useRef(null);return e.current===null&&(e.current=r()),e.current}const py=typeof window<"u",wb=py?H.useLayoutEffect:H.useEffect,my=H.createContext(null),WS=H.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});function Tb(r=!0){const e=H.useContext(my);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,o=H.useId();H.useEffect(()=>{if(r)return i(o)},[r]);const l=H.useCallback(()=>r&&n&&n(o),[o,n,r]);return!t&&n?[!1,l]:[!0]}const Xd=["read","resolveKeyframes","update","preRender","render","postRender"],cw={value:null};function Eb(r,e){let t=new Set,n=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},d=0;function p(y){l.has(y)&&(m.schedule(y),r()),d++,y(u)}const m={schedule:(y,w=!1,E=!1)=>{const P=E&&i?t:n;return w&&l.add(y),P.has(y)||P.add(y),y},cancel:y=>{n.delete(y),l.delete(y)},process:y=>{if(u=y,i){o=!0;return}i=!0,[t,n]=[n,t],t.forEach(p),e&&cw.value&&cw.value.frameloop[e].push(d),d=0,t.clear(),i=!1,o&&(o=!1,m.process(y))}};return m}const hg={useManualTiming:!1},Sb=40;function HS(r,e){let t=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,l=Xd.reduce((N,V)=>(N[V]=Eb(o,e?V:void 0),N),{}),{read:u,resolveKeyframes:d,update:p,preRender:m,render:y,postRender:w}=l,E=()=>{const N=performance.now();t=!1,i.delta=n?1e3/60:Math.max(Math.min(N-i.timestamp,Sb),1),i.timestamp=N,i.isProcessing=!0,u.process(i),d.process(i),p.process(i),m.process(i),y.process(i),w.process(i),i.isProcessing=!1,t&&e&&(n=!1,r(E))},I=()=>{t=!0,n=!0,i.isProcessing||r(E)};return{schedule:Xd.reduce((N,V)=>{const L=l[V];return N[V]=(K,Q=!1,Z=!1)=>(t||I(),L.schedule(K,Q,Z)),N},{}),cancel:N=>{for(let V=0;V<Xd.length;V++)l[Xd[V]].cancel(N)},state:i,steps:l}}const nr=r=>r,{schedule:lt,cancel:Cs,state:Jt,steps:Nm}=HS(typeof requestAnimationFrame<"u"?requestAnimationFrame:nr,!0),$S=H.createContext({strict:!1}),dw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Za={};for(const r in dw)Za[r]={isEnabled:e=>dw[r].some(t=>!!e[t])};function kb(r){for(const e in r)Za[e]={...Za[e],...r[e]}}const xb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mh(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||xb.has(r)}let YS=r=>!Mh(r);function Ib(r){r&&(YS=e=>e.startsWith("on")?!Mh(e):r(e))}try{Ib(require("@emotion/is-prop-valid").default)}catch{}function Cb(r,e,t){const n={};for(const i in r)i==="values"&&typeof r.values=="object"||(YS(i)||t===!0&&Mh(i)||!e&&!Mh(i)||r.draggable&&i.startsWith("onDrag"))&&(n[i]=r[i]);return n}function Db(r){if(typeof Proxy>"u")return r;const e=new Map,t=(...n)=>r(...n);return new Proxy(t,{get:(n,i)=>i==="create"?r:(e.has(i)||e.set(i,r(i)),e.get(i))})}const Tf=H.createContext({});function Ef(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function Yu(r){return typeof r=="string"||Array.isArray(r)}const gy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yy=["initial",...gy];function Sf(r){return Ef(r.animate)||yy.some(e=>Yu(r[e]))}function KS(r){return!!(Sf(r)||r.variants)}function bb(r,e){if(Sf(r)){const{initial:t,animate:n}=r;return{initial:t===!1||Yu(t)?t:void 0,animate:Yu(n)?n:void 0}}return r.inherit!==!1?e:{}}function Pb(r){const{initial:e,animate:t}=bb(r,H.useContext(Tf));return H.useMemo(()=>({initial:e,animate:t}),[hw(e),hw(t)])}function hw(r){return Array.isArray(r)?r.join(" "):r}const Ab=Symbol.for("motionComponentSymbol");function Ua(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Rb(r,e,t){return H.useCallback(n=>{n&&r.onMount&&r.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Ua(t)&&(t.current=n))},[e])}const vy=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Mb="framerAppearId",qS="data-"+vy(Mb),GS=H.createContext({}),{schedule:_y}=HS(queueMicrotask,!1);function Nb(r,e,t,n,i){var P,D;const{visualElement:o}=H.useContext(Tf),l=H.useContext($S),u=H.useContext(my),d=H.useContext(WS).reducedMotion,p=H.useRef(null);n=n||l.renderer,!p.current&&n&&(p.current=n(r,{visualState:e,parent:o,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=p.current,y=H.useContext(GS);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Ob(p.current,t,i,y);const w=H.useRef(!1);H.useInsertionEffect(()=>{m&&w.current&&m.update(t,u)});const E=t[qS],I=H.useRef(!!E&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,E))&&((D=window.MotionHasOptimisedAnimation)==null?void 0:D.call(window,E)));return wb(()=>{m&&(w.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),_y.render(m.render),I.current&&m.animationState&&m.animationState.animateChanges())}),H.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,E)}),I.current=!1))}),m}function Ob(r,e,t,n){const{layoutId:i,layout:o,drag:l,dragConstraints:u,layoutScroll:d,layoutRoot:p,layoutCrossfade:m}=e;r.projection=new t(r.latestValues,e["data-framer-portal-id"]?void 0:QS(r.parent)),r.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||u&&Ua(u),visualElement:r,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:d,layoutRoot:p})}function QS(r){if(r)return r.options.allowProjection!==!1?r.projection:QS(r.parent)}let XS=()=>{};function Lb({preloadedFeatures:r,createVisualElement:e,useRender:t,useVisualState:n,Component:i}){r&&kb(r);function o(u,d){let p;const m={...H.useContext(WS),...u,layoutId:Vb(u)},{isStatic:y}=m,w=Pb(u),E=n(u,y);if(!y&&py){Fb();const I=jb(m);p=I.MeasureLayout,w.visualElement=Nb(i,E,m,e,I.ProjectionNode)}return z.jsxs(Tf.Provider,{value:w,children:[p&&w.visualElement?z.jsx(p,{visualElement:w.visualElement,...m}):null,t(i,u,Rb(E,w.visualElement,d),E,y,w.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=H.forwardRef(o);return l[Ab]=i,l}function Vb({layoutId:r}){const e=H.useContext(zS).id;return e&&r!==void 0?e+"-"+r:r}function Fb(r,e){H.useContext($S).strict}function jb(r){const{drag:e,layout:t}=Za;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(r)||t!=null&&t.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const JS=r=>e=>typeof e=="string"&&e.startsWith(r),wy=JS("--"),Ub=JS("var(--"),Ty=r=>Ub(r)?Bb.test(r.split("/*")[0].trim()):!1,Bb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ku={};function zb(r){for(const e in r)Ku[e]=r[e],wy(e)&&(Ku[e].isCSSVariable=!0)}const yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oo=new Set(yl);function ZS(r,{layout:e,layoutId:t}){return Oo.has(r)||r.startsWith("origin")||(e||t!==void 0)&&(!!Ku[r]||r==="opacity")}const dn=r=>!!(r&&r.getVelocity),ek=(r,e)=>e&&typeof r=="number"?e.transform(r):r,bi=(r,e,t)=>t>e?e:t<r?r:t,vl={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},qu={...vl,transform:r=>bi(0,1,r)},Jd={...vl,default:1},mc=r=>({test:e=>typeof e=="string"&&e.endsWith(r)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${r}`}),ds=mc("deg"),Hr=mc("%"),Ce=mc("px"),Wb=mc("vh"),Hb=mc("vw"),fw={...Hr,parse:r=>Hr.parse(r)/100,transform:r=>Hr.transform(r*100)},$b={borderWidth:Ce,borderTopWidth:Ce,borderRightWidth:Ce,borderBottomWidth:Ce,borderLeftWidth:Ce,borderRadius:Ce,radius:Ce,borderTopLeftRadius:Ce,borderTopRightRadius:Ce,borderBottomRightRadius:Ce,borderBottomLeftRadius:Ce,width:Ce,maxWidth:Ce,height:Ce,maxHeight:Ce,top:Ce,right:Ce,bottom:Ce,left:Ce,padding:Ce,paddingTop:Ce,paddingRight:Ce,paddingBottom:Ce,paddingLeft:Ce,margin:Ce,marginTop:Ce,marginRight:Ce,marginBottom:Ce,marginLeft:Ce,backgroundPositionX:Ce,backgroundPositionY:Ce},Yb={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:Jd,scaleX:Jd,scaleY:Jd,scaleZ:Jd,skew:ds,skewX:ds,skewY:ds,distance:Ce,translateX:Ce,translateY:Ce,translateZ:Ce,x:Ce,y:Ce,z:Ce,perspective:Ce,transformPerspective:Ce,opacity:qu,originX:fw,originY:fw,originZ:Ce},pw={...vl,transform:Math.round},Ey={...$b,...Yb,zIndex:pw,size:Ce,fillOpacity:qu,strokeOpacity:qu,numOctaves:pw},Kb={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qb=yl.length;function Gb(r,e,t){let n="",i=!0;for(let o=0;o<qb;o++){const l=yl[o],u=r[l];if(u===void 0)continue;let d=!0;if(typeof u=="number"?d=u===(l.startsWith("scale")?1:0):d=parseFloat(u)===0,!d||t){const p=ek(u,Ey[l]);if(!d){i=!1;const m=Kb[l]||l;n+=`${m}(${p}) `}t&&(e[l]=p)}}return n=n.trim(),t?n=t(e,i?"":n):i&&(n="none"),n}function Sy(r,e,t){const{style:n,vars:i,transformOrigin:o}=r;let l=!1,u=!1;for(const d in e){const p=e[d];if(Oo.has(d)){l=!0;continue}else if(wy(d)){i[d]=p;continue}else{const m=ek(p,Ey[d]);d.startsWith("origin")?(u=!0,o[d]=m):n[d]=m}}if(e.transform||(l||t?n.transform=Gb(e,r.transform,t):n.transform&&(n.transform="none")),u){const{originX:d="50%",originY:p="50%",originZ:m=0}=o;n.transformOrigin=`${d} ${p} ${m}`}}const ky=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tk(r,e,t){for(const n in e)!dn(e[n])&&!ZS(n,t)&&(r[n]=e[n])}function Qb({transformTemplate:r},e){return H.useMemo(()=>{const t=ky();return Sy(t,e,r),Object.assign({},t.vars,t.style)},[e])}function Xb(r,e){const t=r.style||{},n={};return tk(n,t,r),Object.assign(n,Qb(r,e)),n}function Jb(r,e){const t={},n=Xb(r,e);return r.drag&&r.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(t.tabIndex=0),t.style=n,t}const Zb=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xy(r){return typeof r!="string"||r.includes("-")?!1:!!(Zb.indexOf(r)>-1||/[A-Z]/u.test(r))}const eP={offset:"stroke-dashoffset",array:"stroke-dasharray"},tP={offset:"strokeDashoffset",array:"strokeDasharray"};function nP(r,e,t=1,n=0,i=!0){r.pathLength=1;const o=i?eP:tP;r[o.offset]=Ce.transform(-n);const l=Ce.transform(e),u=Ce.transform(t);r[o.array]=`${l} ${u}`}function mw(r,e,t){return typeof r=="string"?r:Ce.transform(e+t*r)}function rP(r,e,t){const n=mw(e,r.x,r.width),i=mw(t,r.y,r.height);return`${n} ${i}`}function Iy(r,{attrX:e,attrY:t,attrScale:n,originX:i,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:d=0,...p},m,y){if(Sy(r,p,y),m){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:w,style:E,dimensions:I}=r;w.transform&&(I&&(E.transform=w.transform),delete w.transform),I&&(i!==void 0||o!==void 0||E.transform)&&(E.transformOrigin=rP(I,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),n!==void 0&&(w.scale=n),l!==void 0&&nP(w,l,u,d,!1)}const nk=()=>({...ky(),attrs:{}}),Cy=r=>typeof r=="string"&&r.toLowerCase()==="svg";function iP(r,e,t,n){const i=H.useMemo(()=>{const o=nk();return Iy(o,e,Cy(n),r.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(r.style){const o={};tk(o,r.style,r),i.style={...o,...i.style}}return i}function sP(r=!1){return(t,n,i,{latestValues:o},l)=>{const d=(xy(t)?iP:Jb)(n,o,l,t),p=Cb(n,typeof t=="string",r),m=t!==H.Fragment?{...p,...d,ref:i}:{},{children:y}=n,w=H.useMemo(()=>dn(y)?y.get():y,[y]);return H.createElement(t,{...m,children:w})}}function gw(r){const e=[{},{}];return r==null||r.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function Dy(r,e,t,n){if(typeof e=="function"){const[i,o]=gw(n);e=e(t!==void 0?t:r.custom,i,o)}if(typeof e=="string"&&(e=r.variants&&r.variants[e]),typeof e=="function"){const[i,o]=gw(n);e=e(t!==void 0?t:r.custom,i,o)}return e}const fg=r=>Array.isArray(r),oP=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),aP=r=>fg(r)?r[r.length-1]||0:r;function ph(r){const e=dn(r)?r.get():r;return oP(e)?e.toValue():e}function lP({scrapeMotionValuesFromProps:r,createRenderState:e,onUpdate:t},n,i,o){const l={latestValues:uP(n,i,o,r),renderState:e()};return t&&(l.onMount=u=>t({props:n,current:u,...l}),l.onUpdate=u=>t(u)),l}const rk=r=>(e,t)=>{const n=H.useContext(Tf),i=H.useContext(my),o=()=>lP(r,e,n,i);return t?o():_b(o)};function uP(r,e,t,n){const i={},o=n(r,{});for(const w in o)i[w]=ph(o[w]);let{initial:l,animate:u}=r;const d=Sf(r),p=KS(r);e&&p&&!d&&r.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!Ef(y)){const w=Array.isArray(y)?y:[y];for(let E=0;E<w.length;E++){const I=Dy(r,w[E]);if(I){const{transitionEnd:P,transition:D,...N}=I;for(const V in N){let L=N[V];if(Array.isArray(L)){const K=m?L.length-1:0;L=L[K]}L!==null&&(i[V]=L)}for(const V in P)i[V]=P[V]}}}return i}function by(r,e,t){var o;const{style:n}=r,i={};for(const l in n)(dn(n[l])||e.style&&dn(e.style[l])||ZS(l,r)||((o=t==null?void 0:t.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(i[l]=n[l]);return i}const cP={useVisualState:rk({scrapeMotionValuesFromProps:by,createRenderState:ky})};function ik(r,e){try{e.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function sk(r,{style:e,vars:t},n,i){Object.assign(r.style,e,i&&i.getProjectionStyles(n));for(const o in t)r.style.setProperty(o,t[o])}const ok=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ak(r,e,t,n){sk(r,e,void 0,n);for(const i in e.attrs)r.setAttribute(ok.has(i)?i:vy(i),e.attrs[i])}function lk(r,e,t){const n=by(r,e,t);for(const i in r)if(dn(r[i])||dn(e[i])){const o=yl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[o]=r[i]}return n}const yw=["x","y","width","height","cx","cy","r"],dP={useVisualState:rk({scrapeMotionValuesFromProps:lk,createRenderState:nk,onUpdate:({props:r,prevProps:e,current:t,renderState:n,latestValues:i})=>{if(!t)return;let o=!!r.drag;if(!o){for(const u in i)if(Oo.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<yw.length;u++){const d=yw[u];r[d]!==e[d]&&(l=!0)}l&&lt.read(()=>{ik(t,n),lt.render(()=>{Iy(n,i,Cy(t.tagName),r.transformTemplate),ak(t,n)})})}})};function hP(r,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...xy(n)?dP:cP,preloadedFeatures:r,useRender:sP(i),createVisualElement:e,Component:n};return Lb(l)}}function Gu(r,e,t){const n=r.getProps();return Dy(n,e,t!==void 0?t:n.custom,r)}const uk=new Set(["width","height","top","left","right","bottom",...yl]);let mh;function fP(){mh=void 0}const $r={now:()=>(mh===void 0&&$r.set(Jt.isProcessing||hg.useManualTiming?Jt.timestamp:performance.now()),mh),set:r=>{mh=r,queueMicrotask(fP)}};function Py(r,e){r.indexOf(e)===-1&&r.push(e)}function Ay(r,e){const t=r.indexOf(e);t>-1&&r.splice(t,1)}class Ry{constructor(){this.subscriptions=[]}add(e){return Py(this.subscriptions,e),()=>Ay(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,n);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ck(r,e){return e?r*(1e3/e):0}const vw=30,pP=r=>!isNaN(parseFloat(r));class mP{constructor(e,t={}){this.version="12.7.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const o=$r.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=$r.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ry);const n=this.events[e].add(t);return e==="change"?()=>{n(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$r.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vw)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,vw);return ck(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qu(r,e){return new mP(r,e)}function gP(r,e,t){r.hasValue(e)?r.getValue(e).set(t):r.addValue(e,Qu(t))}function yP(r,e){const t=Gu(r,e);let{transitionEnd:n={},transition:i={},...o}=t||{};o={...o,...n};for(const l in o){const u=aP(o[l]);gP(r,l,u)}}function vP(r){return!!(dn(r)&&r.add)}function pg(r,e){const t=r.getValue("willChange");if(vP(t))return t.add(e);if(!t&&hg.WillChange){const n=new hg.WillChange("auto");r.addValue("willChange",n),n.add(e)}}function dk(r){return r.props[qS]}const hk=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,_P=1e-7,wP=12;function TP(r,e,t,n,i){let o,l,u=0;do l=e+(t-e)/2,o=hk(l,n,i)-r,o>0?t=l:e=l;while(Math.abs(o)>_P&&++u<wP);return l}function gc(r,e,t,n){if(r===e&&t===n)return nr;const i=o=>TP(o,0,1,r,t);return o=>o===0||o===1?o:hk(i(o),e,n)}const fk=r=>e=>e<=.5?r(2*e)/2:(2-r(2*(1-e)))/2,pk=r=>e=>1-r(1-e),mk=gc(.33,1.53,.69,.99),My=pk(mk),gk=fk(My),yk=r=>(r*=2)<1?.5*My(r):.5*(2-Math.pow(2,-10*(r-1))),Ny=r=>1-Math.sin(Math.acos(r)),vk=pk(Ny),_k=fk(Ny),wk=r=>/^0[^.\s]+$/u.test(r);function EP(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||wk(r):!0}const Vu=r=>Math.round(r*1e5)/1e5,Oy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SP(r){return r==null}const kP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ly=(r,e)=>t=>!!(typeof t=="string"&&kP.test(t)&&t.startsWith(r)||e&&!SP(t)&&Object.prototype.hasOwnProperty.call(t,e)),Tk=(r,e,t)=>n=>{if(typeof n!="string")return n;const[i,o,l,u]=n.match(Oy);return{[r]:parseFloat(i),[e]:parseFloat(o),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},xP=r=>bi(0,255,r),Om={...vl,transform:r=>Math.round(xP(r))},vo={test:Ly("rgb","red"),parse:Tk("red","green","blue"),transform:({red:r,green:e,blue:t,alpha:n=1})=>"rgba("+Om.transform(r)+", "+Om.transform(e)+", "+Om.transform(t)+", "+Vu(qu.transform(n))+")"};function IP(r){let e="",t="",n="",i="";return r.length>5?(e=r.substring(1,3),t=r.substring(3,5),n=r.substring(5,7),i=r.substring(7,9)):(e=r.substring(1,2),t=r.substring(2,3),n=r.substring(3,4),i=r.substring(4,5),e+=e,t+=t,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const mg={test:Ly("#"),parse:IP,transform:vo.transform},Ba={test:Ly("hsl","hue"),parse:Tk("hue","saturation","lightness"),transform:({hue:r,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(r)+", "+Hr.transform(Vu(e))+", "+Hr.transform(Vu(t))+", "+Vu(qu.transform(n))+")"},ln={test:r=>vo.test(r)||mg.test(r)||Ba.test(r),parse:r=>vo.test(r)?vo.parse(r):Ba.test(r)?Ba.parse(r):mg.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?vo.transform(r):Ba.transform(r)},CP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function DP(r){var e,t;return isNaN(r)&&typeof r=="string"&&(((e=r.match(Oy))==null?void 0:e.length)||0)+(((t=r.match(CP))==null?void 0:t.length)||0)>0}const Ek="number",Sk="color",bP="var",PP="var(",_w="${}",AP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xu(r){const e=r.toString(),t=[],n={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(AP,d=>(ln.test(d)?(n.color.push(o),i.push(Sk),t.push(ln.parse(d))):d.startsWith(PP)?(n.var.push(o),i.push(bP),t.push(d)):(n.number.push(o),i.push(Ek),t.push(parseFloat(d))),++o,_w)).split(_w);return{values:t,split:u,indexes:n,types:i}}function kk(r){return Xu(r).values}function xk(r){const{split:e,types:t}=Xu(r),n=e.length;return i=>{let o="";for(let l=0;l<n;l++)if(o+=e[l],i[l]!==void 0){const u=t[l];u===Ek?o+=Vu(i[l]):u===Sk?o+=ln.transform(i[l]):o+=i[l]}return o}}const RP=r=>typeof r=="number"?0:r;function MP(r){const e=kk(r);return xk(r)(e.map(RP))}const Ds={test:DP,parse:kk,createTransformer:xk,getAnimatableNone:MP},NP=new Set(["brightness","contrast","saturate","opacity"]);function OP(r){const[e,t]=r.slice(0,-1).split("(");if(e==="drop-shadow")return r;const[n]=t.match(Oy)||[];if(!n)return r;const i=t.replace(n,"");let o=NP.has(e)?1:0;return n!==t&&(o*=100),e+"("+o+i+")"}const LP=/\b([a-z-]*)\(.*?\)/gu,gg={...Ds,getAnimatableNone:r=>{const e=r.match(LP);return e?e.map(OP).join(" "):r}},VP={...Ey,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:gg,WebkitFilter:gg},Ik=r=>VP[r];function Ck(r,e){let t=Ik(r);return t!==gg&&(t=Ds),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const FP=new Set(["auto","none","0"]);function jP(r,e,t){let n=0,i;for(;n<r.length&&!i;){const o=r[n];typeof o=="string"&&!FP.has(o)&&Xu(o).values.length&&(i=r[n]),n++}if(i&&t)for(const o of e)r[o]=Ck(t,i)}const _o=r=>r*180/Math.PI,yg=r=>{const e=_o(Math.atan2(r[1],r[0]));return vg(e)},UP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:yg,rotateZ:yg,skewX:r=>_o(Math.atan(r[1])),skewY:r=>_o(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},vg=r=>(r=r%360,r<0&&(r+=360),r),ww=yg,Tw=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),Ew=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),BP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tw,scaleY:Ew,scale:r=>(Tw(r)+Ew(r))/2,rotateX:r=>vg(_o(Math.atan2(r[6],r[5]))),rotateY:r=>vg(_o(Math.atan2(-r[2],r[0]))),rotateZ:ww,rotate:ww,skewX:r=>_o(Math.atan(r[4])),skewY:r=>_o(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Sw(r){return r.includes("scale")?1:0}function _g(r,e){if(!r||r==="none")return Sw(e);const t=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(t)n=BP,i=t;else{const u=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=UP,i=u}if(!i)return Sw(e);const o=n[e],l=i[1].split(",").map(WP);return typeof o=="function"?o(l):l[o]}const zP=(r,e)=>{const{transform:t="none"}=getComputedStyle(r);return _g(t,e)};function WP(r){return parseFloat(r.trim())}const kw=r=>r===vl||r===Ce,HP=new Set(["x","y","z"]),$P=yl.filter(r=>!HP.has(r));function YP(r){const e=[];return $P.forEach(t=>{const n=r.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const el={width:({x:r},{paddingLeft:e="0",paddingRight:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),height:({y:r},{paddingTop:e="0",paddingBottom:t="0"})=>r.max-r.min-parseFloat(e)-parseFloat(t),top:(r,{top:e})=>parseFloat(e),left:(r,{left:e})=>parseFloat(e),bottom:({y:r},{top:e})=>parseFloat(e)+(r.max-r.min),right:({x:r},{left:e})=>parseFloat(e)+(r.max-r.min),x:(r,{transform:e})=>_g(e,"x"),y:(r,{transform:e})=>_g(e,"y")};el.translateX=el.x;el.translateY=el.y;const Eo=new Set;let wg=!1,Tg=!1;function Dk(){if(Tg){const r=Array.from(Eo).filter(n=>n.needsMeasurement),e=new Set(r.map(n=>n.element)),t=new Map;e.forEach(n=>{const i=YP(n);i.length&&(t.set(n,i),n.render())}),r.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=t.get(n);i&&i.forEach(([o,l])=>{var u;(u=n.getValue(o))==null||u.set(l)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Tg=!1,wg=!1,Eo.forEach(r=>r.complete()),Eo.clear()}function bk(){Eo.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Tg=!0)})}function KP(){bk(),Dk()}class Vy{constructor(e,t,n,i,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Eo.add(this),wg||(wg=!0,lt.read(bk),lt.resolveKeyframes(Dk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=i==null?void 0:i.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(n&&t){const d=n.readValue(t,u);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=u),i&&l===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Eo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Eo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Pk=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),qP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GP(r){const e=qP.exec(r);if(!e)return[,];const[,t,n,i]=e;return[`--${t??n}`,i]}function Ak(r,e,t=1){const[n,i]=GP(r);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const l=o.trim();return Pk(l)?parseFloat(l):l}return Ty(i)?Ak(i,e,t+1):i}const Rk=r=>e=>e.test(r),QP={test:r=>r==="auto",parse:r=>r},Mk=[vl,Ce,Hr,ds,Hb,Wb,QP],xw=r=>Mk.find(Rk(r));class Nk extends Vy{constructor(e,t,n,i,o){super(e,t,n,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),Ty(p))){const m=Ak(p,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!uk.has(n)||e.length!==2)return;const[i,o]=e,l=xw(i),u=xw(o);if(l!==u)if(kw(l)&&kw(u))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)EP(e[i])&&n.push(i);n.length&&jP(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=el[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const o=n.length-1,l=n[o];n[o]=el[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const Iw=(r,e)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Ds.test(r)||r==="0")&&!r.startsWith("url("));function Fy(r){return typeof r=="function"&&"applyToOptions"in r}function XP(r){const e=r[0];if(r.length===1)return!0;for(let t=0;t<r.length;t++)if(r[t]!==e)return!0}function JP(r,e,t,n){const i=r[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=r[r.length-1],l=Iw(i,e),u=Iw(o,e);return!l||!u?!1:XP(r)||(t==="spring"||Fy(t))&&n}const ZP=r=>r!==null;function kf(r,{repeat:e,repeatType:t="loop"},n){const i=r.filter(ZP),o=e&&t!=="loop"&&e%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const eA=40;class Ok{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=$r.now(),this.options={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>eA?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&KP(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=$r.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:o,delay:l,onComplete:u,onUpdate:d,isGenerator:p}=this.options;if(!p&&!JP(e,n,i,o))if(l)this.options.duration=0;else{d&&d(kf(e,this.options,t)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const vt=(r,e,t)=>r+(e-r)*t;function Lm(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*(2/3-t)*6:r}function tA({hue:r,saturation:e,lightness:t,alpha:n}){r/=360,e/=100,t/=100;let i=0,o=0,l=0;if(!e)i=o=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,d=2*t-u;i=Lm(d,u,r+1/3),o=Lm(d,u,r),l=Lm(d,u,r-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}function Nh(r,e){return t=>t>0?e:r}const Vm=(r,e,t)=>{const n=r*r,i=t*(e*e-n)+n;return i<0?0:Math.sqrt(i)},nA=[mg,vo,Ba],rA=r=>nA.find(e=>e.test(r));function Cw(r){const e=rA(r);if(!e)return!1;let t=e.parse(r);return e===Ba&&(t=tA(t)),t}const Dw=(r,e)=>{const t=Cw(r),n=Cw(e);if(!t||!n)return Nh(r,e);const i={...t};return o=>(i.red=Vm(t.red,n.red,o),i.green=Vm(t.green,n.green,o),i.blue=Vm(t.blue,n.blue,o),i.alpha=vt(t.alpha,n.alpha,o),vo.transform(i))},iA=(r,e)=>t=>e(r(t)),yc=(...r)=>r.reduce(iA),Eg=new Set(["none","hidden"]);function sA(r,e){return Eg.has(r)?t=>t<=0?r:e:t=>t>=1?e:r}function oA(r,e){return t=>vt(r,e,t)}function jy(r){return typeof r=="number"?oA:typeof r=="string"?Ty(r)?Nh:ln.test(r)?Dw:uA:Array.isArray(r)?Lk:typeof r=="object"?ln.test(r)?Dw:aA:Nh}function Lk(r,e){const t=[...r],n=t.length,i=r.map((o,l)=>jy(o)(o,e[l]));return o=>{for(let l=0;l<n;l++)t[l]=i[l](o);return t}}function aA(r,e){const t={...r,...e},n={};for(const i in t)r[i]!==void 0&&e[i]!==void 0&&(n[i]=jy(r[i])(r[i],e[i]));return i=>{for(const o in n)t[o]=n[o](i);return t}}function lA(r,e){const t=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=r.indexes[o][n[o]],u=r.values[l]??0;t[i]=u,n[o]++}return t}const uA=(r,e)=>{const t=Ds.createTransformer(e),n=Xu(r),i=Xu(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Eg.has(r)&&!i.values.length||Eg.has(e)&&!n.values.length?sA(r,e):yc(Lk(lA(n,i),i.values),t):Nh(r,e)};function Vk(r,e,t){return typeof r=="number"&&typeof e=="number"&&typeof t=="number"?vt(r,e,t):jy(r)(r,e)}const cA=5;function Fk(r,e,t){const n=Math.max(e-cA,0);return ck(t-r(n),e-n)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yr=r=>r*1e3,Kr=r=>r/1e3,bw=.001;function dA({duration:r=Et.duration,bounce:e=Et.bounce,velocity:t=Et.velocity,mass:n=Et.mass}){let i,o,l=1-e;l=bi(Et.minDamping,Et.maxDamping,l),r=bi(Et.minDuration,Et.maxDuration,Kr(r)),l<1?(i=p=>{const m=p*l,y=m*r,w=m-t,E=Sg(p,l),I=Math.exp(-y);return bw-w/E*I},o=p=>{const y=p*l*r,w=y*t+t,E=Math.pow(l,2)*Math.pow(p,2)*r,I=Math.exp(-y),P=Sg(Math.pow(p,2),l);return(-i(p)+bw>0?-1:1)*((w-E)*I)/P}):(i=p=>{const m=Math.exp(-p*r),y=(p-t)*r+1;return-.001+m*y},o=p=>{const m=Math.exp(-p*r),y=(t-p)*(r*r);return m*y});const u=5/r,d=fA(i,o,u);if(r=Yr(r),isNaN(d))return{stiffness:Et.stiffness,damping:Et.damping,duration:r};{const p=Math.pow(d,2)*n;return{stiffness:p,damping:l*2*Math.sqrt(n*p),duration:r}}}const hA=12;function fA(r,e,t){let n=t;for(let i=1;i<hA;i++)n=n-r(n)/e(n);return n}function Sg(r,e){return r*Math.sqrt(1-e*e)}const Oh=2e4;function Uy(r){let e=0;const t=50;let n=r.next(e);for(;!n.done&&e<Oh;)e+=t,n=r.next(e);return e>=Oh?1/0:e}function pA(r,e=100,t){const n=t({...r,keyframes:[0,e]}),i=Math.min(Uy(n),Oh);return{type:"keyframes",ease:o=>n.next(i*o).value/e,duration:Kr(i)}}const mA={};function By(r){let e;return()=>(e===void 0&&(e=r()),e)}function gA(r,e){const t=By(r);return()=>mA[e]??t()}const Ju=gA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),jk=(r,e,t=10)=>{let n="";const i=Math.max(Math.round(e/t),2);for(let o=0;o<i;o++)n+=r(o/(i-1))+", ";return`linear(${n.substring(0,n.length-2)})`},yA=["duration","bounce"],vA=["stiffness","damping","mass"];function Pw(r,e){return e.some(t=>r[t]!==void 0)}function _A(r){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...r};if(!Pw(r,vA)&&Pw(r,yA))if(r.visualDuration){const t=r.visualDuration,n=2*Math.PI/(t*1.2),i=n*n,o=2*bi(.05,1,1-(r.bounce||0))*Math.sqrt(i);e={...e,mass:Et.mass,stiffness:i,damping:o}}else{const t=dA(r);e={...e,...t,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function Lh(r=Et.visualDuration,e=Et.bounce){const t=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:e}:r;let{restSpeed:n,restDelta:i}=t;const o=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:o},{stiffness:d,damping:p,mass:m,duration:y,velocity:w,isResolvedFromDuration:E}=_A({...t,velocity:-Kr(t.velocity||0)}),I=w||0,P=p/(2*Math.sqrt(d*m)),D=l-o,N=Kr(Math.sqrt(d/m)),V=Math.abs(D)<5;n||(n=V?Et.restSpeed.granular:Et.restSpeed.default),i||(i=V?Et.restDelta.granular:Et.restDelta.default);let L;if(P<1){const Q=Sg(N,P);L=Z=>{const b=Math.exp(-P*N*Z);return l-b*((I+P*N*D)/Q*Math.sin(Q*Z)+D*Math.cos(Q*Z))}}else if(P===1)L=Q=>l-Math.exp(-N*Q)*(D+(I+N*D)*Q);else{const Q=N*Math.sqrt(P*P-1);L=Z=>{const b=Math.exp(-P*N*Z),k=Math.min(Q*Z,300);return l-b*((I+P*N*D)*Math.sinh(k)+Q*D*Math.cosh(k))/Q}}const K={calculatedDuration:E&&y||null,next:Q=>{const Z=L(Q);if(E)u.done=Q>=y;else{let b=0;P<1&&(b=Q===0?Yr(I):Fk(L,Q,Z));const k=Math.abs(b)<=n,C=Math.abs(l-Z)<=i;u.done=k&&C}return u.value=u.done?l:Z,u},toString:()=>{const Q=Math.min(Uy(K),Oh),Z=jk(b=>K.next(Q*b).value,Q,30);return Q+"ms "+Z},toTransition:()=>{}};return K}Lh.applyToOptions=r=>{const e=pA(r,100,Lh);return r.ease=Ju()?e.ease:"easeOut",r.duration=Yr(e.duration),r.type="keyframes",r};function Aw({keyframes:r,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:d,restDelta:p=.5,restSpeed:m}){const y=r[0],w={done:!1,value:y},E=k=>u!==void 0&&k<u||d!==void 0&&k>d,I=k=>u===void 0?d:d===void 0||Math.abs(u-k)<Math.abs(d-k)?u:d;let P=t*e;const D=y+P,N=l===void 0?D:l(D);N!==D&&(P=N-y);const V=k=>-P*Math.exp(-k/n),L=k=>N+V(k),K=k=>{const C=V(k),R=L(k);w.done=Math.abs(C)<=p,w.value=w.done?N:R};let Q,Z;const b=k=>{E(w.value)&&(Q=k,Z=Lh({keyframes:[w.value,I(w.value)],velocity:Fk(L,k,w.value),damping:i,stiffness:o,restDelta:p,restSpeed:m}))};return b(0),{calculatedDuration:null,next:k=>{let C=!1;return!Z&&Q===void 0&&(C=!0,K(k),b(k)),Q!==void 0&&k>=Q?Z.next(k-Q):(!C&&K(k),w)}}}const wA=gc(.42,0,1,1),TA=gc(0,0,.58,1),Uk=gc(.42,0,.58,1),EA=r=>Array.isArray(r)&&typeof r[0]!="number",zy=r=>Array.isArray(r)&&typeof r[0]=="number",SA={linear:nr,easeIn:wA,easeInOut:Uk,easeOut:TA,circIn:Ny,circInOut:_k,circOut:vk,backIn:My,backInOut:gk,backOut:mk,anticipate:yk},Rw=r=>{if(zy(r)){XS(r.length===4);const[e,t,n,i]=r;return gc(e,t,n,i)}else if(typeof r=="string")return SA[r];return r},Zu=(r,e,t)=>{const n=e-r;return n===0?1:(t-r)/n};function kA(r,e,t){const n=[],i=t||Vk,o=r.length-1;for(let l=0;l<o;l++){let u=i(r[l],r[l+1]);if(e){const d=Array.isArray(e)?e[l]||nr:e;u=yc(d,u)}n.push(u)}return n}function xA(r,e,{clamp:t=!0,ease:n,mixer:i}={}){const o=r.length;if(XS(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=r[0]===r[1];r[0]>r[o-1]&&(r=[...r].reverse(),e=[...e].reverse());const u=kA(e,n,i),d=u.length,p=m=>{if(l&&m<r[0])return e[0];let y=0;if(d>1)for(;y<r.length-2&&!(m<r[y+1]);y++);const w=Zu(r[y],r[y+1],m);return u[y](w)};return t?m=>p(bi(r[0],r[o-1],m)):p}function IA(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const i=Zu(0,e,n);r.push(vt(t,1,i))}}function CA(r){const e=[0];return IA(e,r.length-1),e}function DA(r,e){return r.map(t=>t*e)}function bA(r,e){return r.map(()=>e||Uk).splice(0,r.length-1)}function Vh({duration:r=300,keyframes:e,times:t,ease:n="easeInOut"}){const i=EA(n)?n.map(Rw):Rw(n),o={done:!1,value:e[0]},l=DA(t&&t.length===e.length?t:CA(e),r),u=xA(l,e,{ease:Array.isArray(i)?i:bA(e,i)});return{calculatedDuration:r,next:d=>(o.value=u(d),o.done=d>=r,o)}}const PA=r=>{const e=({timestamp:t})=>r(t);return{start:()=>lt.update(e,!0),stop:()=>Cs(e),now:()=>Jt.isProcessing?Jt.timestamp:$r.now()}},AA={decay:Aw,inertia:Aw,tween:Vh,keyframes:Vh,spring:Lh},RA=r=>r/100;class Wy extends Ok{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:n,element:i,keyframes:o}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Vy,u=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(o,u,t,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=this.options,u=Fy(t)?t:AA[t]||Vh;let d,p;u!==Vh&&typeof e[0]!="number"&&(d=yc(RA,Vk(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});o==="mirror"&&(p=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=Uy(m));const{calculatedDuration:y}=m,w=y+i,E=w*(n+1)-i;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:y,resolvedDuration:w,totalDuration:E}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:n}=this;if(!n){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:d,calculatedDuration:p,totalDuration:m,resolvedDuration:y}=n;if(this.startTime===null)return o.next(0);const{delay:w,repeat:E,repeatType:I,repeatDelay:P,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const N=this.currentTime-w*(this.speed>=0?1:-1),V=this.speed>=0?N<0:N>m;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let L=this.currentTime,K=o;if(E){const k=Math.min(this.currentTime,m)/y;let C=Math.floor(k),R=k%1;!R&&k>=1&&(R=1),R===1&&C--,C=Math.min(C,E+1),!!(C%2)&&(I==="reverse"?(R=1-R,P&&(R-=P/y)):I==="mirror"&&(K=l)),L=bi(0,1,R)*y}const Q=V?{done:!1,value:d[0]}:K.next(L);u&&(Q.value=u(Q.value));let{done:Z}=Q;!V&&p!==null&&(Z=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return b&&i!==void 0&&(Q.value=kf(d,this.options,i)),D&&D(Q.value),b&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?Kr(e.calculatedDuration):0}get time(){return Kr(this.currentTime)}set time(e){e=Yr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Kr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=PA,onPlay:t,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),t&&t();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const MA=new Set(["opacity","clipPath","filter","transform"]),NA=By(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Du=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`,kg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Du([0,.65,.55,1]),circOut:Du([.55,0,1,.45]),backIn:Du([.31,.01,.66,-.59]),backOut:Du([.33,1.53,.69,.99])};function Bk(r,e){if(r)return typeof r=="function"&&Ju()?jk(r,e):zy(r)?Du(r):Array.isArray(r)?r.map(t=>Bk(t,e)||kg.easeOut):kg[r]}function OA(r,e,t,{delay:n=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:d}={},p=void 0){const m={[e]:t};d&&(m.offset=d);const y=Bk(u,i);return Array.isArray(y)&&(m.easing=y),r.animate(m,{delay:n,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal",pseudoElement:p})}function Mw(r,e){r.timeline=e,r.onfinish=null}function zk(r){return!!(typeof r=="function"&&Ju()||!r||typeof r=="string"&&(r in kg||Ju())||zy(r)||Array.isArray(r)&&r.every(zk))}const Fh=10,LA=2e4;function VA(r){return Fy(r.type)||r.type==="spring"||!zk(r.ease)}function FA(r,e){const t=new Wy({...e,keyframes:r,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:r[0]};const i=[];let o=0;for(;!n.done&&o<LA;)n=t.sample(o),i.push(n.value),o+=Fh;return{times:void 0,keyframes:i,duration:o-Fh,ease:"linear"}}const Wk={anticipate:yk,backInOut:gk,circInOut:_k};function jA(r){return r in Wk}class Nw extends Ok{constructor(e){super(e);const{name:t,motionValue:n,element:i,keyframes:o}=this.options;this.resolver=new Nk(o,(l,u)=>this.onKeyframesResolved(l,u),t,n,i),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:n=300,times:i,ease:o,type:l,motionValue:u,name:d,startTime:p}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&Ju()&&jA(o)&&(o=Wk[o]),VA(this.options)){const{onComplete:y,onUpdate:w,motionValue:E,element:I,...P}=this.options,D=FA(e,P);e=D.keyframes,e.length===1&&(e[1]=e[0]),n=D.duration,i=D.times,o=D.ease,l="keyframes"}const m=OA(u.owner.current,d,e,{...this.options,duration:n,times:i,ease:o});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(Mw(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set(kf(e,this.options,t)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:n,times:i,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Kr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Kr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.currentTime=Yr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return nr;const{animation:n}=t;Mw(n,e)}return nr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:n,duration:i,type:o,ease:l,times:u}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:y,element:w,...E}=this.options,I=new Wy({...E,keyframes:n,duration:i,type:o,ease:l,times:u,isGenerator:!0}),P=Yr(this.time);p.setWithVelocity(I.sample(P-Fh).value,I.sample(P).value,Fh)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:o,damping:l,type:u}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return NA()&&n&&MA.has(n)&&(n!=="transform"||!p)&&!d&&!i&&o!=="mirror"&&l!==0&&u!=="inertia"}}const UA={type:"spring",stiffness:500,damping:25,restSpeed:10},BA=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),zA={type:"keyframes",duration:.8},WA={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HA=(r,{keyframes:e})=>e.length>2?zA:Oo.has(r)?r.startsWith("scale")?BA(e[1]):UA:WA;function $A({when:r,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:u,from:d,elapsed:p,...m}){return!!Object.keys(m).length}function Hy(r,e){return(r==null?void 0:r[e])??(r==null?void 0:r.default)??r}const YA=By(()=>window.ScrollTimeline!==void 0);class KA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=t}attachTimeline(e,t){const n=this.animations.map(i=>{if(YA()&&i.attachTimeline)return i.attachTimeline(e);if(typeof t=="function")return t(i)});return()=>{n.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class qA extends KA{then(e,t){return this.finished.finally(e).then(()=>{})}}const $y=(r,e,t,n={},i,o)=>l=>{const u=Hy(n,r)||{},d=u.delay||n.delay||0;let{elapsed:p=0}=n;p=p-Yr(d);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:r,motionValue:e,element:o?void 0:i};$A(u)||(m={...m,...HA(r,m)}),m.duration&&(m.duration=Yr(m.duration)),m.repeatDelay&&(m.repeatDelay=Yr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),m.allowFlatten=!u.type&&!u.ease,y&&!o&&e.get()!==void 0){const w=kf(m.keyframes,u);if(w!==void 0)return lt.update(()=>{m.onUpdate(w),m.onComplete()}),new qA([])}return!o&&Nw.supports(m)?new Nw(m):new Wy(m)};function GA({protectedKeys:r,needsAnimating:e},t){const n=r.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function Hk(r,e,{delay:t=0,transitionOverride:n,type:i}={}){let{transition:o=r.getDefaultTransition(),transitionEnd:l,...u}=e;n&&(o=n);const d=[],p=i&&r.animationState&&r.animationState.getState()[i];for(const m in u){const y=r.getValue(m,r.latestValues[m]??null),w=u[m];if(w===void 0||p&&GA(p,m))continue;const E={delay:t,...Hy(o||{},m)};let I=!1;if(window.MotionHandoffAnimation){const D=dk(r);if(D){const N=window.MotionHandoffAnimation(D,m,lt);N!==null&&(E.startTime=N,I=!0)}}pg(r,m),y.start($y(m,y,w,r.shouldReduceMotion&&uk.has(m)?{type:!1}:E,r,I));const P=y.animation;P&&d.push(P)}return l&&Promise.all(d).then(()=>{lt.update(()=>{l&&yP(r,l)})}),d}function xg(r,e,t={}){var d;const n=Gu(r,e,t.type==="exit"?(d=r.presenceContext)==null?void 0:d.custom:void 0);let{transition:i=r.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(i=t.transitionOverride);const o=n?()=>Promise.all(Hk(r,n,t)):()=>Promise.resolve(),l=r.variantChildren&&r.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:w}=i;return QA(r,e,m+p,y,w,t)}:()=>Promise.resolve(),{when:u}=i;if(u){const[p,m]=u==="beforeChildren"?[o,l]:[l,o];return p().then(()=>m())}else return Promise.all([o(),l(t.delay)])}function QA(r,e,t=0,n=0,i=1,o){const l=[],u=(r.variantChildren.size-1)*n,d=i===1?(p=0)=>p*n:(p=0)=>u-p*n;return Array.from(r.variantChildren).sort(XA).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(xg(p,e,{...o,delay:t+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function XA(r,e){return r.sortNodePosition(e)}function JA(r,e,t={}){r.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(o=>xg(r,o,t));n=Promise.all(i)}else if(typeof e=="string")n=xg(r,e,t);else{const i=typeof e=="function"?Gu(r,e,t.custom):e;n=Promise.all(Hk(r,i,t))}return n.then(()=>{r.notify("AnimationComplete",e)})}function $k(r,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==r.length)return!1;for(let n=0;n<t;n++)if(e[n]!==r[n])return!1;return!0}const ZA=yy.length;function Yk(r){if(!r)return;if(!r.isControllingVariants){const t=r.parent?Yk(r.parent)||{}:{};return r.props.initial!==void 0&&(t.initial=r.props.initial),t}const e={};for(let t=0;t<ZA;t++){const n=yy[t],i=r.props[n];(Yu(i)||i===!1)&&(e[n]=i)}return e}const eR=[...gy].reverse(),tR=gy.length;function nR(r){return e=>Promise.all(e.map(({animation:t,options:n})=>JA(r,t,n)))}function rR(r){let e=nR(r),t=Ow(),n=!0;const i=d=>(p,m)=>{var w;const y=Gu(r,m,d==="exit"?(w=r.presenceContext)==null?void 0:w.custom:void 0);if(y){const{transition:E,transitionEnd:I,...P}=y;p={...p,...P,...I}}return p};function o(d){e=d(r)}function l(d){const{props:p}=r,m=Yk(r.parent)||{},y=[],w=new Set;let E={},I=1/0;for(let D=0;D<tR;D++){const N=eR[D],V=t[N],L=p[N]!==void 0?p[N]:m[N],K=Yu(L),Q=N===d?V.isActive:null;Q===!1&&(I=D);let Z=L===m[N]&&L!==p[N]&&K;if(Z&&n&&r.manuallyAnimateOnMount&&(Z=!1),V.protectedKeys={...E},!V.isActive&&Q===null||!L&&!V.prevProp||Ef(L)||typeof L=="boolean")continue;const b=iR(V.prevProp,L);let k=b||N===d&&V.isActive&&!Z&&K||D>I&&K,C=!1;const R=Array.isArray(L)?L:[L];let O=R.reduce(i(N),{});Q===!1&&(O={});const{prevResolvedValues:F={}}=V,A={...F,...O},Te=ae=>{k=!0,w.has(ae)&&(C=!0,w.delete(ae)),V.needsAnimating[ae]=!0;const J=r.getValue(ae);J&&(J.liveStyle=!1)};for(const ae in A){const J=O[ae],ce=F[ae];if(E.hasOwnProperty(ae))continue;let le=!1;fg(J)&&fg(ce)?le=!$k(J,ce):le=J!==ce,le?J!=null?Te(ae):w.add(ae):J!==void 0&&w.has(ae)?Te(ae):V.protectedKeys[ae]=!0}V.prevProp=L,V.prevResolvedValues=O,V.isActive&&(E={...E,...O}),n&&r.blockInitialAnimation&&(k=!1),k&&(!(Z&&b)||C)&&y.push(...R.map(ae=>({animation:ae,options:{type:N}})))}if(w.size){const D={};if(typeof p.initial!="boolean"){const N=Gu(r,Array.isArray(p.initial)?p.initial[0]:p.initial);N&&N.transition&&(D.transition=N.transition)}w.forEach(N=>{const V=r.getBaseTarget(N),L=r.getValue(N);L&&(L.liveStyle=!0),D[N]=V??null}),y.push({animation:D})}let P=!!y.length;return n&&(p.initial===!1||p.initial===p.animate)&&!r.manuallyAnimateOnMount&&(P=!1),n=!1,P?e(y):Promise.resolve()}function u(d,p){var y;if(t[d].isActive===p)return Promise.resolve();(y=r.variantChildren)==null||y.forEach(w=>{var E;return(E=w.animationState)==null?void 0:E.setActive(d,p)}),t[d].isActive=p;const m=l(d);for(const w in t)t[w].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>t,reset:()=>{t=Ow(),n=!0}}}function iR(r,e){return typeof e=="string"?e!==r:Array.isArray(e)?!$k(e,r):!1}function po(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ow(){return{animate:po(!0),whileInView:po(),whileHover:po(),whileTap:po(),whileDrag:po(),whileFocus:po(),exit:po()}}class Vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sR extends Vs{constructor(e){super(e),e.animationState||(e.animationState=rR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oR=0;class aR extends Vs{constructor(){super(...arguments),this.id=oR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lR={animation:{Feature:sR},exit:{Feature:aR}};function ec(r,e,t,n={passive:!0}){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t)}const Yy=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function vc(r){return{point:{x:r.pageX,y:r.pageY}}}const uR=r=>e=>Yy(e)&&r(e,vc(e));function Fu(r,e,t,n){return ec(r,e,uR(t),n)}function Kk({top:r,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:r,max:n}}}function cR({x:r,y:e}){return{top:e.min,right:r.max,bottom:e.max,left:r.min}}function dR(r,e){if(!e)return r;const t=e({x:r.left,y:r.top}),n=e({x:r.right,y:r.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}const qk=1e-4,hR=1-qk,fR=1+qk,Gk=.01,pR=0-Gk,mR=0+Gk;function vn(r){return r.max-r.min}function gR(r,e,t){return Math.abs(r-e)<=t}function Lw(r,e,t,n=.5){r.origin=n,r.originPoint=vt(e.min,e.max,r.origin),r.scale=vn(t)/vn(e),r.translate=vt(t.min,t.max,r.origin)-r.originPoint,(r.scale>=hR&&r.scale<=fR||isNaN(r.scale))&&(r.scale=1),(r.translate>=pR&&r.translate<=mR||isNaN(r.translate))&&(r.translate=0)}function ju(r,e,t,n){Lw(r.x,e.x,t.x,n?n.originX:void 0),Lw(r.y,e.y,t.y,n?n.originY:void 0)}function Vw(r,e,t){r.min=t.min+e.min,r.max=r.min+vn(e)}function yR(r,e,t){Vw(r.x,e.x,t.x),Vw(r.y,e.y,t.y)}function Fw(r,e,t){r.min=e.min-t.min,r.max=r.min+vn(e)}function Uu(r,e,t){Fw(r.x,e.x,t.x),Fw(r.y,e.y,t.y)}const jw=()=>({translate:0,scale:1,origin:0,originPoint:0}),za=()=>({x:jw(),y:jw()}),Uw=()=>({min:0,max:0}),It=()=>({x:Uw(),y:Uw()});function Xn(r){return[r("x"),r("y")]}function Fm(r){return r===void 0||r===1}function Ig({scale:r,scaleX:e,scaleY:t}){return!Fm(r)||!Fm(e)||!Fm(t)}function mo(r){return Ig(r)||Qk(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function Qk(r){return Bw(r.x)||Bw(r.y)}function Bw(r){return r&&r!=="0%"}function jh(r,e,t){const n=r-t,i=e*n;return t+i}function zw(r,e,t,n,i){return i!==void 0&&(r=jh(r,i,n)),jh(r,t,n)+e}function Cg(r,e=0,t=1,n,i){r.min=zw(r.min,e,t,n,i),r.max=zw(r.max,e,t,n,i)}function Xk(r,{x:e,y:t}){Cg(r.x,e.translate,e.scale,e.originPoint),Cg(r.y,t.translate,t.scale,t.originPoint)}const Ww=.999999999999,Hw=1.0000000000001;function vR(r,e,t,n=!1){const i=t.length;if(!i)return;e.x=e.y=1;let o,l;for(let u=0;u<i;u++){o=t[u],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ha(r,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,Xk(r,l)),n&&mo(o.latestValues)&&Ha(r,o.latestValues))}e.x<Hw&&e.x>Ww&&(e.x=1),e.y<Hw&&e.y>Ww&&(e.y=1)}function Wa(r,e){r.min=r.min+e,r.max=r.max+e}function $w(r,e,t,n,i=.5){const o=vt(r.min,r.max,i);Cg(r,e,t,o,n)}function Ha(r,e){$w(r.x,e.x,e.scaleX,e.scale,e.originX),$w(r.y,e.y,e.scaleY,e.scale,e.originY)}function Jk(r,e){return Kk(dR(r.getBoundingClientRect(),e))}function _R(r,e,t){const n=Jk(r,t),{scroll:i}=e;return i&&(Wa(n.x,i.offset.x),Wa(n.y,i.offset.y)),n}const Zk=({current:r})=>r?r.ownerDocument.defaultView:null,Yw=(r,e)=>Math.abs(r-e);function wR(r,e){const t=Yw(r.x,e.x),n=Yw(r.y,e.y);return Math.sqrt(t**2+n**2)}class ex{constructor(e,t,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Um(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,E=wR(y.offset,{x:0,y:0})>=3;if(!w&&!E)return;const{point:I}=y,{timestamp:P}=Jt;this.history.push({...I,timestamp:P});const{onStart:D,onMove:N}=this.handlers;w||(D&&D(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=jm(w,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:E,onSessionEnd:I,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Um(y.type==="pointercancel"?this.lastMoveEventInfo:jm(w,this.transformPagePoint),this.history);this.startEvent&&E&&E(y,D),I&&I(y,D)},!Yy(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=i||window;const l=vc(e),u=jm(l,this.transformPagePoint),{point:d}=u,{timestamp:p}=Jt;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=t;m&&m(e,Um(u,this.history)),this.removeListeners=yc(Fu(this.contextWindow,"pointermove",this.handlePointerMove),Fu(this.contextWindow,"pointerup",this.handlePointerUp),Fu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cs(this.updatePoint)}}function jm(r,e){return e?{point:e(r.point)}:r}function Kw(r,e){return{x:r.x-e.x,y:r.y-e.y}}function Um({point:r},e){return{point:r,delta:Kw(r,tx(e)),offset:Kw(r,TR(e)),velocity:ER(e,.1)}}function TR(r){return r[0]}function tx(r){return r[r.length-1]}function ER(r,e){if(r.length<2)return{x:0,y:0};let t=r.length-1,n=null;const i=tx(r);for(;t>=0&&(n=r[t],!(i.timestamp-n.timestamp>Yr(e)));)t--;if(!n)return{x:0,y:0};const o=Kr(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function SR(r,{min:e,max:t},n){return e!==void 0&&r<e?r=n?vt(e,r,n.min):Math.max(r,e):t!==void 0&&r>t&&(r=n?vt(t,r,n.max):Math.min(r,t)),r}function qw(r,e,t){return{min:e!==void 0?r.min+e:void 0,max:t!==void 0?r.max+t-(r.max-r.min):void 0}}function kR(r,{top:e,left:t,bottom:n,right:i}){return{x:qw(r.x,t,i),y:qw(r.y,e,n)}}function Gw(r,e){let t=e.min-r.min,n=e.max-r.max;return e.max-e.min<r.max-r.min&&([t,n]=[n,t]),{min:t,max:n}}function xR(r,e){return{x:Gw(r.x,e.x),y:Gw(r.y,e.y)}}function IR(r,e){let t=.5;const n=vn(r),i=vn(e);return i>n?t=Zu(e.min,e.max-n,r.min):n>i&&(t=Zu(r.min,r.max-i,e.min)),bi(0,1,t)}function CR(r,e){const t={};return e.min!==void 0&&(t.min=e.min-r.min),e.max!==void 0&&(t.max=e.max-r.min),t}const Dg=.35;function DR(r=Dg){return r===!1?r=0:r===!0&&(r=Dg),{x:Qw(r,"left","right"),y:Qw(r,"top","bottom")}}function Qw(r,e,t){return{min:Xw(r,e),max:Xw(r,t)}}function Xw(r,e){return typeof r=="number"?r:r[e]||0}const _r={x:!1,y:!1};function nx(){return _r.x||_r.y}function bR(r){return r==="x"||r==="y"?_r[r]?null:(_r[r]=!0,()=>{_r[r]=!1}):_r.x||_r.y?null:(_r.x=_r.y=!0,()=>{_r.x=_r.y=!1})}const PR=new WeakMap;class AR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=It(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(vc(m).point)},o=(m,y)=>{const{drag:w,dragPropagation:E,onDragStart:I}=this.getProps();if(w&&!E&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bR(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Xn(D=>{let N=this.getAxisMotionValue(D).get()||0;if(Hr.test(N)){const{projection:V}=this.visualElement;if(V&&V.layout){const L=V.layout.layoutBox[D];L&&(N=vn(L)*(parseFloat(N)/100))}}this.originPoint[D]=N}),I&&lt.postRender(()=>I(m,y)),pg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:w,dragDirectionLock:E,onDirectionLock:I,onDrag:P}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:D}=y;if(E&&this.currentDirection===null){this.currentDirection=RR(D),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",y.point,D),this.updateAxis("y",y.point,D),this.visualElement.render(),P&&P(m,y)},u=(m,y)=>this.stop(m,y),d=()=>Xn(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ex(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Zk(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=t;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&lt.postRender(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!Zd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(l=SR(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Ua(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=kR(n.layoutBox,e):this.constraints=!1,this.elastic=DR(t),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Xn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=CR(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ua(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=_R(n,i.root,this.visualElement.getTransformPagePoint());let l=xR(i.layout.layoutBox,o);if(t){const u=t(cR(l));this.hasMutatedConstraints=!!u,u&&(l=Kk(u))}return l}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},p=Xn(m=>{if(!Zd(m,t,this.currentDirection))return;let y=d&&d[m]||{};l&&(y={min:0,max:0});const w=i?200:1e6,E=i?40:1e7,I={type:"inertia",velocity:n?e[m]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,I)});return Promise.all(p).then(u)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return pg(this.visualElement,e),n.start($y(e,n,0,t,this.visualElement,!1))}stopAnimation(){Xn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Xn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Xn(t=>{const{drag:n}=this.getProps();if(!Zd(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(t);if(i&&i.layout){const{min:l,max:u}=i.layout.layoutBox[t];o.set(e[t]-vt(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Ua(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Xn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const d=u.get();i[l]=IR({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Xn(l=>{if(!Zd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];u.set(vt(d,p,i[l]))})}addListeners(){if(!this.visualElement.current)return;PR.set(this.visualElement,this);const e=this.visualElement.current,t=Fu(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Ua(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),lt.read(n);const l=ec(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Xn(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=d[m].translate,y.set(y.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),t(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Dg,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Zd(r,e,t){return(e===!0||e===r)&&(t===null||t===r)}function RR(r,e=10){let t=null;return Math.abs(r.y)>e?t="y":Math.abs(r.x)>e&&(t="x"),t}class MR extends Vs{constructor(e){super(e),this.removeGroupControls=nr,this.removeListeners=nr,this.controls=new AR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jw=r=>(e,t)=>{r&&lt.postRender(()=>r(e,t))};class NR extends Vs{constructor(){super(...arguments),this.removePointerDownListener=nr}onPointerDown(e){this.session=new ex(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:Jw(e),onStart:Jw(t),onMove:n,onEnd:(o,l)=>{delete this.session,i&&lt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zw(r,e){return e.max===e.min?0:r/(e.max-e.min)*100}const Su={correct:(r,e)=>{if(!e.target)return r;if(typeof r=="string")if(Ce.test(r))r=parseFloat(r);else return r;const t=Zw(r,e.target.x),n=Zw(r,e.target.y);return`${t}% ${n}%`}},OR={correct:(r,{treeScale:e,projectionDelta:t})=>{const n=r,i=Ds.parse(r);if(i.length>5)return n;const o=Ds.createTransformer(r),l=typeof i[0]!="number"?1:0,u=t.x.scale*e.x,d=t.y.scale*e.y;i[0+l]/=u,i[1+l]/=d;const p=vt(u,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=p),typeof i[3+l]=="number"&&(i[3+l]/=p),o(i)}};class LR extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=e;zb(VR),o&&(t.group&&t.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),gh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:o}=this.props,l=n.projection;return l&&(l.isPresent=o,i||e.layoutDependency!==t||t===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||lt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_y.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rx(r){const[e,t]=Tb(),n=H.useContext(zS);return z.jsx(LR,{...r,layoutGroup:n,switchLayoutGroup:H.useContext(GS),isPresent:e,safeToRemove:t})}const VR={borderRadius:{...Su,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Su,borderTopRightRadius:Su,borderBottomLeftRadius:Su,borderBottomRightRadius:Su,boxShadow:OR};function FR(r,e,t){const n=dn(r)?r:Qu(r);return n.start($y("",n,e,t)),n.animation}function jR(r){return r instanceof SVGElement&&r.tagName!=="svg"}const UR=(r,e)=>r.depth-e.depth;class BR{constructor(){this.children=[],this.isDirty=!1}add(e){Py(this.children,e),this.isDirty=!0}remove(e){Ay(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(UR),this.isDirty=!1,this.children.forEach(e)}}function zR(r,e){const t=$r.now(),n=({timestamp:i})=>{const o=i-t;o>=e&&(Cs(n),r(o-e))};return lt.read(n,!0),()=>Cs(n)}const ix=["TopLeft","TopRight","BottomLeft","BottomRight"],WR=ix.length,eT=r=>typeof r=="string"?parseFloat(r):r,tT=r=>typeof r=="number"||Ce.test(r);function HR(r,e,t,n,i,o){i?(r.opacity=vt(0,t.opacity??1,$R(n)),r.opacityExit=vt(e.opacity??1,0,YR(n))):o&&(r.opacity=vt(e.opacity??1,t.opacity??1,n));for(let l=0;l<WR;l++){const u=`border${ix[l]}Radius`;let d=nT(e,u),p=nT(t,u);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||tT(d)===tT(p)?(r[u]=Math.max(vt(eT(d),eT(p),n),0),(Hr.test(p)||Hr.test(d))&&(r[u]+="%")):r[u]=p}(e.rotate||t.rotate)&&(r.rotate=vt(e.rotate||0,t.rotate||0,n))}function nT(r,e){return r[e]!==void 0?r[e]:r.borderRadius}const $R=sx(0,.5,vk),YR=sx(.5,.95,nr);function sx(r,e,t){return n=>n<r?0:n>e?1:t(Zu(r,e,n))}function rT(r,e){r.min=e.min,r.max=e.max}function Qn(r,e){rT(r.x,e.x),rT(r.y,e.y)}function iT(r,e){r.translate=e.translate,r.scale=e.scale,r.originPoint=e.originPoint,r.origin=e.origin}function sT(r,e,t,n,i){return r-=e,r=jh(r,1/t,n),i!==void 0&&(r=jh(r,1/i,n)),r}function KR(r,e=0,t=1,n=.5,i,o=r,l=r){if(Hr.test(e)&&(e=parseFloat(e),e=vt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=vt(o.min,o.max,n);r===o&&(u-=e),r.min=sT(r.min,e,t,u,i),r.max=sT(r.max,e,t,u,i)}function oT(r,e,[t,n,i],o,l){KR(r,e[t],e[n],e[i],e.scale,o,l)}const qR=["x","scaleX","originX"],GR=["y","scaleY","originY"];function aT(r,e,t,n){oT(r.x,e,qR,t?t.x:void 0,n?n.x:void 0),oT(r.y,e,GR,t?t.y:void 0,n?n.y:void 0)}function lT(r){return r.translate===0&&r.scale===1}function ox(r){return lT(r.x)&&lT(r.y)}function uT(r,e){return r.min===e.min&&r.max===e.max}function QR(r,e){return uT(r.x,e.x)&&uT(r.y,e.y)}function cT(r,e){return Math.round(r.min)===Math.round(e.min)&&Math.round(r.max)===Math.round(e.max)}function ax(r,e){return cT(r.x,e.x)&&cT(r.y,e.y)}function dT(r){return vn(r.x)/vn(r.y)}function hT(r,e){return r.translate===e.translate&&r.scale===e.scale&&r.originPoint===e.originPoint}class XR{constructor(){this.members=[]}add(e){Py(this.members,e),e.scheduleRender()}remove(e){if(Ay(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let n;for(let i=t;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JR(r,e,t){let n="";const i=r.x.translate/e.x,o=r.y.translate/e.y,l=(t==null?void 0:t.z)||0;if((i||o||l)&&(n=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:y,rotateY:w,skewX:E,skewY:I}=t;p&&(n=`perspective(${p}px) ${n}`),m&&(n+=`rotate(${m}deg) `),y&&(n+=`rotateX(${y}deg) `),w&&(n+=`rotateY(${w}deg) `),E&&(n+=`skewX(${E}deg) `),I&&(n+=`skewY(${I}deg) `)}const u=r.x.scale*e.x,d=r.y.scale*e.y;return(u!==1||d!==1)&&(n+=`scale(${u}, ${d})`),n||"none"}const Bm=["","X","Y","Z"],ZR={visibility:"hidden"},fT=1e3;let eM=0;function zm(r,e,t,n){const{latestValues:i}=e;i[r]&&(t[r]=i[r],e.setStaticValue(r,0),n&&(n[r]=0))}function lx(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:e}=r.options;if(!e)return;const t=dk(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:o}=r.options;window.MotionCancelOptimisedAnimation(t,"transform",lt,!(i||o))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&lx(n)}function ux({attachResizeListener:r,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},u=e==null?void 0:e()){this.id=eM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rM),this.nodes.forEach(lM),this.nodes.forEach(uM),this.nodes.forEach(iM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new BR)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ry),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const d=this.eventHandlers.get(l);d&&d.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jR(l),this.instance=l;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(p||d)&&(this.isLayoutDirty=!0),r){let y;const w=()=>this.root.updateBlockedByResize=!1;r(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=zR(w,250),gh.hasAnimatedSinceResize&&(gh.hasAnimatedSinceResize=!1,this.nodes.forEach(mT))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||m.getDefaultTransition()||pM,{onLayoutAnimationStart:D,onLayoutAnimationComplete:N}=m.getProps(),V=!this.targetLayout||!ax(this.targetLayout,I),L=!w&&E;if(this.options.layoutRoot||this.resumeFrom||L||w&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,L);const K={...Hy(P,"layout"),onPlay:D,onComplete:N};(m.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else w||mT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cM),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pT);return}this.isUpdating||this.nodes.forEach(oM),this.isUpdating=!1,this.nodes.forEach(aM),this.nodes.forEach(tM),this.nodes.forEach(nM),this.clearAllSnapshots();const u=$r.now();Jt.delta=bi(0,1e3/60,u-Jt.timestamp),Jt.timestamp=u,Jt.isProcessing=!0,Nm.update.process(Jt),Nm.preRender.process(Jt),Nm.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_y.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sM),this.sharedNodes.forEach(dM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vn(this.snapshot.measuredBox.x)&&!vn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=It(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!ox(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(u||mo(this.latestValues)||m)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return l&&(d=this.removeTransform(d)),mM(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return It();const u=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(gM))){const{scroll:m}=this.root;m&&(Wa(u.x,m.offset.x),Wa(u.y,m.offset.y))}return u}removeElementScroll(l){var d;const u=It();if(Qn(u,l),(d=this.scroll)!=null&&d.wasRoot)return u;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:w}=m;m!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&Qn(u,l),Wa(u.x,y.offset.x),Wa(u.y,y.offset.y))}return u}applyTransform(l,u=!1){const d=It();Qn(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ha(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),mo(m.latestValues)&&Ha(d,m.latestValues)}return mo(this.latestValues)&&Ha(d,this.latestValues),d}removeTransform(l){const u=It();Qn(u,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!mo(p.latestValues))continue;Ig(p.latestValues)&&p.updateSnapshot();const m=It(),y=p.measurePageBox();Qn(m,y),aT(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return mo(this.latestValues)&&aT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var w;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Uu(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=It(),this.targetWithTransforms=It()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),Xk(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=It(),this.relativeTargetOrigin=It(),Uu(this.relativeTargetOrigin,this.target,E.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ig(this.parent.latestValues)||Qk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var I;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(I=this.parent)!=null&&I.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Qn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;vR(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=It());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(iT(this.prevProjectionDelta.x,this.projectionDelta.x),iT(this.prevProjectionDelta.y,this.projectionDelta.y)),ju(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!hT(this.projectionDelta.x,this.prevProjectionDelta.x)||!hT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=za(),this.projectionDelta=za(),this.projectionDeltaWithTransform=za()}setAnimationOrigin(l,u=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},y=za();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=It(),E=d?d.source:void 0,I=this.layout?this.layout.source:void 0,P=E!==I,D=this.getStack(),N=!D||D.members.length<=1,V=!!(P&&!N&&this.options.crossfade===!0&&!this.path.some(fM));this.animationProgress=0;let L;this.mixTargetDelta=K=>{const Q=K/1e3;gT(y.x,l.x,Q),gT(y.y,l.y,Q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uu(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hM(this.relativeTarget,this.relativeTargetOrigin,w,Q),L&&QR(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=It()),Qn(L,this.relativeTarget)),P&&(this.animationValues=m,HR(m,p,this.latestValues,Q,V,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{gh.hasAnimatedSinceResize=!0,this.currentAnimation=FR(0,fT,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:d,layout:p,latestValues:m}=l;if(!(!u||!d||!p)){if(this!==l&&this.layout&&p&&cx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||It();const y=vn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=vn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}Qn(u,d),Ha(u,m),ju(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new XR),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var u;const{layoutId:l}=this.options;return l?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:l}=this.options;return l?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(u=!0),!u)return;const p={};d.z&&zm("z",l,p,this.animationValues);for(let m=0;m<Bm.length;m++)zm(`rotate${Bm[m]}`,l,p,this.animationValues),zm(`skew${Bm[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZR;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ph(l==null?void 0:l.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=ph(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!mo(this.latestValues)&&(E.transform=d?d({},""):"none",this.hasProjected=!1),E}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=JR(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:y,y:w}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const E in Ku){if(m[E]===void 0)continue;const{correct:I,applyTo:P,isCSSVariable:D}=Ku[E],N=u.transform==="none"?m[E]:I(m[E],p);if(P){const V=P.length;for(let L=0;L<V;L++)u[P[L]]=N}else D?this.options.visualElement.renderState.vars[E]=N:u[E]=N}return this.options.layoutId&&(u.pointerEvents=p===this?ph(l==null?void 0:l.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(pT),this.root.sharedNodes.clear()}}}function tM(r){r.updateLayout()}function nM(r){var t;const e=((t=r.resumeFrom)==null?void 0:t.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=r.layout,{animationType:o}=r.options,l=e.source!==r.layout.source;o==="size"?Xn(y=>{const w=l?e.measuredBox[y]:e.layoutBox[y],E=vn(w);w.min=n[y].min,w.max=w.min+E}):cx(o,e.layoutBox,n)&&Xn(y=>{const w=l?e.measuredBox[y]:e.layoutBox[y],E=vn(n[y]);w.max=w.min+E,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[y].max=r.relativeTarget[y].min+E)});const u=za();ju(u,n,e.layoutBox);const d=za();l?ju(d,r.applyTransform(i,!0),e.measuredBox):ju(d,n,e.layoutBox);const p=!ox(u);let m=!1;if(!r.resumeFrom){const y=r.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:E}=y;if(w&&E){const I=It();Uu(I,e.layoutBox,w.layoutBox);const P=It();Uu(P,n,E.layoutBox),ax(I,P)||(m=!0),y.options.layoutRoot&&(r.relativeTarget=P,r.relativeTargetOrigin=I,r.relativeParent=y)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function rM(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function iM(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function sM(r){r.clearSnapshot()}function pT(r){r.clearMeasurements()}function oM(r){r.isLayoutDirty=!1}function aM(r){const{visualElement:e}=r.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),r.resetTransform()}function mT(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function lM(r){r.resolveTargetDelta()}function uM(r){r.calcProjection()}function cM(r){r.resetSkewAndRotation()}function dM(r){r.removeLeadSnapshot()}function gT(r,e,t){r.translate=vt(e.translate,0,t),r.scale=vt(e.scale,1,t),r.origin=e.origin,r.originPoint=e.originPoint}function yT(r,e,t,n){r.min=vt(e.min,t.min,n),r.max=vt(e.max,t.max,n)}function hM(r,e,t,n){yT(r.x,e.x,t.x,n),yT(r.y,e.y,t.y,n)}function fM(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const pM={duration:.45,ease:[.4,0,.1,1]},vT=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),_T=vT("applewebkit/")&&!vT("chrome/")?Math.round:nr;function wT(r){r.min=_T(r.min),r.max=_T(r.max)}function mM(r){wT(r.x),wT(r.y)}function cx(r,e,t){return r==="position"||r==="preserve-aspect"&&!gR(dT(e),dT(t),.2)}function gM(r){var e;return r!==r.root&&((e=r.scroll)==null?void 0:e.wasRoot)}const yM=ux({attachResizeListener:(r,e)=>ec(r,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wm={current:void 0},dx=ux({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Wm.current){const r=new yM({});r.mount(window),r.setOptions({layoutScroll:!0}),Wm.current=r}return Wm.current},resetTransform:(r,e)=>{r.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),vM={pan:{Feature:NR},drag:{Feature:MR,ProjectionNode:dx,MeasureLayout:rx}};function _M(r,e,t){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const i=(t==null?void 0:t[r])??n.querySelectorAll(r);return i?Array.from(i):[]}return Array.from(r)}function hx(r,e){const t=_M(r),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[t,i,()=>n.abort()]}function TT(r){return!(r.pointerType==="touch"||nx())}function wM(r,e,t={}){const[n,i,o]=hx(r,t),l=u=>{if(!TT(u))return;const{target:d}=u,p=e(d,u);if(typeof p!="function"||!d)return;const m=y=>{TT(y)&&(p(y),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,i)};return n.forEach(u=>{u.addEventListener("pointerenter",l,i)}),o}function ET(r,e,t){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,o=n[i];o&&lt.postRender(()=>o(e,vc(e)))}class TM extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=wM(e,(t,n)=>(ET(this.node,n,"Start"),i=>ET(this.node,i,"End"))))}unmount(){}}class EM extends Vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yc(ec(this.node.current,"focus",()=>this.onFocus()),ec(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const fx=(r,e)=>e?r===e?!0:fx(r,e.parentElement):!1,SM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kM(r){return SM.has(r.tagName)||r.tabIndex!==-1}const bu=new WeakSet;function ST(r){return e=>{e.key==="Enter"&&r(e)}}function Hm(r,e){r.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xM=(r,e)=>{const t=r.currentTarget;if(!t)return;const n=ST(()=>{if(bu.has(t))return;Hm(t,"down");const i=ST(()=>{Hm(t,"up")}),o=()=>Hm(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function kT(r){return Yy(r)&&!nx()}function IM(r,e,t={}){const[n,i,o]=hx(r,t),l=u=>{const d=u.currentTarget;if(!kT(u)||bu.has(d))return;bu.add(d);const p=e(d,u),m=(E,I)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),!(!kT(E)||!bu.has(d))&&(bu.delete(d),typeof p=="function"&&p(E,{success:I}))},y=E=>{m(E,d===window||d===document||t.useGlobalTarget||fx(d,E.target))},w=E=>{m(E,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",w,i)};return n.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,i),u instanceof HTMLElement&&(u.addEventListener("focus",p=>xM(p,i)),!kM(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function xT(r,e,t){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),o=n[i];o&&lt.postRender(()=>o(e,vc(e)))}class CM extends Vs{mount(){const{current:e}=this.node;e&&(this.unmount=IM(e,(t,n)=>(xT(this.node,n,"Start"),(i,{success:o})=>xT(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bg=new WeakMap,$m=new WeakMap,DM=r=>{const e=bg.get(r.target);e&&e(r)},bM=r=>{r.forEach(DM)};function PM({root:r,...e}){const t=r||document;$m.has(t)||$m.set(t,{});const n=$m.get(t),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(bM,{root:r,...e})),n[i]}function AM(r,e,t){const n=PM(e);return bg.set(r,t),n.observe(r),()=>{bg.delete(r),n.unobserve(r)}}const RM={some:0,all:1};class MM extends Vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:o}=e,l={root:t?t.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:RM[i]},u=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=p?m:y;w&&w(d)};return AM(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(NM(e,t))&&this.startObserver()}unmount(){}}function NM({viewport:r={}},{viewport:e={}}={}){return t=>r[t]!==e[t]}const OM={inView:{Feature:MM},tap:{Feature:CM},focus:{Feature:EM},hover:{Feature:TM}},LM={layout:{ProjectionNode:dx,MeasureLayout:rx}},Pg={current:null},px={current:!1};function VM(){if(px.current=!0,!!py)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),e=()=>Pg.current=r.matches;r.addListener(e),e()}else Pg.current=!1}const FM=[...Mk,ln,Ds],jM=r=>FM.find(Rk(r)),UM=new WeakMap;function BM(r,e,t){for(const n in e){const i=e[n],o=t[n];if(dn(i))r.addValue(n,i);else if(dn(o))r.addValue(n,Qu(i,{owner:r}));else if(o!==i)if(r.hasValue(n)){const l=r.getValue(n);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=r.getStaticValue(n);r.addValue(n,Qu(l!==void 0?l:i,{owner:r}))}}for(const n in t)e[n]===void 0&&r.removeValue(n);return e}const IT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zM{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=$r.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,lt.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:m}=l;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Sf(t),this.isVariantNode=KS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const E in w){const I=w[E];d[E]!==void 0&&dn(I)&&I.set(d[E],!1)}}mount(e){this.current=e,UM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),px.current||VM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cs(this.notifyUpdate),Cs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Oo.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&lt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Za){const t=Za[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):It()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<IT.length;n++){const i=IT[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=BM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Qu(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(Pk(n)||wk(n))?n=parseFloat(n):!jM(n)&&Ds.test(t)&&(n=Ck(e,t)),this.setBaseTarget(e,dn(n)?n.get():n)),dn(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const l=Dy(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);l&&(n=l[e])}if(t&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!dn(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Ry),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class mx extends zM{constructor(){super(...arguments),this.KeyframeResolver=Nk}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function WM(r){return window.getComputedStyle(r)}class HM extends mx{constructor(){super(...arguments),this.type="html",this.renderInstance=sk}readValueFromInstance(e,t){if(Oo.has(t))return zP(e,t);{const n=WM(e),i=(wy(t)?n.getPropertyValue(t):n[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Jk(e,t)}build(e,t,n){Sy(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return by(e,t,n)}}class $M extends mx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=It,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&ik(this.current,this.renderState)}}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Oo.has(t)){const n=Ik(t);return n&&n.default||0}return t=ok.has(t)?t:vy(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return lk(e,t,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&lt.postRender(this.updateDimensions)}build(e,t,n){Iy(e,t,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,n,i){ak(e,t,n,i)}mount(e){this.isSVGTag=Cy(e.tagName),super.mount(e)}}const YM=(r,e)=>xy(r)?new $M(e):new HM(e,{allowProjection:r!==H.Fragment}),KM=hP({...lR,...OM,...vM,...LM},YM),_l=Db(KM),qM="/Mirema-Blossom-Homes/assets/header_img-e-a-_SFG.png";function GM(){return z.jsxs("div",{className:`min-h-screen mb-4 bg-cover bg-center\r
    flex items-center w-full overflow-hidden`,style:{backgroundImage:`url(${qM})`},id:"Header",children:[z.jsx(vb,{}),z.jsxs(_l.div,{initial:{opacity:0,y:100},transition:{duration:1.5},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"container text-center mx-auto py-4 px-6 md:px-20 lg:px-32 text-white",children:[z.jsx("h2",{className:`text-5xl sm:text-6xl md:text-[82px] inline-block\r
            max-w-3xl font-semibold pt-20`,children:"A Peaceful Escape in Full Bloom"}),z.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 items-center justify-center mt-6 ",children:[z.jsx("a",{href:"#Gallery",className:" hover:bg-assent border border-white px-8 py-3 rounded",children:"Our Gallery"}),z.jsx("a",{href:"#booking",className:"bg-assent px-8 py-3 rounded",children:"Book Your Stay"})]})]})]})}const QM=()=>z.jsxs(_l.div,{initial:{opacity:0,x:200},transition:{duration:1},whileInView:{opacity:1,x:0},viewport:{once:!0},className:`flex flex-col items-center justify-center\r
    container mx-auto py-14 md:px-20 lg:px-32 overflow-hidden bg-yellow-50 w-full`,id:"About",children:[z.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold mb-2",children:[z.jsx("span",{children:"About"}),z.jsx("span",{className:"ml-2 underline underline-offset-4 decoration-1 under font-light",children:"Mirema Blossom Homes"})]}),z.jsx("p",{className:"text-gray-500 max-w-80 text-center mb-8",children:"A Peaceful Escape in Full Bloom"}),z.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start md:gap-20",children:[z.jsx("img",{src:Ja.brand_img,alt:"",className:"w-full sm:w-1/2 max-w-lg rounded-t-full"}),z.jsxs("div",{className:"flex flex-col items-center md:items-start mt-10 text-gray-600",children:[z.jsx("p",{className:"my-10 max-w-lg mt-10",children:"Nestled in the peaceful and well-connected neighborhood of Mirema, Nairobi, Mirema Blossom Homes offers a premium Airbnb experience designed for travelers seeking both comfort and convenience. Our beautifully furnished apartments blend stylish modern interiors with the warmth of home, making them ideal for solo travelers, couples, families, or even business guests. Each unit is thoughtfully equipped with essential amenities including high-speed Wi-Fi, fully stocked kitchens, spacious living areas, smart TVs, and cozy bedding to ensure a restful stay. Guests enjoy 24/7 security, ample parking, and proximity to major roads, shopping malls, schools, and healthcare facilities. Whether you're staying for a night or a few weeks, Mirema Blossom Homes offers a tranquil escape within the city  a perfect base to explore Nairobi while enjoying the privacy and calm of a residential setting."}),z.jsx("button",{className:"bg-assent text-white px-8 py-2 rounded",children:"Check Accomodation"})]})]})]}),XM=()=>{const[r,e]=H.useState(0),[t,n]=H.useState(1);H.useEffect(()=>{const l=()=>{window.innerWidth>=1024?n(Qd.length):n(1)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},[]);const i=()=>{e(l=>(l+1)%Qd.length)},o=()=>{e(l=>l===0?Qd.length-1:l-1)};return z.jsxs(_l.div,{initial:{opacity:0,x:-200},transition:{duration:1},whileInView:{opacity:1,x:0},viewport:{once:!0},className:`container mx-auto py-4 pt-20 px-6 md:px-20\r
    lg:px-32 my-20 w-full overflow-hidden`,children:[z.jsxs("h1",{className:"text-2xl sm:text4xl font-bold mb-2 text-center",children:["Our ",z.jsx("span",{className:"underline underline-offset-4 decoration-1 under font-light",children:" Catalog"})]}),z.jsx("p",{className:"text-center text-lg space-y-6 text-gray-700 max-w-4xl mx-auto",children:"Experience comfort and convenience at Mirema Blossom Airbnb with our thoughtfully designed accommodations. Choose from our 1 Bedroom BnB at KSH 3,000, featuring a cozy queen-size bed with a high-density fiber mattress, plush pillows, and soft, clean bedding  perfect for a restful night. The unit includes access to a private kitchen and balcony. For more space, our 2 Bedroom BnB at KSH 5,000 offers a queen-size bed and a double bed, along with access to two balconies offering spectacular views. Enjoy the privacy of a separate bathroom and toilet, including a hand wash sink for added convenience. Prepare your meals in a fully equipped kitchen stocked with a cooker, oven, refrigerator, microwave, kettle, cookery, and cutlery. Unwind in the living room, where youll find a cozy sofa, smart TV, sound system, and fast-speed internet to keep you entertained or connected. Step out onto the balcony and take in the relaxing views  the perfect way to start or end your day."}),z.jsxs("div",{className:"flex justify-end items-center mb-8",children:[z.jsx("button",{onClick:o,className:"p-3 bg-gray-200 rounded mr-2","aria-label":"Previous Project",children:z.jsx("img",{src:Ja.left_arrow,alt:"Prvious"})}),z.jsx("button",{onClick:i,className:"p-3 bg-gray-200 rounded mr-2","aria-label":"Next Project",children:z.jsx("img",{src:Ja.right_arrow,alt:"Next"})})]}),z.jsx("div",{className:"overflow-hidden",children:z.jsx("div",{className:"flex gap-8 transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${r*100/t}%)`},children:Qd.map((l,u)=>z.jsxs("div",{className:"relative flex-shrink-0 w-full sm:w-1/4 h-[320px] overflow-hidden rounded-lg shadow-md",children:[z.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover mb-10"}),z.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:z.jsxs("div",{className:"bg-white bg-opacity-70 w-11/12 mx-auto px-4 py-2 mb-4 rounded-md shadow",children:[z.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:l.title}),z.jsxs("p",{className:"text-gray-950 text-sm",children:[l.price," ",z.jsx("span",{className:"px-1",children:"|"})," ",l.location]})]})})]},u))})})]})},JM=()=>z.jsxs(_l.div,{initial:{opacity:0,x:100},transition:{duration:1},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"container mx-auto py-10 lg:px-32 w-full overflow-hidden bg-yellow-50",id:"Testimonials",children:[z.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold mb-2 text-center",children:["Customer ",z.jsx("span",{className:`underline \r
        underline-offset-4  decoration-1 under font-light`,children:"Reviews"})]}),z.jsx("p",{className:`text-center text-gray-500 mb-12 max-w-80\r
        mx-auto`,children:"Real Stories from Those Who Founnd Home With Us"}),z.jsx("div",{className:"flex flex-wrap justify-center",children:mb.map((r,e)=>z.jsxs("div",{className:"max-w-[340px] border shadow-lg rounded px-8 py-12 text-center",children:[z.jsx("h2",{className:"text-xl text-gray-700 font-medium",children:r.name}),z.jsx("div",{className:"flex justify-center gap-1 text-red-500 mb-4",children:Array.from({length:r.rating},(t,n)=>z.jsx("img",{src:Ja.star_icon,alt:""},n))}),z.jsx("p",{className:"text-gray-600",children:r.text})]},e))})]});function gx(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=gx(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function pt(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=gx(r))&&(n&&(n+=" "),n+=e);return n}function ZM(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}ZM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var _c=r=>typeof r=="number"&&!isNaN(r),Io=r=>typeof r=="string",Pi=r=>typeof r=="function",eN=r=>Io(r)||_c(r),Ag=r=>Io(r)||Pi(r)?r:null,tN=(r,e)=>r===!1||_c(r)&&r>0?r:e,Rg=r=>H.isValidElement(r)||Io(r)||Pi(r)||_c(r);function nN(r,e,t=300){let{scrollHeight:n,style:i}=r;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function rN({enter:r,exit:e,appendPosition:t=!1,collapse:n=!0,collapseDuration:i=300}){return function({children:o,position:l,preventExitTransition:u,done:d,nodeRef:p,isIn:m,playToast:y}){let w=t?`${r}--${l}`:r,E=t?`${e}--${l}`:e,I=H.useRef(0);return H.useLayoutEffect(()=>{let P=p.current,D=w.split(" "),N=V=>{V.target===p.current&&(y(),P.removeEventListener("animationend",N),P.removeEventListener("animationcancel",N),I.current===0&&V.type!=="animationcancel"&&P.classList.remove(...D))};P.classList.add(...D),P.addEventListener("animationend",N),P.addEventListener("animationcancel",N)},[]),H.useEffect(()=>{let P=p.current,D=()=>{P.removeEventListener("animationend",D),n?nN(P,d,i):d()};m||(u?D():(I.current=1,P.className+=` ${E}`,P.addEventListener("animationend",D)))},[m]),q.createElement(q.Fragment,null,o)}}function CT(r,e){return{content:yx(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function yx(r,e,t=!1){return H.isValidElement(r)&&!Io(r.type)?H.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):Pi(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:t}):r}function iN({closeToast:r,theme:e,ariaLabel:t="close"}){return q.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:n=>{n.stopPropagation(),r(!0)},"aria-label":t},q.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},q.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function sN({delay:r,isRunning:e,closeToast:t,type:n="default",hide:i,className:o,controlledProgress:l,progress:u,rtl:d,isIn:p,theme:m}){let y=i||l&&u===0,w={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};l&&(w.transform=`scaleX(${u})`);let E=pt("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":d}),I=Pi(o)?o({rtl:d,type:n,defaultClassName:E}):pt(E,o),P={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{p&&t()}};return q.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},q.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${n}`}),q.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:I,style:w,...P}))}var oN=1,vx=()=>`${oN++}`;function aN(r,e,t){let n=1,i=0,o=[],l=[],u=e,d=new Map,p=new Set,m=V=>(p.add(V),()=>p.delete(V)),y=()=>{l=Array.from(d.values()),p.forEach(V=>V())},w=({containerId:V,toastId:L,updateId:K})=>{let Q=V?V!==r:r!==1,Z=d.has(L)&&K==null;return Q||Z},E=(V,L)=>{d.forEach(K=>{var Q;(L==null||L===K.props.toastId)&&((Q=K.toggle)==null||Q.call(K,V))})},I=V=>{var L,K;(K=(L=V.props)==null?void 0:L.onClose)==null||K.call(L,V.removalReason),V.isActive=!1},P=V=>{if(V==null)d.forEach(I);else{let L=d.get(V);L&&I(L)}y()},D=()=>{i-=o.length,o=[]},N=V=>{var L,K;let{toastId:Q,updateId:Z}=V.props,b=Z==null;V.staleId&&d.delete(V.staleId),V.isActive=!0,d.set(Q,V),y(),t(CT(V,b?"added":"updated")),b&&((K=(L=V.props).onOpen)==null||K.call(L))};return{id:r,props:u,observe:m,toggle:E,removeToast:P,toasts:d,clearQueue:D,buildToast:(V,L)=>{if(w(L))return;let{toastId:K,updateId:Q,data:Z,staleId:b,delay:k}=L,C=Q==null;C&&i++;let R={...u,style:u.toastStyle,key:n++,...Object.fromEntries(Object.entries(L).filter(([F,A])=>A!=null)),toastId:K,updateId:Q,data:Z,isIn:!1,className:Ag(L.className||u.toastClassName),progressClassName:Ag(L.progressClassName||u.progressClassName),autoClose:L.isLoading?!1:tN(L.autoClose,u.autoClose),closeToast(F){d.get(K).removalReason=F,P(K)},deleteToast(){let F=d.get(K);if(F!=null){if(t(CT(F,"removed")),d.delete(K),i--,i<0&&(i=0),o.length>0){N(o.shift());return}y()}}};R.closeButton=u.closeButton,L.closeButton===!1||Rg(L.closeButton)?R.closeButton=L.closeButton:L.closeButton===!0&&(R.closeButton=Rg(u.closeButton)?u.closeButton:!0);let O={content:V,props:R,staleId:b};u.limit&&u.limit>0&&i>u.limit&&C?o.push(O):_c(k)?setTimeout(()=>{N(O)},k):N(O)},setProps(V){u=V},setToggle:(V,L)=>{let K=d.get(V);K&&(K.toggle=L)},isToastActive:V=>{var L;return(L=d.get(V))==null?void 0:L.isActive},getSnapshot:()=>l}}var _n=new Map,tc=[],Mg=new Set,lN=r=>Mg.forEach(e=>e(r)),_x=()=>_n.size>0;function uN(){tc.forEach(r=>Tx(r.content,r.options)),tc=[]}var cN=(r,{containerId:e})=>{var t;return(t=_n.get(e||1))==null?void 0:t.toasts.get(r)};function wx(r,e){var t;if(e)return!!((t=_n.get(e))!=null&&t.isToastActive(r));let n=!1;return _n.forEach(i=>{i.isToastActive(r)&&(n=!0)}),n}function dN(r){if(!_x()){tc=tc.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||eN(r))_n.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=_n.get(r.containerId);e?e.removeToast(r.id):_n.forEach(t=>{t.removeToast(r.id)})}}var hN=(r={})=>{_n.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function Tx(r,e){Rg(r)&&(_x()||tc.push({content:r,options:e}),_n.forEach(t=>{t.buildToast(r,e)}))}function fN(r){var e;(e=_n.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function Ex(r,e){_n.forEach(t=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===t.id)&&t.toggle(r,e==null?void 0:e.id)})}function pN(r){let e=r.containerId||1;return{subscribe(t){let n=aN(e,r,lN);_n.set(e,n);let i=n.observe(t);return uN(),()=>{i(),_n.delete(e)}},setProps(t){var n;(n=_n.get(e))==null||n.setProps(t)},getSnapshot(){var t;return(t=_n.get(e))==null?void 0:t.getSnapshot()}}}function mN(r){return Mg.add(r),()=>{Mg.delete(r)}}function gN(r){return r&&(Io(r.toastId)||_c(r.toastId))?r.toastId:vx()}function wc(r,e){return Tx(r,e),e.toastId}function xf(r,e){return{...e,type:e&&e.type||r,toastId:gN(e)}}function If(r){return(e,t)=>wc(e,xf(r,t))}function it(r,e){return wc(r,xf("default",e))}it.loading=(r,e)=>wc(r,xf("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function yN(r,{pending:e,error:t,success:n},i){let o;e&&(o=Io(e)?it.loading(e,i):it.loading(e.render,{...i,...e}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(p,m,y)=>{if(m==null){it.dismiss(o);return}let w={type:p,...l,...i,data:y},E=Io(m)?{render:m}:m;return o?it.update(o,{...w,...E}):it(E.render,{...w,...E}),y},d=Pi(r)?r():r;return d.then(p=>u("success",n,p)).catch(p=>u("error",t,p)),d}it.promise=yN;it.success=If("success");it.info=If("info");it.error=If("error");it.warning=If("warning");it.warn=it.warning;it.dark=(r,e)=>wc(r,xf("default",{theme:"dark",...e}));function vN(r){dN(r)}it.dismiss=vN;it.clearWaitingQueue=hN;it.isActive=wx;it.update=(r,e={})=>{let t=cN(r,e);if(t){let{props:n,content:i}=t,o={delay:100,...n,...e,toastId:e.toastId||r,updateId:vx()};o.toastId!==r&&(o.staleId=r);let l=o.render||i;delete o.render,wc(l,o)}};it.done=r=>{it.update(r,{progress:1})};it.onChange=mN;it.play=r=>Ex(!0,r);it.pause=r=>Ex(!1,r);function _N(r){var e;let{subscribe:t,getSnapshot:n,setProps:i}=H.useRef(pN(r)).current;i(r);let o=(e=H.useSyncExternalStore(t,n,n))==null?void 0:e.slice();function l(u){if(!o)return[];let d=new Map;return r.newestOnTop&&o.reverse(),o.forEach(p=>{let{position:m}=p.props;d.has(m)||d.set(m,[]),d.get(m).push(p)}),Array.from(d,p=>u(p[0],p[1]))}return{getToastToRender:l,isToastActive:wx,count:o==null?void 0:o.length}}function wN(r){let[e,t]=H.useState(!1),[n,i]=H.useState(!1),o=H.useRef(null),l=H.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:d,closeToast:p,onClick:m,closeOnClick:y}=r;fN({id:r.toastId,containerId:r.containerId,fn:t}),H.useEffect(()=>{if(r.pauseOnFocusLoss)return w(),()=>{E()}},[r.pauseOnFocusLoss]);function w(){document.hasFocus()||N(),window.addEventListener("focus",D),window.addEventListener("blur",N)}function E(){window.removeEventListener("focus",D),window.removeEventListener("blur",N)}function I(b){if(r.draggable===!0||r.draggable===b.pointerType){V();let k=o.current;l.canCloseOnClick=!0,l.canDrag=!0,k.style.transition="none",r.draggableDirection==="x"?(l.start=b.clientX,l.removalDistance=k.offsetWidth*(r.draggablePercent/100)):(l.start=b.clientY,l.removalDistance=k.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function P(b){let{top:k,bottom:C,left:R,right:O}=o.current.getBoundingClientRect();b.nativeEvent.type!=="touchend"&&r.pauseOnHover&&b.clientX>=R&&b.clientX<=O&&b.clientY>=k&&b.clientY<=C?N():D()}function D(){t(!0)}function N(){t(!1)}function V(){l.didMove=!1,document.addEventListener("pointermove",K),document.addEventListener("pointerup",Q)}function L(){document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",Q)}function K(b){let k=o.current;if(l.canDrag&&k){l.didMove=!0,e&&N(),r.draggableDirection==="x"?l.delta=b.clientX-l.start:l.delta=b.clientY-l.start,l.start!==b.clientX&&(l.canCloseOnClick=!1);let C=r.draggableDirection==="x"?`${l.delta}px, var(--y)`:`0, calc(${l.delta}px + var(--y))`;k.style.transform=`translate3d(${C},0)`,k.style.opacity=`${1-Math.abs(l.delta/l.removalDistance)}`}}function Q(){L();let b=o.current;if(l.canDrag&&l.didMove&&b){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance){i(!0),r.closeToast(!0),r.collapseAll();return}b.style.transition="transform 0.2s, opacity 0.2s",b.style.removeProperty("transform"),b.style.removeProperty("opacity")}}let Z={onPointerDown:I,onPointerUp:P};return u&&d&&(Z.onMouseEnter=N,r.stacked||(Z.onMouseLeave=D)),y&&(Z.onClick=b=>{m&&m(b),l.canCloseOnClick&&p(!0)}),{playToast:D,pauseToast:N,isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:Z}}var TN=typeof window<"u"?H.useLayoutEffect:H.useEffect,Cf=({theme:r,type:e,isLoading:t,...n})=>q.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...n});function EN(r){return q.createElement(Cf,{...r},q.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function SN(r){return q.createElement(Cf,{...r},q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function kN(r){return q.createElement(Cf,{...r},q.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function xN(r){return q.createElement(Cf,{...r},q.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function IN(){return q.createElement("div",{className:"Toastify__spinner"})}var Ng={info:SN,warning:EN,success:kN,error:xN,spinner:IN},CN=r=>r in Ng;function DN({theme:r,type:e,isLoading:t,icon:n}){let i=null,o={theme:r,type:e};return n===!1||(Pi(n)?i=n({...o,isLoading:t}):H.isValidElement(n)?i=H.cloneElement(n,o):t?i=Ng.spinner():CN(e)&&(i=Ng[e](o))),i}var bN=r=>{let{isRunning:e,preventExitTransition:t,toastRef:n,eventHandlers:i,playToast:o}=wN(r),{closeButton:l,children:u,autoClose:d,onClick:p,type:m,hideProgressBar:y,closeToast:w,transition:E,position:I,className:P,style:D,progressClassName:N,updateId:V,role:L,progress:K,rtl:Q,toastId:Z,deleteToast:b,isIn:k,isLoading:C,closeOnClick:R,theme:O,ariaLabel:F}=r,A=pt("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${m}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":R}),Te=Pi(P)?P({rtl:Q,position:I,type:m,defaultClassName:A}):pt(A,P),De=DN(r),me=!!K||!d,ae={closeToast:w,type:m,theme:O},J=null;return l===!1||(Pi(l)?J=l(ae):H.isValidElement(l)?J=H.cloneElement(l,ae):J=iN(ae)),q.createElement(E,{isIn:k,done:b,position:I,preventExitTransition:t,nodeRef:n,playToast:o},q.createElement("div",{id:Z,tabIndex:0,onClick:p,"data-in":k,className:Te,...i,style:D,ref:n,...k&&{role:L,"aria-label":F}},De!=null&&q.createElement("div",{className:pt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},De),yx(u,r,!e),J,!r.customProgressBar&&q.createElement(sN,{...V&&!me?{key:`p-${V}`}:{},rtl:Q,theme:O,delay:d,isRunning:e,isIn:k,closeToast:w,hide:y,type:m,className:N,controlledProgress:me,progress:K||0})))},PN=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),AN=rN(PN("bounce",!0)),RN={position:"top-right",transition:AN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function MN(r){let e={...RN,...r},t=r.stacked,[n,i]=H.useState(!0),o=H.useRef(null),{getToastToRender:l,isToastActive:u,count:d}=_N(e),{className:p,style:m,rtl:y,containerId:w,hotKeys:E}=e;function I(D){let N=pt("Toastify__toast-container",`Toastify__toast-container--${D}`,{"Toastify__toast-container--rtl":y});return Pi(p)?p({position:D,rtl:y,defaultClassName:N}):pt(N,Ag(p))}function P(){t&&(i(!0),it.play())}return TN(()=>{var D;if(t){let N=o.current.querySelectorAll('[data-in="true"]'),V=12,L=(D=e.position)==null?void 0:D.includes("top"),K=0,Q=0;Array.from(N).reverse().forEach((Z,b)=>{let k=Z;k.classList.add("Toastify__toast--stacked"),b>0&&(k.dataset.collapsed=`${n}`),k.dataset.pos||(k.dataset.pos=L?"top":"bot");let C=K*(n?.2:1)+(n?0:V*b);k.style.setProperty("--y",`${L?C:C*-1}px`),k.style.setProperty("--g",`${V}`),k.style.setProperty("--s",`${1-(n?Q:0)}`),K+=k.offsetHeight,Q+=.025})}},[n,d,t]),H.useEffect(()=>{function D(N){var V;let L=o.current;E(N)&&((V=L.querySelector('[tabIndex="0"]'))==null||V.focus(),i(!1),it.pause()),N.key==="Escape"&&(document.activeElement===L||L!=null&&L.contains(document.activeElement))&&(i(!0),it.play())}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[E]),q.createElement("section",{ref:o,className:"Toastify",id:w,onMouseEnter:()=>{t&&(i(!1),it.pause())},onMouseLeave:P,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},l((D,N)=>{let V=N.length?{...m}:{...m,pointerEvents:"none"};return q.createElement("div",{tabIndex:-1,className:I(D),"data-stacked":t,style:V,key:`c-${D}`},N.map(({content:L,props:K})=>q.createElement(bN,{...K,stacked:t,collapseAll:P,isIn:u(K.toastId,K.containerId),key:`t-${K.key}`},L)))}))}const NN=()=>z.jsxs("div",{className:"pt-10 px-4 md:px-20 lg:px-32 bg-ash w-full overflow-hidden",id:"Contact",children:[z.jsx("h2",{className:"text-3xl sm:text-4xl font-handwriting text-center mb-10",children:"Where to Find us?"}),z.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-stretch gap-10",children:[z.jsx("div",{className:"w-full md:w-1/2",children:z.jsx("div",{className:"h-full min-h-[300px] rounded-xl overflow-hidden",children:z.jsx("iframe",{className:"w-full h-full",src:"https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d3988.920832505498!2d36.88052507496566!3d-1.2152999987731046!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMcKwMTInNTUuMSJTIDM2wrA1Mic1OS4yIkU!5e0!3m2!1sen!2ske!4v1746093444928!5m2!1sen!2ske",allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})}),z.jsxs("div",{className:"w-full md:w-1/2 min-h-[300px] bg-coffee text-black p-6 rounded-xl flex flex-col justify-center text-center",children:[z.jsx("p",{className:"text-xl font-semibold mb-4",children:"Phone/Whatsapp:"}),z.jsx("p",{className:"text-lg mb-6",children:"+254 704 357114"}),z.jsx("p",{className:"text-xl font-semibold mb-4",children:"Email:"}),z.jsx("p",{className:"text-lg mb-6",children:"blossomhomez@gmail.com"})]})]}),z.jsx("div",{className:"border-t border-gray-700 py-4 mt-10 text-center text-gray-100",children:"copyright 2025 sueKK. All Rights Reserved."})]}),ON=()=>{};var DT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},LN=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const o=r[t++];e[n++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=r[t++],l=r[t++],u=r[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const o=r[i],l=i+1<r.length,u=l?r[i+1]:0,d=i+2<r.length,p=d?r[i+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let w=(u&15)<<2|p>>6,E=p&63;d||(E=64,l||(w=64)),n.push(t[m],t[y],t[w],t[E])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Sx(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):LN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const o=t[r.charAt(i++)],u=i<r.length?t[r.charAt(i)]:0;++i;const p=i<r.length?t[r.charAt(i)]:64;++i;const y=i<r.length?t[r.charAt(i)]:64;if(++i,o==null||u==null||p==null||y==null)throw new VN;const w=o<<2|u>>4;if(n.push(w),p!==64){const E=u<<4&240|p>>2;if(n.push(E),y!==64){const I=p<<6&192|y;n.push(I)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class VN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FN=function(r){const e=Sx(r);return kx.encodeByteArray(e,!0)},Uh=function(r){return FN(r).replace(/\./g,"")},xx=function(r){try{return kx.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=()=>jN().__FIREBASE_DEFAULTS__,BN=()=>{if(typeof process>"u"||typeof DT>"u")return;const r=DT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&xx(r[1]);return e&&JSON.parse(e)},Df=()=>{try{return ON()||UN()||BN()||zN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ix=r=>{var e,t;return(t=(e=Df())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},WN=r=>{const e=Ix(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},Cx=()=>{var r;return(r=Df())===null||r===void 0?void 0:r.config},Dx=r=>{var e;return(e=Df())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Uh(JSON.stringify(t)),Uh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function KN(){var r;const e=(r=Df())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XN(){const r=hn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function JN(){return!KN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZN(){try{return typeof indexedDB=="object"}catch{return!1}}function e2(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="FirebaseError";class Li extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=t2,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?n2(o,n):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new Li(i,u,n)}}function n2(r,e){return r.replace(r2,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const r2=/\{\$([^}]+)}/g;function i2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Co(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const o=r[i],l=e[i];if(bT(o)&&bT(l)){if(!Co(o,l))return!1}else if(o!==l)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function bT(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Pu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,o]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Au(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function s2(r,e){const t=new o2(r,e);return t.subscribe.bind(t)}class o2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");a2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=Ym),i.error===void 0&&(i.error=Ym),i.complete===void 0&&(i.complete=Ym);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(r){return r&&r._delegate?r._delegate:r}class Do{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new HN;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});n.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);n===u&&l.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:u2(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u2(r){return r===go?void 0:r}function c2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new l2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const h2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},f2=je.INFO,p2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},m2=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=p2[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=f2,this._logHandler=m2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const g2=(r,e)=>e.some(t=>r instanceof t);let PT,AT;function y2(){return PT||(PT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v2(){return AT||(AT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bx=new WeakMap,Og=new WeakMap,Px=new WeakMap,Km=new WeakMap,qy=new WeakMap;function _2(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(vs(r.result)),i()},l=()=>{n(r.error),i()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&bx.set(t,r)}).catch(()=>{}),qy.set(e,r),e}function w2(r){if(Og.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Og.set(r,e)}let Lg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Og.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Px.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vs(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function T2(r){Lg=r(Lg)}function E2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(qm(this),e,...t);return Px.set(n,e.sort?e.sort():[e]),vs(n)}:v2().includes(r)?function(...e){return r.apply(qm(this),e),vs(bx.get(this))}:function(...e){return vs(r.apply(qm(this),e))}}function S2(r){return typeof r=="function"?E2(r):(r instanceof IDBTransaction&&w2(r),g2(r,y2())?new Proxy(r,Lg):r)}function vs(r){if(r instanceof IDBRequest)return _2(r);if(Km.has(r))return Km.get(r);const e=S2(r);return e!==r&&(Km.set(r,e),qy.set(e,r)),e}const qm=r=>qy.get(r);function k2(r,e,{blocked:t,upgrade:n,blocking:i,terminated:o}={}){const l=indexedDB.open(r,e),u=vs(l);return n&&l.addEventListener("upgradeneeded",d=>{n(vs(l.result),d.oldVersion,d.newVersion,vs(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const x2=["get","getKey","getAll","getAllKeys","count"],I2=["put","add","delete","clear"],Gm=new Map;function RT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Gm.get(e))return Gm.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=I2.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||x2.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let p=d.store;return n&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&d.done]))[0]};return Gm.set(e,o),o}T2(r=>({...r,get:(e,t,n)=>RT(e,t)||r.get(e,t,n),has:(e,t)=>!!RT(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(D2(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function D2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",MT="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new Ky("@firebase/app"),b2="@firebase/app-compat",P2="@firebase/analytics-compat",A2="@firebase/analytics",R2="@firebase/app-check-compat",M2="@firebase/app-check",N2="@firebase/auth",O2="@firebase/auth-compat",L2="@firebase/database",V2="@firebase/data-connect",F2="@firebase/database-compat",j2="@firebase/functions",U2="@firebase/functions-compat",B2="@firebase/installations",z2="@firebase/installations-compat",W2="@firebase/messaging",H2="@firebase/messaging-compat",$2="@firebase/performance",Y2="@firebase/performance-compat",K2="@firebase/remote-config",q2="@firebase/remote-config-compat",G2="@firebase/storage",Q2="@firebase/storage-compat",X2="@firebase/firestore",J2="@firebase/vertexai",Z2="@firebase/firestore-compat",eO="firebase",tO="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="[DEFAULT]",nO={[Vg]:"fire-core",[b2]:"fire-core-compat",[A2]:"fire-analytics",[P2]:"fire-analytics-compat",[M2]:"fire-app-check",[R2]:"fire-app-check-compat",[N2]:"fire-auth",[O2]:"fire-auth-compat",[L2]:"fire-rtdb",[V2]:"fire-data-connect",[F2]:"fire-rtdb-compat",[j2]:"fire-fn",[U2]:"fire-fn-compat",[B2]:"fire-iid",[z2]:"fire-iid-compat",[W2]:"fire-fcm",[H2]:"fire-fcm-compat",[$2]:"fire-perf",[Y2]:"fire-perf-compat",[K2]:"fire-rc",[q2]:"fire-rc-compat",[G2]:"fire-gcs",[Q2]:"fire-gcs-compat",[X2]:"fire-fst",[Z2]:"fire-fst-compat",[J2]:"fire-vertex","fire-js":"fire-js",[eO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Map,rO=new Map,jg=new Map;function NT(r,e){try{r.container.addComponent(e)}catch(t){Ai.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function tl(r){const e=r.name;if(jg.has(e))return Ai.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,r);for(const t of Bh.values())NT(t,r);for(const t of rO.values())NT(t,r);return!0}function Gy(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function wr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new Tc("app","Firebase",iO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=tO;function Ax(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Fg,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw _s.create("bad-app-name",{appName:String(i)});if(t||(t=Cx()),!t)throw _s.create("no-options");const o=Bh.get(i);if(o){if(Co(t,o.options)&&Co(n,o.config))return o;throw _s.create("duplicate-app",{appName:i})}const l=new d2(i);for(const d of jg.values())l.addComponent(d);const u=new sO(t,n,l);return Bh.set(i,u),u}function Rx(r=Fg){const e=Bh.get(r);if(!e&&r===Fg&&Cx())return Ax();if(!e)throw _s.create("no-app",{appName:r});return e}function ws(r,e,t){var n;let i=(n=nO[r])!==null&&n!==void 0?n:r;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ai.warn(u.join(" "));return}tl(new Do(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO="firebase-heartbeat-database",aO=1,nc="firebase-heartbeat-store";let Qm=null;function Mx(){return Qm||(Qm=k2(oO,aO,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nc)}catch(t){console.warn(t)}}}}).catch(r=>{throw _s.create("idb-open",{originalErrorMessage:r.message})})),Qm}async function lO(r){try{const t=(await Mx()).transaction(nc),n=await t.objectStore(nc).get(Nx(r));return await t.done,n}catch(e){if(e instanceof Li)Ai.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ai.warn(t.message)}}}async function OT(r,e){try{const n=(await Mx()).transaction(nc,"readwrite");await n.objectStore(nc).put(e,Nx(r)),await n.done}catch(t){if(t instanceof Li)Ai.warn(t.message);else{const n=_s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(n.message)}}}function Nx(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=1024,cO=30;class dO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fO(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=LT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cO){const l=pO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ai.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=LT(),{heartbeatsToSend:n,unsentEntries:i}=hO(this._heartbeatsCache.heartbeats),o=Uh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ai.warn(t),""}}}function LT(){return new Date().toISOString().substring(0,10)}function hO(r,e=uO){const t=[];let n=r.slice();for(const i of r){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),VT(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),VT(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class fO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZN()?e2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return OT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return OT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function VT(r){return Uh(JSON.stringify({version:2,heartbeats:r})).length}function pO(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(r){tl(new Do("platform-logger",e=>new C2(e),"PRIVATE")),tl(new Do("heartbeat",e=>new dO(e),"PRIVATE")),ws(Vg,MT,r),ws(Vg,MT,"esm2017"),ws("fire-js","")}mO("");var gO="firebase",yO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(gO,yO,"app");var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ts,Ox;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,k){function C(){}C.prototype=k.prototype,b.D=k.prototype,b.prototype=new C,b.prototype.constructor=b,b.C=function(R,O,F){for(var A=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)A[Te-2]=arguments[Te];return k.prototype[O].apply(R,A)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,k,C){C||(C=0);var R=Array(16);if(typeof k=="string")for(var O=0;16>O;++O)R[O]=k.charCodeAt(C++)|k.charCodeAt(C++)<<8|k.charCodeAt(C++)<<16|k.charCodeAt(C++)<<24;else for(O=0;16>O;++O)R[O]=k[C++]|k[C++]<<8|k[C++]<<16|k[C++]<<24;k=b.g[0],C=b.g[1],O=b.g[2];var F=b.g[3],A=k+(F^C&(O^F))+R[0]+3614090360&4294967295;k=C+(A<<7&4294967295|A>>>25),A=F+(O^k&(C^O))+R[1]+3905402710&4294967295,F=k+(A<<12&4294967295|A>>>20),A=O+(C^F&(k^C))+R[2]+606105819&4294967295,O=F+(A<<17&4294967295|A>>>15),A=C+(k^O&(F^k))+R[3]+3250441966&4294967295,C=O+(A<<22&4294967295|A>>>10),A=k+(F^C&(O^F))+R[4]+4118548399&4294967295,k=C+(A<<7&4294967295|A>>>25),A=F+(O^k&(C^O))+R[5]+1200080426&4294967295,F=k+(A<<12&4294967295|A>>>20),A=O+(C^F&(k^C))+R[6]+2821735955&4294967295,O=F+(A<<17&4294967295|A>>>15),A=C+(k^O&(F^k))+R[7]+4249261313&4294967295,C=O+(A<<22&4294967295|A>>>10),A=k+(F^C&(O^F))+R[8]+1770035416&4294967295,k=C+(A<<7&4294967295|A>>>25),A=F+(O^k&(C^O))+R[9]+2336552879&4294967295,F=k+(A<<12&4294967295|A>>>20),A=O+(C^F&(k^C))+R[10]+4294925233&4294967295,O=F+(A<<17&4294967295|A>>>15),A=C+(k^O&(F^k))+R[11]+2304563134&4294967295,C=O+(A<<22&4294967295|A>>>10),A=k+(F^C&(O^F))+R[12]+1804603682&4294967295,k=C+(A<<7&4294967295|A>>>25),A=F+(O^k&(C^O))+R[13]+4254626195&4294967295,F=k+(A<<12&4294967295|A>>>20),A=O+(C^F&(k^C))+R[14]+2792965006&4294967295,O=F+(A<<17&4294967295|A>>>15),A=C+(k^O&(F^k))+R[15]+1236535329&4294967295,C=O+(A<<22&4294967295|A>>>10),A=k+(O^F&(C^O))+R[1]+4129170786&4294967295,k=C+(A<<5&4294967295|A>>>27),A=F+(C^O&(k^C))+R[6]+3225465664&4294967295,F=k+(A<<9&4294967295|A>>>23),A=O+(k^C&(F^k))+R[11]+643717713&4294967295,O=F+(A<<14&4294967295|A>>>18),A=C+(F^k&(O^F))+R[0]+3921069994&4294967295,C=O+(A<<20&4294967295|A>>>12),A=k+(O^F&(C^O))+R[5]+3593408605&4294967295,k=C+(A<<5&4294967295|A>>>27),A=F+(C^O&(k^C))+R[10]+38016083&4294967295,F=k+(A<<9&4294967295|A>>>23),A=O+(k^C&(F^k))+R[15]+3634488961&4294967295,O=F+(A<<14&4294967295|A>>>18),A=C+(F^k&(O^F))+R[4]+3889429448&4294967295,C=O+(A<<20&4294967295|A>>>12),A=k+(O^F&(C^O))+R[9]+568446438&4294967295,k=C+(A<<5&4294967295|A>>>27),A=F+(C^O&(k^C))+R[14]+3275163606&4294967295,F=k+(A<<9&4294967295|A>>>23),A=O+(k^C&(F^k))+R[3]+4107603335&4294967295,O=F+(A<<14&4294967295|A>>>18),A=C+(F^k&(O^F))+R[8]+1163531501&4294967295,C=O+(A<<20&4294967295|A>>>12),A=k+(O^F&(C^O))+R[13]+2850285829&4294967295,k=C+(A<<5&4294967295|A>>>27),A=F+(C^O&(k^C))+R[2]+4243563512&4294967295,F=k+(A<<9&4294967295|A>>>23),A=O+(k^C&(F^k))+R[7]+1735328473&4294967295,O=F+(A<<14&4294967295|A>>>18),A=C+(F^k&(O^F))+R[12]+2368359562&4294967295,C=O+(A<<20&4294967295|A>>>12),A=k+(C^O^F)+R[5]+4294588738&4294967295,k=C+(A<<4&4294967295|A>>>28),A=F+(k^C^O)+R[8]+2272392833&4294967295,F=k+(A<<11&4294967295|A>>>21),A=O+(F^k^C)+R[11]+1839030562&4294967295,O=F+(A<<16&4294967295|A>>>16),A=C+(O^F^k)+R[14]+4259657740&4294967295,C=O+(A<<23&4294967295|A>>>9),A=k+(C^O^F)+R[1]+2763975236&4294967295,k=C+(A<<4&4294967295|A>>>28),A=F+(k^C^O)+R[4]+1272893353&4294967295,F=k+(A<<11&4294967295|A>>>21),A=O+(F^k^C)+R[7]+4139469664&4294967295,O=F+(A<<16&4294967295|A>>>16),A=C+(O^F^k)+R[10]+3200236656&4294967295,C=O+(A<<23&4294967295|A>>>9),A=k+(C^O^F)+R[13]+681279174&4294967295,k=C+(A<<4&4294967295|A>>>28),A=F+(k^C^O)+R[0]+3936430074&4294967295,F=k+(A<<11&4294967295|A>>>21),A=O+(F^k^C)+R[3]+3572445317&4294967295,O=F+(A<<16&4294967295|A>>>16),A=C+(O^F^k)+R[6]+76029189&4294967295,C=O+(A<<23&4294967295|A>>>9),A=k+(C^O^F)+R[9]+3654602809&4294967295,k=C+(A<<4&4294967295|A>>>28),A=F+(k^C^O)+R[12]+3873151461&4294967295,F=k+(A<<11&4294967295|A>>>21),A=O+(F^k^C)+R[15]+530742520&4294967295,O=F+(A<<16&4294967295|A>>>16),A=C+(O^F^k)+R[2]+3299628645&4294967295,C=O+(A<<23&4294967295|A>>>9),A=k+(O^(C|~F))+R[0]+4096336452&4294967295,k=C+(A<<6&4294967295|A>>>26),A=F+(C^(k|~O))+R[7]+1126891415&4294967295,F=k+(A<<10&4294967295|A>>>22),A=O+(k^(F|~C))+R[14]+2878612391&4294967295,O=F+(A<<15&4294967295|A>>>17),A=C+(F^(O|~k))+R[5]+4237533241&4294967295,C=O+(A<<21&4294967295|A>>>11),A=k+(O^(C|~F))+R[12]+1700485571&4294967295,k=C+(A<<6&4294967295|A>>>26),A=F+(C^(k|~O))+R[3]+2399980690&4294967295,F=k+(A<<10&4294967295|A>>>22),A=O+(k^(F|~C))+R[10]+4293915773&4294967295,O=F+(A<<15&4294967295|A>>>17),A=C+(F^(O|~k))+R[1]+2240044497&4294967295,C=O+(A<<21&4294967295|A>>>11),A=k+(O^(C|~F))+R[8]+1873313359&4294967295,k=C+(A<<6&4294967295|A>>>26),A=F+(C^(k|~O))+R[15]+4264355552&4294967295,F=k+(A<<10&4294967295|A>>>22),A=O+(k^(F|~C))+R[6]+2734768916&4294967295,O=F+(A<<15&4294967295|A>>>17),A=C+(F^(O|~k))+R[13]+1309151649&4294967295,C=O+(A<<21&4294967295|A>>>11),A=k+(O^(C|~F))+R[4]+4149444226&4294967295,k=C+(A<<6&4294967295|A>>>26),A=F+(C^(k|~O))+R[11]+3174756917&4294967295,F=k+(A<<10&4294967295|A>>>22),A=O+(k^(F|~C))+R[2]+718787259&4294967295,O=F+(A<<15&4294967295|A>>>17),A=C+(F^(O|~k))+R[9]+3951481745&4294967295,b.g[0]=b.g[0]+k&4294967295,b.g[1]=b.g[1]+(O+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+O&4294967295,b.g[3]=b.g[3]+F&4294967295}n.prototype.u=function(b,k){k===void 0&&(k=b.length);for(var C=k-this.blockSize,R=this.B,O=this.h,F=0;F<k;){if(O==0)for(;F<=C;)i(this,b,F),F+=this.blockSize;if(typeof b=="string"){for(;F<k;)if(R[O++]=b.charCodeAt(F++),O==this.blockSize){i(this,R),O=0;break}}else for(;F<k;)if(R[O++]=b[F++],O==this.blockSize){i(this,R),O=0;break}}this.h=O,this.o+=k},n.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var k=1;k<b.length-8;++k)b[k]=0;var C=8*this.o;for(k=b.length-8;k<b.length;++k)b[k]=C&255,C/=256;for(this.u(b),b=Array(16),k=C=0;4>k;++k)for(var R=0;32>R;R+=8)b[C++]=this.g[k]>>>R&255;return b};function o(b,k){var C=u;return Object.prototype.hasOwnProperty.call(C,b)?C[b]:C[b]=k(b)}function l(b,k){this.h=k;for(var C=[],R=!0,O=b.length-1;0<=O;O--){var F=b[O]|0;R&&F==k||(C[O]=F,R=!1)}this.g=C}var u={};function d(b){return-128<=b&&128>b?o(b,function(k){return new l([k|0],0>k?-1:0)}):new l([b|0],0>b?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return y;if(0>b)return D(p(-b));for(var k=[],C=1,R=0;b>=C;R++)k[R]=b/C|0,C*=4294967296;return new l(k,0)}function m(b,k){if(b.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b.charAt(0)=="-")return D(m(b.substring(1),k));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(k,8)),R=y,O=0;O<b.length;O+=8){var F=Math.min(8,b.length-O),A=parseInt(b.substring(O,O+F),k);8>F?(F=p(Math.pow(k,F)),R=R.j(F).add(p(A))):(R=R.j(C),R=R.add(p(A)))}return R}var y=d(0),w=d(1),E=d(16777216);r=l.prototype,r.m=function(){if(P(this))return-D(this).m();for(var b=0,k=1,C=0;C<this.g.length;C++){var R=this.i(C);b+=(0<=R?R:4294967296+R)*k,k*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I(this))return"0";if(P(this))return"-"+D(this).toString(b);for(var k=p(Math.pow(b,6)),C=this,R="";;){var O=K(C,k).g;C=N(C,O.j(k));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(b);if(C=O,I(C))return F+R;for(;6>F.length;)F="0"+F;R=F+R}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function I(b){if(b.h!=0)return!1;for(var k=0;k<b.g.length;k++)if(b.g[k]!=0)return!1;return!0}function P(b){return b.h==-1}r.l=function(b){return b=N(this,b),P(b)?-1:I(b)?0:1};function D(b){for(var k=b.g.length,C=[],R=0;R<k;R++)C[R]=~b.g[R];return new l(C,~b.h).add(w)}r.abs=function(){return P(this)?D(this):this},r.add=function(b){for(var k=Math.max(this.g.length,b.g.length),C=[],R=0,O=0;O<=k;O++){var F=R+(this.i(O)&65535)+(b.i(O)&65535),A=(F>>>16)+(this.i(O)>>>16)+(b.i(O)>>>16);R=A>>>16,F&=65535,A&=65535,C[O]=A<<16|F}return new l(C,C[C.length-1]&-2147483648?-1:0)};function N(b,k){return b.add(D(k))}r.j=function(b){if(I(this)||I(b))return y;if(P(this))return P(b)?D(this).j(D(b)):D(D(this).j(b));if(P(b))return D(this.j(D(b)));if(0>this.l(E)&&0>b.l(E))return p(this.m()*b.m());for(var k=this.g.length+b.g.length,C=[],R=0;R<2*k;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var O=0;O<b.g.length;O++){var F=this.i(R)>>>16,A=this.i(R)&65535,Te=b.i(O)>>>16,De=b.i(O)&65535;C[2*R+2*O]+=A*De,V(C,2*R+2*O),C[2*R+2*O+1]+=F*De,V(C,2*R+2*O+1),C[2*R+2*O+1]+=A*Te,V(C,2*R+2*O+1),C[2*R+2*O+2]+=F*Te,V(C,2*R+2*O+2)}for(R=0;R<k;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=k;R<2*k;R++)C[R]=0;return new l(C,0)};function V(b,k){for(;(b[k]&65535)!=b[k];)b[k+1]+=b[k]>>>16,b[k]&=65535,k++}function L(b,k){this.g=b,this.h=k}function K(b,k){if(I(k))throw Error("division by zero");if(I(b))return new L(y,y);if(P(b))return k=K(D(b),k),new L(D(k.g),D(k.h));if(P(k))return k=K(b,D(k)),new L(D(k.g),k.h);if(30<b.g.length){if(P(b)||P(k))throw Error("slowDivide_ only works with positive integers.");for(var C=w,R=k;0>=R.l(b);)C=Q(C),R=Q(R);var O=Z(C,1),F=Z(R,1);for(R=Z(R,2),C=Z(C,2);!I(R);){var A=F.add(R);0>=A.l(b)&&(O=O.add(C),F=A),R=Z(R,1),C=Z(C,1)}return k=N(b,O.j(k)),new L(O,k)}for(O=y;0<=b.l(k);){for(C=Math.max(1,Math.floor(b.m()/k.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),F=p(C),A=F.j(k);P(A)||0<A.l(b);)C-=R,F=p(C),A=F.j(k);I(F)&&(F=w),O=O.add(F),b=N(b,A)}return new L(O,b)}r.A=function(b){return K(this,b).h},r.and=function(b){for(var k=Math.max(this.g.length,b.g.length),C=[],R=0;R<k;R++)C[R]=this.i(R)&b.i(R);return new l(C,this.h&b.h)},r.or=function(b){for(var k=Math.max(this.g.length,b.g.length),C=[],R=0;R<k;R++)C[R]=this.i(R)|b.i(R);return new l(C,this.h|b.h)},r.xor=function(b){for(var k=Math.max(this.g.length,b.g.length),C=[],R=0;R<k;R++)C[R]=this.i(R)^b.i(R);return new l(C,this.h^b.h)};function Q(b){for(var k=b.g.length+1,C=[],R=0;R<k;R++)C[R]=b.i(R)<<1|b.i(R-1)>>>31;return new l(C,b.h)}function Z(b,k){var C=k>>5;k%=32;for(var R=b.g.length-C,O=[],F=0;F<R;F++)O[F]=0<k?b.i(F+C)>>>k|b.i(F+C+1)<<32-k:b.i(F+C);return new l(O,b.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Ox=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Ts=l}).apply(typeof FT<"u"?FT:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lx,Ru,Vx,yh,Ug,Fx,jx,Ux;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var n=t(this);function i(h,v){if(v)e:{var T=n;h=h.split(".");for(var x=0;x<h.length-1;x++){var W=h[x];if(!(W in T))break e;T=T[W]}h=h[h.length-1],x=T[h],v=v(x),v!=x&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var T=0,x=!1,W={next:function(){if(!x&&T<h.length){var X=T++;return{value:v(X,h[X]),done:!1}}return x=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(h){return h||function(){return o(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function m(h,v,T){return h.call.apply(h.bind,arguments)}function y(h,v,T){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,x),h.apply(v,W)}}return function(){return h.apply(v,arguments)}}function w(h,v,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,w.apply(null,arguments)}function E(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function I(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(x,W,X){for(var ue=Array(arguments.length-2),et=2;et<arguments.length;et++)ue[et-2]=arguments[et];return v.prototype[W].apply(x,ue)}}function P(h){const v=h.length;if(0<v){const T=Array(v);for(let x=0;x<v;x++)T[x]=h[x];return T}return[]}function D(h,v){for(let T=1;T<arguments.length;T++){const x=arguments[T];if(d(x)){const W=h.length||0,X=x.length||0;h.length=W+X;for(let ue=0;ue<X;ue++)h[W+ue]=x[ue]}else h.push(x)}}class N{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(h){return/^[\s\xa0]*$/.test(h)}function L(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function K(h){return K[" "](h),h}K[" "]=function(){};var Q=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function Z(h,v,T){for(const x in h)v.call(T,h[x],x,h)}function b(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function k(h){const v={};for(const T in h)v[T]=h[T];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(h,v){let T,x;for(let W=1;W<arguments.length;W++){x=arguments[W];for(T in x)h[T]=x[T];for(let X=0;X<C.length;X++)T=C[X],Object.prototype.hasOwnProperty.call(x,T)&&(h[T]=x[T])}}function O(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function F(h){u.setTimeout(()=>{throw h},0)}function A(){var h=ce;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Te{constructor(){this.h=this.g=null}add(v,T){const x=De.get();x.set(v,T),this.h?this.h.next=x:this.g=x,this.h=x}}var De=new N(()=>new me,h=>h.reset());class me{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,J=!1,ce=new Te,le=()=>{const h=u.Promise.resolve(void 0);ae=()=>{h.then(B)}};var B=()=>{for(var h;h=A();){try{h.h.call(h.g)}catch(T){F(T)}var v=De;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}J=!1};function te(){this.s=this.s,this.C=this.C}te.prototype.s=!1,te.prototype.ma=function(){this.s||(this.s=!0,this.N())},te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};u.addEventListener("test",T,v),u.removeEventListener("test",T,v)}catch{}return h}();function Ve(h,v){if(Ee.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(Q){e:{try{K(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ze[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ve.aa.h.call(this)}}I(Ve,Ee);var ze={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function st(h,v,T,x,W){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!x,this.ha=W,this.key=++Qe,this.da=this.fa=!1}function Bt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ii(h){this.src=h,this.g={},this.h=0}ii.prototype.add=function(h,v,T,x,W){var X=h.toString();h=this.g[X],h||(h=this.g[X]=[],this.h++);var ue=Fi(h,v,x,W);return-1<ue?(v=h[ue],T||(v.fa=!1)):(v=new st(v,this.src,X,!!x,W),v.fa=T,h.push(v)),v};function zo(h,v){var T=v.type;if(T in h.g){var x=h.g[T],W=Array.prototype.indexOf.call(x,v,void 0),X;(X=0<=W)&&Array.prototype.splice.call(x,W,1),X&&(Bt(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Fi(h,v,T,x){for(var W=0;W<h.length;++W){var X=h[W];if(!X.da&&X.listener==v&&X.capture==!!T&&X.ha==x)return W}return-1}var js="closure_lm_"+(1e6*Math.random()|0),Wo={};function Dl(h,v,T,x,W){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Dl(h,v[X],T,x,W);return null}return T=Al(T),h&&h[Ge]?h.K(v,T,p(x)?!!x.capture:!1,W):bl(h,v,T,!1,x,W)}function bl(h,v,T,x,W,X){if(!v)throw Error("Invalid event type");var ue=p(W)?!!W.capture:!!W,et=$o(h);if(et||(h[js]=et=new ii(h)),T=et.add(v,T,x,ue,X),T.proxy)return T;if(x=Nc(),T.proxy=x,x.src=h,x.listener=T,h.addEventListener)Ne||(W=ue),W===void 0&&(W=!1),h.addEventListener(v.toString(),x,W);else if(h.attachEvent)h.attachEvent(oi(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Nc(){function h(T){return v.call(h.src,h.listener,T)}const v=Pl;return h}function Ho(h,v,T,x,W){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ho(h,v[X],T,x,W);else x=p(x)?!!x.capture:!!x,T=Al(T),h&&h[Ge]?(h=h.i,v=String(v).toString(),v in h.g&&(X=h.g[v],T=Fi(X,T,x,W),-1<T&&(Bt(X[T]),Array.prototype.splice.call(X,T,1),X.length==0&&(delete h.g[v],h.h--)))):h&&(h=$o(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Fi(v,T,x,W)),(T=-1<h?v[h]:null)&&si(T))}function si(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ge])zo(v.i,h);else{var T=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(T,x,h.capture):v.detachEvent?v.detachEvent(oi(T),x):v.addListener&&v.removeListener&&v.removeListener(x),(T=$o(v))?(zo(T,h),T.h==0&&(T.src=null,v[js]=null)):Bt(h)}}}function oi(h){return h in Wo?Wo[h]:Wo[h]="on"+h}function Pl(h,v){if(h.da)h=!0;else{v=new Ve(v,this);var T=h.listener,x=h.ha||h.src;h.fa&&si(h),h=T.call(x,v)}return h}function $o(h){return h=h[js],h instanceof ii?h:null}var Yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Al(h){return typeof h=="function"?h:(h[Yo]||(h[Yo]=function(v){return h.handleEvent(v)}),h[Yo])}function Mt(){te.call(this),this.i=new ii(this),this.M=this,this.F=null}I(Mt,te),Mt.prototype[Ge]=!0,Mt.prototype.removeEventListener=function(h,v,T,x){Ho(this,h,v,T,x)};function Nt(h,v){var T,x=h.F;if(x)for(T=[];x;x=x.F)T.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new Ee(v,h);else if(v instanceof Ee)v.target=v.target||h;else{var W=v;v=new Ee(x,h),R(v,W)}if(W=!0,T)for(var X=T.length-1;0<=X;X--){var ue=v.g=T[X];W=ai(ue,x,!0,v)&&W}if(ue=v.g=h,W=ai(ue,x,!0,v)&&W,W=ai(ue,x,!1,v)&&W,T)for(X=0;X<T.length;X++)ue=v.g=T[X],W=ai(ue,x,!1,v)&&W}Mt.prototype.N=function(){if(Mt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],x=0;x<T.length;x++)Bt(T[x]);delete h.g[v],h.h--}}this.F=null},Mt.prototype.K=function(h,v,T,x){return this.i.add(String(h),v,!1,T,x)},Mt.prototype.L=function(h,v,T,x){return this.i.add(String(h),v,!0,T,x)};function ai(h,v,T,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,X=0;X<v.length;++X){var ue=v[X];if(ue&&!ue.da&&ue.capture==T){var et=ue.listener,Ot=ue.ha||ue.src;ue.fa&&zo(h.i,ue),W=et.call(Ot,x)!==!1&&W}}return W&&!x.defaultPrevented}function Rl(h,v,T){if(typeof h=="function")T&&(h=w(h,T));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(h,v||0)}function ji(h){h.g=Rl(()=>{h.g=null,h.i&&(h.i=!1,ji(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Us extends te{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(h){te.call(this),this.h=h,this.g={}}I(Bs,te);var Ml=[];function Nl(h){Z(h.g,function(v,T){this.g.hasOwnProperty(T)&&si(v)},h),h.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),Nl(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ol=u.JSON.stringify,Ll=u.JSON.parse,Vl=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function zs(){}zs.prototype.h=null;function Ko(h){return h.h||(h.h=h.i())}function qo(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){Ee.call(this,"d")}I(Cr,Ee);function Go(){Ee.call(this,"c")}I(Go,Ee);var Dr={},Fl=null;function Ws(){return Fl=Fl||new Mt}Dr.La="serverreachability";function jl(h){Ee.call(this,Dr.La,h)}I(jl,Ee);function li(h){const v=Ws();Nt(v,new jl(v))}Dr.STAT_EVENT="statevent";function Ul(h,v){Ee.call(this,Dr.STAT_EVENT,h),this.stat=v}I(Ul,Ee);function kt(h){const v=Ws();Nt(v,new Ul(v,h))}Dr.Ma="timingevent";function Qo(h,v){Ee.call(this,Dr.Ma,h),this.size=v}I(Qo,Ee);function ir(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function $s(h,v,T,x,W,X){h.info(function(){if(h.g)if(X)for(var ue="",et=X.split("&"),Ot=0;Ot<et.length;Ot++){var We=et[Ot].split("=");if(1<We.length){var zt=We[0];We=We[1];var Pt=zt.split("_");ue=2<=Pt.length&&Pt[1]=="type"?ue+(zt+"="+We+"&"):ue+(zt+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+x+") [attempt "+W+"]: "+v+`
`+T+`
`+ue})}function Xo(h,v,T,x,W,X,ue){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+W+"]: "+v+`
`+T+`
`+X+" "+ue})}function sr(h,v,T,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+rp(h,T)+(x?" "+x:"")})}function Bl(h,v){h.info(function(){return"TIMEOUT: "+v})}Hs.prototype.info=function(){};function rp(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var x=T[h];if(!(2>x.length)){var W=x[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<W.length;ue++)W[ue]=""}}}}return Ol(T)}catch{return v}}var Jo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},or;function Ys(){}I(Ys,zs),Ys.prototype.g=function(){return new XMLHttpRequest},Ys.prototype.i=function(){return{}},or=new Ys;function ar(h,v,T,x){this.j=h,this.i=v,this.l=T,this.R=x||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lc}function Lc(){this.i=null,this.g="",this.h=!1}var zl={},Zo={};function ea(h,v,T){h.L=1,h.v=Hi(Mn(v)),h.m=T,h.P=!0,Wl(h,null)}function Wl(h,v){h.F=Date.now(),ot(h),h.A=Mn(h.v);var T=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),Yi(T.i,"t",x),h.C=0,T=h.j.J,h.h=new Lc,h.g=ed(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Us(w(h.Y,h,h.g),h.O)),v=h.U,T=h.g,x=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Ml[0]=W.toString()),W=Ml);for(var X=0;X<W.length;X++){var ue=Dl(T,W[X],x||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.H?k(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),li(),$s(h.i,h.u,h.A,h.l,h.R,h.m)}ar.prototype.ca=function(h){h=h.target;const v=this.M;v&&Sn(h)==3?v.j():this.Y(h)},ar.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=Sn(this.g);var v=this.g.Ba();const Wn=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Gl(this.g)))){this.J||Pt!=4||v==7||(v==8||0>=Wn?li(3):li(2)),Ks(this);var T=this.g.Z();this.X=T;t:if(Vc(this)){var x=Gl(this.g);h="";var W=x.length,X=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Ui(this);var ue="";break t}this.h.i=new u.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,h+=this.h.i.decode(x[v],{stream:!(X&&v==W-1)});x.length=0,this.h.g+=h,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=T==200,Xo(this.i,this.u,this.A,this.l,this.R,Pt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Ot=this.g;if((et=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(et)){var We=et;break t}}We=null}if(T=We)sr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hl(this,T);else{this.o=!1,this.s=3,kt(12),Bn(this),Ui(this);break e}}if(this.P){T=!0;let On;for(;!this.J&&this.C<ue.length;)if(On=ip(this,ue),On==Zo){Pt==4&&(this.s=4,kt(14),T=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(On==zl){this.s=4,kt(15),sr(this.i,this.l,ue,"[Invalid Chunk]"),T=!1;break}else sr(this.i,this.l,On,null),Hl(this,On);if(Vc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ue.length!=0||this.h.h||(this.s=1,kt(16),T=!1),this.o=this.o&&T,!T)sr(this.i,this.l,ue,"[Invalid Chunked Response]"),Bn(this),Ui(this);else if(0<ue.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Xl(zt),zt.M=!0,kt(11))}}else sr(this.i,this.l,ue,null),Hl(this,ue);Pt==4&&Bn(this),this.o&&!this.J&&(Pt==4?da(this.j,this):(this.o=!1,ot(this)))}else oa(this.g),T==400&&0<ue.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Bn(this),Ui(this)}}}catch{}finally{}};function Vc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ip(h,v){var T=h.C,x=v.indexOf(`
`,T);return x==-1?Zo:(T=Number(v.substring(T,x)),isNaN(T)?zl:(x+=1,x+T>v.length?Zo:(v=v.slice(x,x+T),h.C=x+T,v)))}ar.prototype.cancel=function(){this.J=!0,Bn(this)};function ot(h){h.S=Date.now()+h.I,Fc(h,h.I)}function Fc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ir(w(h.ba,h),v)}function Ks(h){h.B&&(u.clearTimeout(h.B),h.B=null)}ar.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Bl(this.i,this.A),this.L!=2&&(li(),kt(17)),Bn(this),this.s=2,Ui(this)):Fc(this,this.S-h)};function Ui(h){h.j.G==0||h.J||da(h.j,h)}function Bn(h){Ks(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Nl(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Hl(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||fn(T.h,h))){if(!h.K&&fn(T.h,h)&&T.G==3){try{var x=T.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var W=x;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)ca(T),hr(T);else break e;ua(T),kt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=ir(w(T.Za,T),6e3));if(1>=Uc(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else fi(T,11)}else if((h.K||T.g==h)&&ca(T),!V(v))for(W=T.Da.g.parse(v),v=0;v<W.length;v++){let We=W[v];if(T.T=We[0],We=We[1],T.G==2)if(We[0]=="c"){T.K=We[1],T.ia=We[2];const zt=We[3];zt!=null&&(T.la=zt,T.j.info("VER="+T.la));const Pt=We[4];Pt!=null&&(T.Aa=Pt,T.j.info("SVER="+T.Aa));const Wn=We[5];Wn!=null&&typeof Wn=="number"&&0<Wn&&(x=1.5*Wn,T.L=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const On=h.g;if(On){const eo=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(eo){var X=x.h;X.g||eo.indexOf("spdy")==-1&&eo.indexOf("quic")==-1&&eo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&($l(X,X.h),X.h=null))}if(x.D){const fa=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(x.ya=fa,rt(x.I,x.D,fa))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),x=T;var ue=h;if(x.qa=Zc(x,x.J?x.ia:null,x.W),ue.K){Bc(x.h,ue);var et=ue,Ot=x.L;Ot&&(et.I=Ot),et.B&&(Ks(et),ot(et)),x.g=ue}else Zs(x);0<T.i.length&&Rr(T)}else We[0]!="stop"&&We[0]!="close"||fi(T,7);else T.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?fi(T,7):Gt(T):We[0]!="noop"&&T.l&&T.l.ta(We),T.v=0)}}li(4)}catch{}}var jc=class{constructor(h,v){this.g=h,this.map=v}};function qs(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Uc(h){return h.h?1:h.g?h.g.size:0}function fn(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function $l(h,v){h.g?h.g.add(v):h.h=v}function Bc(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}qs.prototype.cancel=function(){if(this.i=zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function zc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return P(h.i)}function ta(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],T=h.length,x=0;x<T;x++)v.push(h[x]);return v}v=[],T=0;for(x in h)v[T++]=h[x];return v}function na(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const x in h)v[T++]=x;return v}}}function Bi(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=na(h),x=ta(h),W=x.length,X=0;X<W;X++)v.call(void 0,x[X],T&&T[X],h)}var Gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sp(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var x=h[T].indexOf("="),W=null;if(0<=x){var X=h[T].substring(0,x);W=h[T].substring(x+1)}else X=h[T];v(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function ui(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ui){this.h=h.h,Qs(this,h.j),this.o=h.o,this.g=h.g,zi(this,h.s),this.l=h.l;var v=h.i,T=new br;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),Wi(this,T),this.m=h.m}else h&&(v=String(h).match(Gs))?(this.h=!1,Qs(this,v[1]||"",!0),this.o=Be(v[2]||""),this.g=Be(v[3]||"",!0),zi(this,v[4]),this.l=Be(v[5]||"",!0),Wi(this,v[6]||"",!0),this.m=Be(v[7]||"")):(this.h=!1,this.i=new br(null,this.h))}ui.prototype.toString=function(){var h=[],v=this.j;v&&h.push($i(v,ra,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push($i(v,ra,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push($i(T,T.charAt(0)=="/"?$c:Hc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",$i(T,Yl)),h.join("")};function Mn(h){return new ui(h)}function Qs(h,v,T){h.j=T?Be(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function zi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Wi(h,v,T){v instanceof br?(h.i=v,Pr(h.i,h.h)):(T||(v=$i(v,Yc)),h.i=new br(v,h.h))}function rt(h,v,T){h.i.set(v,T)}function Hi(h){return rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Be(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $i(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,Wc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Wc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ra=/[#\/\?@]/g,Hc=/[#\?:]/g,$c=/[#\?]/g,Yc=/[#\?@]/g,Yl=/#/g;function br(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function qt(h){h.g||(h.g=new Map,h.h=0,h.i&&sp(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}r=br.prototype,r.add=function(h,v){qt(this),this.i=null,h=zn(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function lr(h,v){qt(h),v=zn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ur(h,v){return qt(h),v=zn(h,v),h.g.has(v)}r.forEach=function(h,v){qt(this),this.g.forEach(function(T,x){T.forEach(function(W){h.call(v,W,x,this)},this)},this)},r.na=function(){qt(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let x=0;x<v.length;x++){const W=h[x];for(let X=0;X<W.length;X++)T.push(v[x])}return T},r.V=function(h){qt(this);let v=[];if(typeof h=="string")ur(this,h)&&(v=v.concat(this.g.get(zn(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},r.set=function(h,v){return qt(this),this.i=null,h=zn(this,h),ur(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Yi(h,v,T){lr(h,v),0<T.length&&(h.i=null,h.g.set(zn(h,v),P(T)),h.h+=T.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var x=v[T];const X=encodeURIComponent(String(x)),ue=this.V(x);for(x=0;x<ue.length;x++){var W=X;ue[x]!==""&&(W+="="+encodeURIComponent(String(ue[x]))),h.push(W)}}return this.i=h.join("&")};function zn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Pr(h,v){v&&!h.j&&(qt(h),h.i=null,h.g.forEach(function(T,x){var W=x.toLowerCase();x!=W&&(lr(this,x),Yi(this,W,T))},h)),h.j=v}function op(h,v){const T=new Hs;if(u.Image){const x=new Image;x.onload=E(En,T,"TestLoadImage: loaded",!0,v,x),x.onerror=E(En,T,"TestLoadImage: error",!1,v,x),x.onabort=E(En,T,"TestLoadImage: abort",!1,v,x),x.ontimeout=E(En,T,"TestLoadImage: timeout",!1,v,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function Kc(h,v){const T=new Hs,x=new AbortController,W=setTimeout(()=>{x.abort(),En(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(X=>{clearTimeout(W),X.ok?En(T,"TestPingServer: ok",!0,v):En(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),En(T,"TestPingServer: error",!1,v)})}function En(h,v,T,x,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),x(T)}catch{}}function ap(){this.g=new Vl}function qc(h,v,T){const x=T||"";try{Bi(h,function(W,X){let ue=W;p(W)&&(ue=Ol(W)),v.push(x+X+"="+encodeURIComponent(ue))})}catch(W){throw v.push(x+"type="+encodeURIComponent("_badmap")),W}}function ci(h){this.l=h.Ub||null,this.j=h.eb||!1}I(ci,zs),ci.prototype.g=function(){return new Xs(this.l,this.j)},ci.prototype.i=function(h){return function(){return h}}({});function Xs(h,v){Mt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Xs,Mt),r=Xs.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,dr(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gc(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gc(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?cr(this):dr(this),this.readyState==3&&Gc(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,cr(this))},r.Qa=function(h){this.g&&(this.response=h,cr(this))},r.ga=function(){this.g&&cr(this)};function cr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,dr(h)}r.setRequestHeader=function(h,v){this.u.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function dr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function di(h){let v="";return Z(h,function(T,x){v+=x,v+=":",v+=T,v+=`\r
`}),v}function Ki(h,v,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=di(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):rt(h,v,T))}function dt(h){Mt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(dt,Mt);var lp=/^https?$/i,Kl=["POST","PUT"];r=dt.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,v,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():or.g(),this.v=this.o?Ko(this.o):Ko(or),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(X){Js(this,X);return}if(h=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var W in x)T.set(W,x[W]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const X of x.keys())T.set(X,x.get(X));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find(X=>X.toLowerCase()=="content-type"),W=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Kl,v,void 0))||x||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of T)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(h),this.u=!1}catch(X){Js(this,X)}};function Js(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ia(h),Nn(h)}function ia(h){h.A||(h.A=!0,Nt(h,"complete"),Nt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Nt(this,"complete"),Nt(this,"abort"),Nn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nn(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ql(this):this.bb())},r.bb=function(){ql(this)};function ql(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Sn(h)!=4||h.Z()!=2)){if(h.u&&Sn(h)==4)Rl(h.Ea,0,h);else if(Nt(h,"readystatechange"),Sn(h)==4){h.h=!1;try{const ue=h.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var x;if(x=ue===0){var W=String(h.D).match(Gs)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),x=!lp.test(W?W.toLowerCase():"")}T=x}if(T)Nt(h,"complete"),Nt(h,"success");else{h.m=6;try{var X=2<Sn(h)?h.g.statusText:""}catch{X=""}h.l=X+" ["+h.Z()+"]",ia(h)}}finally{Nn(h)}}}}function Nn(h,v){if(h.g){sa(h);const T=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Nt(h,"ready");try{T.onreadystatechange=x}catch{}}}function sa(h){h.I&&(u.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function Sn(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Ll(v)}};function Gl(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function oa(h){const v={};h=(h.g&&2<=Sn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(V(h[x]))continue;var T=O(h[x]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const X=v[W]||[];v[W]=X,X.push(T)}b(v,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ar(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function Ql(h){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ar("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ar("baseRetryDelayMs",5e3,h),this.cb=Ar("retryDelaySeedMs",1e4,h),this.Wa=Ar("forwardChannelMaxRetries",2,h),this.wa=Ar("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new qs(h&&h.concurrentRequestLimit),this.Da=new ap,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ql.prototype,r.la=8,r.G=1,r.connect=function(h,v,T,x){kt(0),this.W=h,this.H=v||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.I=Zc(this,null,this.W),Rr(this)};function Gt(h){if(aa(h),h.G==3){var v=h.U++,T=Mn(h.I);if(rt(T,"SID",h.K),rt(T,"RID",v),rt(T,"TYPE","terminate"),hi(h,T),v=new ar(h,h.j,v),v.L=2,v.v=Hi(Mn(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&u.Image&&(new Image().src=v.v,T=!0),T||(v.g=ed(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ot(v)}Jc(h)}function hr(h){h.g&&(Xl(h),h.g.cancel(),h.g=null)}function aa(h){hr(h),h.u&&(u.clearTimeout(h.u),h.u=null),ca(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Rr(h){if(!Rn(h.h)&&!h.s){h.s=!0;var v=h.Ga;ae||le(),J||(ae(),J=!0),ce.add(v,h),h.B=0}}function up(h,v){return Uc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ir(w(h.Ga,h,v),Xc(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new ar(this,this.j,h);let X=this.o;if(this.S&&(X?(X=k(X),R(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=qi(this,W,v),T=Mn(this.I),rt(T,"RID",h),rt(T,"CVER",22),this.D&&rt(T,"X-HTTP-Session-Id",this.D),hi(this,T),X&&(this.O?v="headers="+encodeURIComponent(String(di(X)))+"&"+v:this.m&&Ki(T,this.m,X)),$l(this.h,W),this.Ua&&rt(T,"TYPE","init"),this.P?(rt(T,"$req",v),rt(T,"SID","null"),W.T=!0,ea(W,T,null)):ea(W,T,v),this.G=2}}else this.G==3&&(h?la(this,h):this.i.length==0||Rn(this.h)||la(this))};function la(h,v){var T;v?T=v.l:T=h.U++;const x=Mn(h.I);rt(x,"SID",h.K),rt(x,"RID",T),rt(x,"AID",h.T),hi(h,x),h.m&&h.o&&Ki(x,h.m,h.o),T=new ar(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=qi(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),$l(h.h,T),ea(T,x,v)}function hi(h,v){h.H&&Z(h.H,function(T,x){rt(v,x,T)}),h.l&&Bi({},function(T,x){rt(v,x,T)})}function qi(h,v,T){T=Math.min(h.i.length,T);var x=h.l?w(h.l.Na,h.l,h):null;e:{var W=h.i;let X=-1;for(;;){const ue=["count="+T];X==-1?0<T?(X=W[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let et=!0;for(let Ot=0;Ot<T;Ot++){let We=W[Ot].g;const zt=W[Ot].map;if(We-=X,0>We)X=Math.max(0,W[Ot].g-100),et=!1;else try{qc(zt,ue,"req"+We+"_")}catch{x&&x(zt)}}if(et){x=ue.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,x}function Zs(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ae||le(),J||(ae(),J=!0),ce.add(v,h),h.v=0}}function ua(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ir(w(h.Fa,h),Xc(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,Qc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ir(w(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),hr(this),Qc(this))};function Xl(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function Qc(h){h.g=new ar(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Mn(h.qa);rt(v,"RID","rpc"),rt(v,"SID",h.K),rt(v,"AID",h.T),rt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&rt(v,"TO",h.ja),rt(v,"TYPE","xmlhttp"),hi(h,v),h.m&&h.o&&Ki(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=Hi(Mn(v)),T.m=null,T.P=!0,Wl(T,h)}r.Za=function(){this.C!=null&&(this.C=null,hr(this),ua(this),kt(19))};function ca(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function da(h,v){var T=null;if(h.g==v){ca(h),Xl(h),h.g=null;var x=2}else if(fn(h.h,v))T=v.D,Bc(h.h,v),x=1;else return;if(h.G!=0){if(v.o)if(x==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var W=h.B;x=Ws(),Nt(x,new Qo(x,T)),Rr(h)}else Zs(h);else if(W=v.s,W==3||W==0&&0<v.X||!(x==1&&up(h,v)||x==2&&ua(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),W){case 1:fi(h,5);break;case 4:fi(h,10);break;case 3:fi(h,6);break;default:fi(h,2)}}}function Xc(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function fi(h,v){if(h.j.info("Error code "+v),v==2){var T=w(h.fb,h),x=h.Xa;const W=!x;x=new ui(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qs(x,"https"),Hi(x),W?op(x.toString(),T):Kc(x.toString(),T)}else kt(2);h.G=0,h.l&&h.l.sa(v),Jc(h),aa(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Jc(h){if(h.G=0,h.ka=[],h.l){const v=zc(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ka,v),D(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function Zc(h,v,T){var x=T instanceof ui?Mn(T):new ui(T);if(x.g!="")v&&(x.g=v+"."+x.g),zi(x,x.s);else{var W=u.location;x=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var X=new ui(null);x&&Qs(X,x),v&&(X.g=v),W&&zi(X,W),T&&(X.l=T),x=X}return T=h.D,v=h.ya,T&&v&&rt(x,T,v),rt(x,"VER",h.la),hi(h,x),x}function ed(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new dt(new ci({eb:T})):new dt(h.pa),v.Ha(h.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jl(){}r=Jl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ha(){}ha.prototype.g=function(h,v){return new pn(h,v)};function pn(h,v){Mt.call(this),this.g=new Ql(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!V(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!V(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Mr(this)}I(pn,Mt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Gt(this.g)},pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Ol(h),h=T);v.i.push(new jc(v.Ya++,h)),v.G==3&&Rr(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,pn.aa.N.call(this)};function td(h){Cr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(td,Cr);function nd(){Go.call(this),this.status=1}I(nd,Go);function Mr(h){this.g=h}I(Mr,Jl),Mr.prototype.ua=function(){Nt(this.g,"a")},Mr.prototype.ta=function(h){Nt(this.g,new td(h))},Mr.prototype.sa=function(h){Nt(this.g,new nd)},Mr.prototype.ra=function(){Nt(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,Ux=function(){return new ha},jx=function(){return Ws()},Fx=Dr,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jo.NO_ERROR=0,Jo.TIMEOUT=8,Jo.HTTP_ERROR=6,yh=Jo,Oc.COMPLETE="complete",Vx=Oc,qo.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",Mt.prototype.listen=Mt.prototype.K,Ru=qo,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,Lx=dt}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const jT="@firebase/firestore",UT="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Ky("@firebase/firestore");function Oa(){return bo.logLevel}function pe(r,...e){if(bo.logLevel<=je.DEBUG){const t=e.map(Qy);bo.debug(`Firestore (${Tl}): ${r}`,...t)}}function Ri(r,...e){if(bo.logLevel<=je.ERROR){const t=e.map(Qy);bo.error(`Firestore (${Tl}): ${r}`,...t)}}function nl(r,...e){if(bo.logLevel<=je.WARN){const t=e.map(Qy);bo.warn(`Firestore (${Tl}): ${r}`,...t)}}function Qy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(r="Unexpected state"){const e=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: `+r;throw Ri(e),new Error(e)}function Ze(r,e){r||Pe()}function Me(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Li{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class _O{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wO{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0);let n=this.i;const i=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Es,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Es)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ze(typeof n.accessToken=="string"),new Bx(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new un(e)}}class TO{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EO{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new TO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,wr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0);const n=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new BT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string"),this.R=t.token,new BT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=kO(40);for(let o=0;o<i.length;++o)n.length<20&&i[o]<t&&(n+=e.charAt(i[o]%62))}return n}}function Oe(r,e){return r<e?-1:r>e?1:0}function Bg(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),i=e.codePointAt(t);if(n!==i){if(n<128&&i<128)return Oe(n,i);{const o=zx(),l=xO(o.encode(zT(r,t)),o.encode(zT(e,t)));return l!==0?l:Oe(n,i)}}t+=n>65535?2:1}return Oe(r.length,e.length)}function zT(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function xO(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Oe(r[t],e[t]);return Oe(r.length,e.length)}function rl(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=-62135596800,HT=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*HT);return new jt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WT)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HT}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-WT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new jt(0,0))}static max(){return new Re(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="__name__";class Fr{constructor(e,t,n){t===void 0?t=0:t>e.length&&Pe(),n===void 0?n=e.length-t:n>e.length-t&&Pe(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return Fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Fr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const o=Fr.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Oe(e.length,t.length)}static compareSegments(e,t){const n=Fr.isNumericId(e),i=Fr.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Fr.extractNumericId(e).compare(Fr.extractNumericId(t)):Bg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ts.fromString(e.substring(4,e.length-2))}}class ft extends Fr{construct(e,t,n){return new ft(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Se(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new ft(t)}static emptyPath(){return new ft([])}}const IO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Fr{construct(e,t,n){return new en(e,t,n)}static isValidIdentifier(e){return IO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$T}static keyField(){return new en([$T])}static fromServerFormat(e){const t=[];let n="",i=0;const o=()=>{if(n.length===0)throw new Se(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Se(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Se(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(n+=u,i++):(o(),i++)}if(o(),l)throw new Se(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(ft.fromString(e))}static fromName(e){return new Ie(ft.fromString(e).popFirst(5))}static empty(){return new Ie(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;function CO(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(n===1e9?new jt(t+1,0):new jt(t,n));return new bs(i,Ie.empty(),e)}function DO(r){return new bs(r.readTime,r.key,rc)}class bs{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new bs(Re.min(),Ie.empty(),rc)}static max(){return new bs(Re.max(),Ie.empty(),rc)}}function bO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ie.comparator(r.documentKey,e.documentKey),t!==0?t:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==PO)throw r;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((n,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,n)=>{t(e)})}static reject(e){return new ee((t,n)=>{n(e)})}static waitFor(e){return new ee((t,n)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>n(d))}),l=!0,o===i&&t()})}static or(e){let t=ee.resolve(!1);for(const n of e)t=t.next(i=>i?ee.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,o)=>{n.push(t.call(this,i,o))}),this.waitFor(n)}static mapArray(e,t){return new ee((n,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++u,u===o&&n(l)},m=>i(m))}})}static doWhile(e,t){return new ee((n,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):n()};o()})}}function RO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Sl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.oe(n),this._e=n=>t.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=-1;function Pf(r){return r==null}function zh(r){return r===0&&1/r==-1/0}function MO(r){return typeof r=="number"&&Number.isInteger(r)&&!zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="";function NO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=YT(e)),e=OO(r.get(t),e);return YT(e)}function OO(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const o=r.charAt(i);switch(o){case"\0":t+="";break;case Hx:t+="";break;default:t+=o}}return t}function YT(r){return r+Hx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Lo(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function $x(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,n,i,o){this.key=e,this.value=t,this.color=n??Zt.RED,this.left=i??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,o){return new Zt(e??this.key,t??this.value,n??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const o=n(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,n),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,t,n,i,o){return this}insert(e,t,n){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qT(this.data.getIterator())}getIteratorFrom(e){return new qT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class qT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new Ut(en.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yx("Invalid base64 string: "+o):o}}(e);return new tn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const LO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(r){if(Ze(!!r),typeof r=="string"){let e=0;const t=LO.exec(r);if(Ze(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ct(r.seconds),nanos:Ct(r.nanos)}}function Ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function As(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="server_timestamp",qx="__type__",Gx="__previous_value__",Qx="__local_write_time__";function Jy(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[qx])===null||t===void 0?void 0:t.stringValue)===Kx}function Af(r){const e=r.mapValue.fields[Gx];return Jy(e)?Af(e):e}function ic(r){const e=Ps(r.mapValue.fields[Qx].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,n,i,o,l,u,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=p}}const Wh="(default)";class sc{constructor(e,t){this.projectId=e,this.database=t||Wh}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database===Wh}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="__type__",FO="__max__",nh={mapValue:{}},Jx="__vector__",Hh="value";function Rs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jy(r)?4:UO(r)?9007199254740991:jO(r)?10:11:Pe()}function ei(r,e){if(r===e)return!0;const t=Rs(r);if(t!==Rs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ic(r).isEqual(ic(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Ps(i.timestampValue),u=Ps(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,o){return As(i.bytesValue).isEqual(As(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,o){return Ct(i.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(r,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ct(i.integerValue)===Ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Ct(i.doubleValue),u=Ct(o.doubleValue);return l===u?zh(l)===zh(u):isNaN(l)&&isNaN(u)}return!1}(r,e);case 9:return rl(r.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(KT(l)!==KT(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!ei(l[d],u[d])))return!1;return!0}(r,e);default:return Pe()}}function oc(r,e){return(r.values||[]).find(t=>ei(t,e))!==void 0}function il(r,e){if(r===e)return 0;const t=Rs(r),n=Rs(e);if(t!==n)return Oe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return function(o,l){const u=Ct(o.integerValue||o.doubleValue),d=Ct(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(r,e);case 3:return GT(r.timestampValue,e.timestampValue);case 4:return GT(ic(r),ic(e));case 5:return Bg(r.stringValue,e.stringValue);case 6:return function(o,l){const u=As(o),d=As(l);return u.compareTo(d)}(r.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let p=0;p<u.length&&p<d.length;p++){const m=Oe(u[p],d[p]);if(m!==0)return m}return Oe(u.length,d.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Oe(Ct(o.latitude),Ct(l.latitude));return u!==0?u:Oe(Ct(o.longitude),Ct(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return QT(r.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,p,m;const y=o.fields||{},w=l.fields||{},E=(u=y[Hh])===null||u===void 0?void 0:u.arrayValue,I=(d=w[Hh])===null||d===void 0?void 0:d.arrayValue,P=Oe(((p=E==null?void 0:E.values)===null||p===void 0?void 0:p.length)||0,((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0);return P!==0?P:QT(E,I)}(r.mapValue,e.mapValue);case 11:return function(o,l){if(o===nh.mapValue&&l===nh.mapValue)return 0;if(o===nh.mapValue)return 1;if(l===nh.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const w=Bg(d[y],m[y]);if(w!==0)return w;const E=il(u[d[y]],p[m[y]]);if(E!==0)return E}return Oe(d.length,m.length)}(r.mapValue,e.mapValue);default:throw Pe()}}function GT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const t=Ps(r),n=Ps(e),i=Oe(t.seconds,n.seconds);return i!==0?i:Oe(t.nanos,n.nanos)}function QT(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const o=il(t[i],n[i]);if(o)return o}return Oe(t.length,n.length)}function sl(r){return zg(r)}function zg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Ps(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return As(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ie.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const o of t.values||[])i?i=!1:n+=",",n+=zg(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of n)o?o=!1:i+=",",i+=`${l}:${zg(t.fields[l])}`;return i+"}"}(r.mapValue):Pe()}function vh(r){switch(Rs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(r);return e?16+vh(e):16;case 5:return 2*r.stringValue.length;case 6:return As(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,o)=>i+vh(o),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return Lo(n.fields,(o,l)=>{i+=o.length+vh(l)}),i}(r.mapValue);default:throw Pe()}}function Wg(r){return!!r&&"integerValue"in r}function Zy(r){return!!r&&"arrayValue"in r}function XT(r){return!!r&&"nullValue"in r}function JT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function jO(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xx])===null||t===void 0?void 0:t.stringValue)===Jx}function Bu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Lo(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Bu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Bu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function UO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===FO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.value=e}static empty(){return new tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!_h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(t)}setAll(e){let t=en.emptyPath(),n={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,n,i),n={},i=[],t=u.popLast()}l?n[u.lastSegment()]=Bu(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,i)}delete(e){const t=this.field(e.popLast());_h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];_h(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Lo(t,(i,o)=>e[i]=o);for(const i of n)delete e[i]}clone(){return new tr(Bu(this.value))}}function Zx(r){const e=[];return Lo(r.fields,(t,n)=>{const i=new en([t]);if(_h(n)){const o=Zx(n.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,n,i,o,l,u){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new cn(e,0,Re.min(),Re.min(),Re.min(),tr.empty(),0)}static newFoundDocument(e,t,n,i){return new cn(e,1,t,Re.min(),n,i,0)}static newNoDocument(e,t){return new cn(e,2,t,Re.min(),Re.min(),tr.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Re.min(),Re.min(),tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,t){this.position=e,this.inclusive=t}}function ZT(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const o=e[i],l=r.position[i];if(o.field.isKeyField()?n=Ie.comparator(Ie.fromName(l.referenceValue),t.key):n=il(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function eE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ei(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function BO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{}class Ft extends eI{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new WO(e,t,n):t==="array-contains"?new YO(e,n):t==="in"?new KO(e,n):t==="not-in"?new qO(e,n):t==="array-contains-any"?new GO(e,n):new Ft(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new HO(e,n):new $O(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(il(t,this.value)):t!==null&&Rs(this.value)===Rs(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends eI{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ti(e,t)}matches(e){return tI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function tI(r){return r.op==="and"}function nI(r){return zO(r)&&tI(r)}function zO(r){for(const e of r.filters)if(e instanceof ti)return!1;return!0}function Hg(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+sl(r.value);if(nI(r))return r.filters.map(e=>Hg(e)).join(",");{const e=r.filters.map(t=>Hg(t)).join(",");return`${r.op}(${e})`}}function rI(r,e){return r instanceof Ft?function(n,i){return i instanceof Ft&&n.op===i.op&&n.field.isEqual(i.field)&&ei(n.value,i.value)}(r,e):r instanceof ti?function(n,i){return i instanceof ti&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((o,l,u)=>o&&rI(l,i.filters[u]),!0):!1}(r,e):void Pe()}function iI(r){return r instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${sl(t.value)}`}(r):r instanceof ti?function(t){return t.op.toString()+" {"+t.getFilters().map(iI).join(" ,")+"}"}(r):"Filter"}class WO extends Ft{constructor(e,t,n){super(e,t,n),this.key=Ie.fromName(n.referenceValue)}matches(e){const t=Ie.comparator(e.key,this.key);return this.matchesComparison(t)}}class HO extends Ft{constructor(e,t){super(e,"in",t),this.keys=sI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $O extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=sI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sI(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ie.fromName(n.referenceValue))}class YO extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zy(t)&&oc(t.arrayValue,this.value)}}class KO extends Ft{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&oc(this.value.arrayValue,t)}}class qO extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!oc(this.value.arrayValue,t)}}class GO extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>oc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t=null,n=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function tE(r,e=null,t=[],n=[],i=null,o=null,l=null){return new QO(r,e,t,n,i,o,l)}function ev(r){const e=Me(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Hg(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>sl(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>sl(n)).join(",")),e.le=t}return e.le}function tv(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!BO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!rI(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!eE(r.startAt,e.startAt)&&eE(r.endAt,e.endAt)}function $g(r){return Ie.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,t=null,n=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function XO(r,e,t,n,i,o,l,u){return new Rf(r,e,t,n,i,o,l,u)}function oI(r){return new Rf(r)}function nE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function JO(r){return r.collectionGroup!==null}function zu(r){const e=Me(r);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ut(en.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new Yh(o,n))}),t.has(en.keyField().canonicalString())||e.he.push(new Yh(en.keyField(),n))}return e.he}function qr(r){const e=Me(r);return e.Pe||(e.Pe=ZO(e,zu(r))),e.Pe}function ZO(r,e){if(r.limitType==="F")return tE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Yh(i.field,o)});const t=r.endAt?new $h(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new $h(r.startAt.position,r.startAt.inclusive):null;return tE(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Yg(r,e,t){return new Rf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Mf(r,e){return tv(qr(r),qr(e))&&r.limitType===e.limitType}function aI(r){return`${ev(qr(r))}|lt:${r.limitType}`}function La(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>iI(i)).join(", ")}]`),Pf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>sl(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>sl(i)).join(",")),`Target(${n})`}(qr(r))}; limitType=${r.limitType})`}function Nf(r,e){return e.isFoundDocument()&&function(n,i){const o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ie.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,i){for(const o of zu(n))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const o of n.filters)if(!o.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(l,u,d){const p=ZT(l,u,d);return l.inclusive?p<=0:p<0}(n.startAt,zu(n),i)||n.endAt&&!function(l,u,d){const p=ZT(l,u,d);return l.inclusive?p>=0:p>0}(n.endAt,zu(n),i))}(r,e)}function eL(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lI(r){return(e,t)=>{let n=!1;for(const i of zu(r)){const o=tL(i,e,t);if(o!==0)return o;n=n||i.field.isKeyField()}return 0}}function tL(r,e,t){const n=r.field.isKeyField()?Ie.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),p=u.data.field(o);return d!==null&&p!==null?il(d,p):Pe()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,o]of n)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Lo(this.inner,(t,n)=>{for(const[i,o]of n)e(i,o)})}isEmpty(){return $x(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new wt(Ie.comparator);function Mi(){return nL}const uI=new wt(Ie.comparator);function Mu(...r){let e=uI;for(const t of r)e=e.insert(t.key,t);return e}function cI(r){let e=uI;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function wo(){return Wu()}function dI(){return Wu()}function Wu(){return new Vo(r=>r.toString(),(r,e)=>r.isEqual(e))}const rL=new wt(Ie.comparator),iL=new Ut(Ie.comparator);function Ue(...r){let e=iL;for(const t of r)e=e.add(t);return e}const sL=new Ut(Oe);function oL(){return sL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function hI(r){return{integerValue:""+r}}function aL(r,e){return MO(e)?hI(e):nv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function lL(r,e,t){return r instanceof Kh?function(i,o){const l={fields:{[qx]:{stringValue:Kx},[Qx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Jy(o)&&(o=Af(o)),o&&(l.fields[Gx]=o),{mapValue:l}}(t,e):r instanceof ac?pI(r,e):r instanceof lc?mI(r,e):function(i,o){const l=fI(i,o),u=rE(l)+rE(i.Ie);return Wg(l)&&Wg(i.Ie)?hI(u):nv(i.serializer,u)}(r,e)}function uL(r,e,t){return r instanceof ac?pI(r,e):r instanceof lc?mI(r,e):t}function fI(r,e){return r instanceof qh?function(n){return Wg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class Kh extends Of{}class ac extends Of{constructor(e){super(),this.elements=e}}function pI(r,e){const t=gI(e);for(const n of r.elements)t.some(i=>ei(i,n))||t.push(n);return{arrayValue:{values:t}}}class lc extends Of{constructor(e){super(),this.elements=e}}function mI(r,e){let t=gI(e);for(const n of r.elements)t=t.filter(i=>!ei(i,n));return{arrayValue:{values:t}}}class qh extends Of{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function rE(r){return Ct(r.integerValue||r.doubleValue)}function gI(r){return Zy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function cL(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof ac&&i instanceof ac||n instanceof lc&&i instanceof lc?rl(n.elements,i.elements,ei):n instanceof qh&&i instanceof qh?ei(n.Ie,i.Ie):n instanceof Kh&&i instanceof Kh}(r.transform,e.transform)}class dL{constructor(e,t){this.version=e,this.transformResults=t}}class Gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lf{}function yI(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new rv(r.key,Gr.none()):new Sc(r.key,r.data,Gr.none());{const t=r.data,n=tr.empty();let i=new Ut(en.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),i=i.add(o)}return new Fo(r.key,n,new Tr(i.toArray()),Gr.none())}}function hL(r,e,t){r instanceof Sc?function(i,o,l){const u=i.value.clone(),d=sE(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(r,e,t):r instanceof Fo?function(i,o,l){if(!wh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=sE(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(vI(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(r,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Hu(r,e,t,n){return r instanceof Sc?function(o,l,u,d){if(!wh(o.precondition,l))return u;const p=o.value.clone(),m=oE(o.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(r,e,t,n):r instanceof Fo?function(o,l,u,d){if(!wh(o.precondition,l))return u;const p=oE(o.fieldTransforms,d,l),m=l.data;return m.setAll(vI(o)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(r,e,t,n):function(o,l,u){return wh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(r,e,t)}function fL(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),o=fI(n.transform,i||null);o!=null&&(t===null&&(t=tr.empty()),t.set(n.field,o))}return t||null}function iE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&rl(n,i,(o,l)=>cL(o,l))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Sc extends Lf{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends Lf{constructor(e,t,n,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function vI(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function sE(r,e,t){const n=new Map;Ze(r.length===t.length);for(let i=0;i<t.length;i++){const o=r[i],l=o.transform,u=e.data.field(o.field);n.set(o.field,uL(l,u,t[i]))}return n}function oE(r,e,t){const n=new Map;for(const i of r){const o=i.transform,l=t.data.field(i.field);n.set(i.field,lL(o,l,e))}return n}class rv extends Lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pL extends Lf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&hL(o,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Hu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Hu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dI();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=yI(l,u);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Re.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(t,n)=>iE(t,n))&&rl(this.baseMutations,e.baseMutations,(t,n)=>iE(t,n))}}class iv{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Ze(e.mutations.length===n.length);let i=function(){return rL}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,n[l].version);return new iv(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,He;function vL(r){switch(r){case ie.OK:return Pe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Pe()}}function _I(r){if(r===void 0)return Ri("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Rt.OK:return ie.OK;case Rt.CANCELLED:return ie.CANCELLED;case Rt.UNKNOWN:return ie.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ie.INTERNAL;case Rt.UNAVAILABLE:return ie.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ie.NOT_FOUND;case Rt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rt.ABORTED:return ie.ABORTED;case Rt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rt.DATA_LOSS:return ie.DATA_LOSS;default:return Pe()}}(He=Rt||(Rt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new Ts([4294967295,4294967295],0);function aE(r){const e=zx().encode(r),t=new Ox;return t.update(e),new Uint8Array(t.digest())}function lE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ts([t,n],0),new Ts([i,o],0)]}class sv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Nu(`Invalid padding: ${t}`);if(n<0)throw new Nu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Nu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Nu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ts.fromNumber(this.Ee)}Ae(e,t,n){let i=e.add(t.multiply(Ts.fromNumber(n)));return i.compare(_L)===1&&(i=new Ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=aE(e),[n,i]=lE(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(n,i,o);if(!this.Re(l))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new sv(o,i,t);return n.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=aE(e),[n,i]=lE(t);for(let o=0;o<this.hashCount;o++){const l=this.Ae(n,i,o);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,t,n,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vf(Re.min(),i,new wt(Oe),Mi(),Ue())}}class kc{constructor(e,t,n,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new kc(n,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,t,n,i){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=i}}class wI{constructor(e,t){this.targetId=e,this.ge=t}}class TI{constructor(e,t,n=tn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class uE{constructor(){this.pe=0,this.ye=cE(),this.we=tn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),n=Ue();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Pe()}}),new kc(this.we,this.Se,e,t,n)}Me(){this.be=!1,this.ye=cE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class wL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Mi(),this.$e=rh(),this.Ue=rh(),this.Ke=new wt(Oe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((n,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,n=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if($g(o))if(n===0){const l=new Ie(o.path);this.ze(t,l,cn.newNoDocument(l,Re.min()))}else Ze(n===1);else{const l=this.et(t);if(l!==n){const u=this.tt(e),d=u?this.nt(u,e,l):1;if(d!==0){this.Ye(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=As(n).toUint8Array()}catch(d){if(d instanceof Yx)return nl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new sv(l,i,o)}catch(d){return nl(d instanceof Nu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.Ee===0?null:u}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let i=0;return n.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&$g(u.target)){const d=new Ie(u.target.path);this._t(d).has(l)||this.ut(l,d)||this.ze(l,d,cn.newNoDocument(d,e))}o.ve&&(t.set(l,o.Fe()),o.Me())}});let n=Ue();this.Ue.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const p=this.Xe(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(n=n.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(e));const i=new Vf(e,t,this.Ke,this.Qe,n);return this.Qe=Mi(),this.$e=rh(),this.Ue=rh(),this.Ke=new wt(Oe),i}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new uE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Ut(Oe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Ut(Oe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new uE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function rh(){return new wt(Ie.comparator)}function cE(){return new wt(Ie.comparator)}const TL={asc:"ASCENDING",desc:"DESCENDING"},EL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SL={and:"AND",or:"OR"};class kL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kg(r,e){return r.useProto3Json||Pf(e)?e:{value:e}}function Gh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EI(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function xL(r,e){return Gh(r,e.toTimestamp())}function Qr(r){return Ze(!!r),Re.fromTimestamp(function(t){const n=Ps(t);return new jt(n.seconds,n.nanos)}(r))}function ov(r,e){return qg(r,e).canonicalString()}function qg(r,e){const t=function(i){return new ft(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function SI(r){const e=ft.fromString(r);return Ze(DI(e)),e}function Gg(r,e){return ov(r.databaseId,e.path)}function Xm(r,e){const t=SI(e);if(t.get(1)!==r.databaseId.projectId)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Se(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ie(xI(t))}function kI(r,e){return ov(r.databaseId,e)}function IL(r){const e=SI(r);return e.length===4?ft.emptyPath():xI(e)}function Qg(r){return new ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xI(r){return Ze(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function dE(r,e,t){return{name:Gg(r,e),fields:t.value.mapValue.fields}}function CL(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,m){return p.useProto3Json?(Ze(m===void 0||typeof m=="string"),tn.fromBase64String(m||"")):(Ze(m===void 0||m instanceof Buffer||m instanceof Uint8Array),tn.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const m=p.code===void 0?ie.UNKNOWN:_I(p.code);return new Se(m,p.message||"")}(l);t=new TI(n,i,o,u||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Xm(r,n.document.name),o=Qr(n.document.updateTime),l=n.document.createTime?Qr(n.document.createTime):Re.min(),u=new tr({mapValue:{fields:n.document.fields}}),d=cn.newFoundDocument(i,o,l,u),p=n.targetIds||[],m=n.removedTargetIds||[];t=new Th(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Xm(r,n.document),o=n.readTime?Qr(n.readTime):Re.min(),l=cn.newNoDocument(i,o),u=n.removedTargetIds||[];t=new Th([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Xm(r,n.document),o=n.removedTargetIds||[];t=new Th([],o,i,null)}else{if(!("filter"in e))return Pe();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:o}=n,l=new yL(i,o),u=n.targetId;t=new wI(u,l)}}return t}function DL(r,e){let t;if(e instanceof Sc)t={update:dE(r,e.key,e.value)};else if(e instanceof rv)t={delete:Gg(r,e.key)};else if(e instanceof Fo)t={update:dE(r,e.key,e.data),updateMask:VL(e.fieldMask)};else{if(!(e instanceof pL))return Pe();t={verify:Gg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,l){const u=l.transform;if(u instanceof Kh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof qh)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Pe()}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:xL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Pe()}(r,e.precondition)),t}function bL(r,e){return r&&r.length>0?(Ze(e!==void 0),r.map(t=>function(i,o){let l=i.updateTime?Qr(i.updateTime):Qr(o);return l.isEqual(Re.min())&&(l=Qr(o)),new dL(l,i.transformResults||[])}(t,e))):[]}function PL(r,e){return{documents:[kI(r,e.path)]}}function AL(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=kI(r,i);const o=function(p){if(p.length!==0)return CI(ti.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:Va(w.field),direction:NL(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Kg(r,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function RL(r){let e=IL(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){Ze(n===1);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(y){const w=II(y);return w instanceof ti&&nI(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(y){return y.map(w=>function(I){return new Yh(Fa(I.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(t.orderBy));let u=null;t.limit&&(u=function(y){let w;return w=typeof y=="object"?y.value:y,Pf(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(y){const w=!!y.before,E=y.values||[];return new $h(E,w)}(t.startAt));let p=null;return t.endAt&&(p=function(y){const w=!y.before,E=y.values||[];return new $h(E,w)}(t.endAt)),XO(e,i,l,o,u,"F",d,p)}function ML(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function II(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Fa(t.unaryFilter.field);return Ft.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Fa(t.unaryFilter.field);return Ft.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fa(t.unaryFilter.field);return Ft.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Fa(t.unaryFilter.field);return Ft.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(r):r.fieldFilter!==void 0?function(t){return Ft.create(Fa(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ti.create(t.compositeFilter.filters.map(n=>II(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(t.compositeFilter.op))}(r):Pe()}function NL(r){return TL[r]}function OL(r){return EL[r]}function LL(r){return SL[r]}function Va(r){return{fieldPath:r.canonicalString()}}function Fa(r){return en.fromServerFormat(r.fieldPath)}function CI(r){return r instanceof Ft?function(t){if(t.op==="=="){if(JT(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NAN"}};if(XT(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(JT(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NAN"}};if(XT(t.value))return{unaryFilter:{field:Va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(t.field),op:OL(t.op),value:t.value}}}(r):r instanceof ti?function(t){const n=t.getFilters().map(i=>CI(i));return n.length===1?n[0]:{compositeFilter:{op:LL(t.op),filters:n}}}(r):Pe()}function VL(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DI(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,n,i,o=Re.min(),l=Re.min(),u=tn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.Tt=e}}function jL(r){const e=RL({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.Tn=new BL}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(bs.min())}updateCollectionGroup(e,t,n){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class BL{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Ut(ft.comparator),o=!i.has(n);return this.index[t]=i.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ut(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bI=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(bI,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ol(0)}static Kn(){return new ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LruGarbageCollector",zL=1048576;function pE([r,e],[t,n]){const i=Oe(r,t);return i===0?Oe(e,n):i}class WL{constructor(e){this.Hn=e,this.buffer=new Ut(pE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();pE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HL{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(fE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Sl(t)?pe(fE,"Ignoring IndexedDB error during garbage collection: ",t):await El(t)}await this.er(3e5)})}}class $L{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(bf.ae);const n=new WL(t);return this.tr.forEachTarget(e,i=>n.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>n.Zn(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(hE)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,i,o,l,u,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(n=y,u=Date.now(),this.removeTargets(e,n,t))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,n))).next(y=>(p=Date.now(),Oa()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function YL(r,e){return new $L(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.changes=new Vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ee.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Hu(n.mutation,i,Tr.empty(),jt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Ue()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Ue()){const i=wo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(o=>{let l=Mu();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const n=wo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ue()))}populateOverlays(e,t,n){const i=[];return n.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,n,i){let o=Mi();const l=Wu(),u=function(){return Wu()}();return t.forEach((d,p)=>{const m=n.get(p.key);i.has(p.key)&&(m===void 0||m.mutation instanceof Fo)?o=o.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),Hu(m.mutation,p,m.mutation.getFieldMask(),jt.now())):l.set(p.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>{var y;return u.set(p,new qL(m,(y=l.get(p))!==null&&y!==void 0?y:null))}),u))}recalculateAndSaveOverlays(e,t){const n=Wu();let i=new wt((l,u)=>l-u),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=n.get(d)||Tr.empty();m=u.applyToLocalView(p,m),n.set(d,m);const y=(i.get(u.batchId)||Ue()).add(d);i=i.insert(u.batchId,y)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),p=d.key,m=d.value,y=dI();m.forEach(w=>{if(!o.has(w)){const E=yI(t.get(w),n.get(w));E!==null&&y.set(w,E),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ee.waitFor(l)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(l){return Ie.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-o.size):ee.resolve(wo());let u=rc,d=o;return l.next(p=>ee.forEach(p,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?ee.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{d=d.insert(m,w)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,Ue())).next(m=>({batchId:u,changes:cI(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ie(t)).next(n=>{let i=Mu();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const o=t.collectionGroup;let l=Mu();return this.indexManager.getCollectionParents(e,o).next(u=>ee.forEach(u,d=>{const p=function(y,w){return new Rf(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,n,i).next(m=>{m.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,n,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,i))).next(l=>{o.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,cn.newInvalidDocument(m)))});let u=Mu();return l.forEach((d,p)=>{const m=o.get(d);m!==void 0&&Hu(m.mutation,p,Tr.empty(),jt.now()),Nf(t,p)&&(u=u.insert(d,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qr(i.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:jL(i.bundledQuery),readTime:Qr(i.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(){this.overlays=new wt(Ie.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const n=wo();return ee.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&n.set(i,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,o)=>{this.Et(e,t,o)}),ee.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.Rr.get(n);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(n)),ee.resolve()}getOverlaysForCollection(e,t,n){const i=wo(),o=t.length+1,l=new Ie(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>n&&i.set(d.getKey(),d)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let o=new wt((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>n){let m=o.get(p.largestBatchId);m===null&&(m=wo(),o=o.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const u=wo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>u.set(p,m)),!(u.size()>=i)););return ee.resolve(u)}Et(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(n.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new gL(t,n));let o=this.Rr.get(t);o===void 0&&(o=Ue(),this.Rr.set(t,o)),this.Rr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(){this.Vr=new Ut(Yt.mr),this.gr=new Ut(Yt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new Yt(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.wr(new Yt(e,t))}Sr(e,t){e.forEach(n=>this.removeReference(n,t))}br(e){const t=new Ie(new ft([])),n=new Yt(t,e),i=new Yt(t,e+1),o=[];return this.gr.forEachInRange([n,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ie(new ft([])),n=new Yt(t,e),i=new Yt(t,e+1);let o=Ue();return this.gr.forEachInRange([n,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Yt(e,0),n=this.Vr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Yt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ie.comparator(e.key,t.key)||Oe(e.Cr,t.Cr)}static pr(e,t){return Oe(e.Cr,t.Cr)||Ie.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Ut(Yt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new mL(o,t,n,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new Yt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Nr(n),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Xy:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yt(t,0),i=new Yt(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([n,i],l=>{const u=this.Or(l.Cr);o.push(u)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ut(Oe);return t.forEach(i=>{const o=new Yt(i,0),l=new Yt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{n=n.add(u.Cr)})}),ee.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let o=n;Ie.isDocumentKey(o)||(o=o.child(""));const l=new Yt(new Ie(o),0);let u=new Ut(Oe);return this.Mr.forEachWhile(d=>{const p=d.key.path;return!!n.isPrefixOf(p)&&(p.length===i&&(u=u.add(d.Cr)),!0)},l),ee.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(n=>{const i=this.Or(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ze(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return ee.forEach(t.mutations,i=>{const o=new Yt(i.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,t){const n=new Yt(t,0),i=this.Mr.firstAfterOrEqual(n);return ee.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.kr=e,this.docs=function(){return new wt(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),o=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ee.resolve(n?n.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let n=Mi();return t.forEach(i=>{const o=this.docs.get(i);n=n.insert(i,o?o.document.mutableCopy():cn.newInvalidDocument(i))}),ee.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let o=Mi();const l=t.path,u=new Ie(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||bO(DO(m),n)<=0||(i.has(m.key)||Nf(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,t,n,i){Pe()}qr(e,t){return ee.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new tV(this)}getSize(e){return ee.resolve(this.size)}}class tV extends KL{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(n)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.persistence=e,this.Qr=new Vo(t=>ev(t),tv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Ur=new av,this.targetCount=0,this.Kr=ol.Un()}forEachTarget(e,t){return this.Qr.forEach((n,i)=>t(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new ol(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,n){let i=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&n.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return ee.resolve(n)}addMatchingKeys(e,t,n){return this.Ur.yr(t,n),ee.resolve()}removeMatchingKeys(e,t,n){this.Ur.Sr(t,n);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ur.vr(t);return ee.resolve(n)}containsKey(e,t){return ee.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new bf(0),this.zr=!1,this.zr=!0,this.jr=new JL,this.referenceDelegate=e(this),this.Hr=new nV(this),this.indexManager=new UL,this.remoteDocumentCache=function(i){return new eV(i)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new FL(t),this.Yr=new QL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new ZL(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){pe("MemoryPersistence","Starting transaction:",e);const i=new rV(this.Gr.next());return this.referenceDelegate.Zr(),n(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return ee.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,t)))}}class rV extends AO{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.ti=new av,this.ni=null}static ri(e){return new lv(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),ee.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,n=>{const i=Ie.fromPath(n);return this.si(e,i).next(o=>{o||t.removeEntry(i,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(n=>{n?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Qh{constructor(e,t){this.persistence=e,this.oi=new Vo(n=>NO(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=YL(this,t)}static ri(e,t){return new Qh(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}sr(e){let t=0;return this.rr(e,n=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(n,i)=>this.ar(e,n,i).next(o=>o?ee.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(n++,o.removeEntry(l,Re.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vh(e.data.value)),t}ar(e,t,n){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return ee.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=i}static Yi(e,t){let n=Ue(),i=Ue();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uv(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JN()?8:RO(hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,i){const o={result:null};return this.rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(e,t,i,n).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new iV;return this._s(e,t,l).next(u=>{if(o.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>o.result)}us(e,t,n,i){return n.documentReadCount<this.es?(Oa()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",La(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Oa()<=je.DEBUG&&pe("QueryEngine","Query:",La(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ts*i?(Oa()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",La(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):ee.resolve())}rs(e,t){if(nE(t))return ee.resolve(null);let n=qr(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Yg(t,null,"F"),n=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const l=Ue(...o);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,n).next(d=>{const p=this.cs(t,u);return this.ls(t,p,l,d.readTime)?this.rs(e,Yg(t,null,"F")):this.hs(e,p,t,d)}))})))}ss(e,t,n,i){return nE(t)||i.isEqual(Re.min())?ee.resolve(null):this.ns.getDocuments(e,n).next(o=>{const l=this.cs(t,o);return this.ls(t,l,n,i)?ee.resolve(null):(Oa()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),La(t)),this.hs(e,l,t,CO(i,rc)).next(u=>u))})}cs(e,t){let n=new Ut(lI(e));return t.forEach((i,o)=>{Nf(e,o)&&(n=n.add(o))}),n}ls(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,n){return Oa()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",La(t)),this.ns.getDocumentsMatchingQuery(e,t,bs.min(),n)}hs(e,t,n,i){return this.ns.getDocumentsMatchingQuery(e,n,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LocalStore",oV=3e8;class aV{constructor(e,t,n,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new wt(Oe),this.Is=new Vo(o=>ev(o),tv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GL(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function lV(r,e,t,n){return new aV(r,e,t,n)}async function AI(r,e){const t=Me(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const l=[],u=[];let d=Ue();for(const p of i){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of o){u.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(n,d).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:u}))})})}function uV(r,e){const t=Me(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,d,p,m){const y=p.batch,w=y.keys();let E=ee.resolve();return w.forEach(I=>{E=E.next(()=>m.getEntry(d,I)).next(P=>{const D=p.docVersions.get(I);Ze(D!==null),P.version.compareTo(D)<0&&(y.applyToRemoteDocument(P,p),P.isValidDocument()&&(P.setReadTime(p.commitVersion),m.addEntry(P)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(d,y))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(u){let d=Ue();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(d=d.add(u.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function RI(r){const e=Me(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function cV(r,e){const t=Me(r),n=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((m,y)=>{const w=i.get(y);if(!w)return;u.push(t.Hr.removeMatchingKeys(o,m.removedDocuments,y).next(()=>t.Hr.addMatchingKeys(o,m.addedDocuments,y)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(tn.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,n)),i=i.insert(y,E),function(P,D,N){return P.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=oV?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,E,m)&&u.push(t.Hr.updateTargetData(o,E))});let d=Mi(),p=Ue();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(dV(o,l,e.documentUpdates).next(m=>{d=m.Vs,p=m.fs})),!n.isEqual(Re.min())){const m=t.Hr.getLastRemoteSnapshotVersion(o).next(y=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,n));u.push(m)}return ee.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(t.Ts=i,o))}function dV(r,e,t){let n=Ue(),i=Ue();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let l=Mi();return t.forEach((u,d)=>{const p=o.get(u);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):pe(cv,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",d.version)}),{Vs:l,fs:i}})}function hV(r,e){const t=Me(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Xy),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function fV(r,e){const t=Me(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Hr.getTargetData(n,e).next(o=>o?(i=o,ee.resolve(i)):t.Hr.allocateTargetId(n).next(l=>(i=new gs(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Hr.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ts.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(n.targetId,n),t.Is.set(e,n.targetId)),n})}async function Xg(r,e,t){const n=Me(r),i=n.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,l=>n.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Sl(l))throw l;pe(cv,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ts=n.Ts.remove(e),n.Is.delete(i.target)}function mE(r,e,t){const n=Me(r);let i=Re.min(),o=Ue();return n.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const y=Me(d),w=y.Is.get(m);return w!==void 0?ee.resolve(y.Ts.get(w)):y.Hr.getTargetData(p,m)}(n,l,qr(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>n.Ps.getDocumentsMatchingQuery(l,e,t?i:Re.min(),t?o:Ue())).next(u=>(pV(n,eL(e),u),{documents:u,gs:o})))}function pV(r,e,t){let n=r.Es.get(e)||Re.min();t.forEach((i,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Es.set(e,n)}class gE{constructor(){this.activeTargetIds=oL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.ho=new gE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new gE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class vE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function Jg(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="RestConnection",yV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${i}`,this.wo=this.databaseId.database===Wh?`project_id=${n}`:`project_id=${n}&database_id=${i}`}So(e,t,n,i,o){const l=Jg(),u=this.bo(e,t.toUriEncodedString());pe(Jm,`Sending RPC '${e}' ${l}:`,u,n);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,u,d,n).then(p=>(pe(Jm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw nl(Jm,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",n),p})}Co(e,t,n,i,o,l){return this.So(e,t,n,i,o)}Do(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),n&&n.headers.forEach((i,o)=>e[o]=i)}bo(e,t){const n=yV[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class wV extends vV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,i){const o=Jg();return new Promise((l,u)=>{const d=new Lx;d.setWithCredentials(!0),d.listenOnce(Vx.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case yh.NO_ERROR:const m=d.getResponseJson();pe(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case yh.TIMEOUT:pe(an,`RPC '${e}' ${o} timed out`),u(new Se(ie.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const y=d.getStatus();if(pe(an,`RPC '${e}' ${o} failed with status:`,y,"response text:",d.getResponseText()),y>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const I=function(D){const N=D.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(N)>=0?N:ie.UNKNOWN}(E.status);u(new Se(I,E.message))}else u(new Se(ie.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new Se(ie.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{pe(an,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(i);pe(an,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",p,n,15)})}Wo(e,t,n){const i=Jg(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Ux(),u=jx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const m=o.join("");pe(an,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);let w=!1,E=!1;const I=new _V({Fo:D=>{E?pe(an,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(w||(pe(an,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),pe(an,`RPC '${e}' stream ${i} sending:`,D),y.send(D))},Mo:()=>y.close()}),P=(D,N,V)=>{D.listen(N,L=>{try{V(L)}catch(K){setTimeout(()=>{throw K},0)}})};return P(y,Ru.EventType.OPEN,()=>{E||(pe(an,`RPC '${e}' stream ${i} transport opened.`),I.Qo())}),P(y,Ru.EventType.CLOSE,()=>{E||(E=!0,pe(an,`RPC '${e}' stream ${i} transport closed`),I.Uo())}),P(y,Ru.EventType.ERROR,D=>{E||(E=!0,nl(an,`RPC '${e}' stream ${i} transport errored:`,D),I.Uo(new Se(ie.UNAVAILABLE,"The operation could not be completed")))}),P(y,Ru.EventType.MESSAGE,D=>{var N;if(!E){const V=D.data[0];Ze(!!V);const L=V,K=(L==null?void 0:L.error)||((N=L[0])===null||N===void 0?void 0:N.error);if(K){pe(an,`RPC '${e}' stream ${i} received error:`,K);const Q=K.status;let Z=function(C){const R=Rt[C];if(R!==void 0)return _I(R)}(Q),b=K.message;Z===void 0&&(Z=ie.INTERNAL,b="Unknown error status: "+Q+" with message "+K.message),E=!0,I.Uo(new Se(Z,b)),y.close()}else pe(an,`RPC '${e}' stream ${i} received:`,V),I.Ko(V)}}),P(u,Fx.STAT_EVENT,D=>{D.stat===Ug.PROXY?pe(an,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Ug.NOPROXY&&pe(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function Zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(r){return new kL(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t,n=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=n,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-n);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class NI{constructor(e,t,n,i,o,l,u,d){this.Ti=e,this.n_=n,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new MI(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.i_===t&&this.V_(n,i)},n=>{e(()=>{const i=new Se(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(i)})})}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{n(()=>this.m_(i))}),this.stream.onMessage(i=>{n(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TV extends NI{constructor(e,t,n,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=CL(this.serializer,e),n=function(o){if(!("targetChange"in o))return Re.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Re.min():l.readTime?Qr(l.readTime):Re.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Qg(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=$g(d)?{documents:PL(o,d)}:{query:AL(o,d).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=EI(o,l.resumeToken);const p=Kg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(Re.min())>0){u.readTime=Gh(o,l.snapshotVersion.toTimestamp());const p=Kg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const n=ML(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Qg(this.serializer),t.removeTarget=e,this.I_(t)}}class EV extends NI{constructor(e,t,n,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=bL(e.writeResults,e.commitTime),n=Qr(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Qg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>DL(this.serializer,n))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{}class kV extends SV{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(e,qg(t,n),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Se(ie.UNKNOWN,o.toString())})}Co(e,t,n,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,qg(t,n),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ie.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class xV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ri(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="RemoteStore";class IV{constructor(e,t,n,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{n.enqueueAndForget(async()=>{jo(this)&&(pe(Po,"Restarting streams for network reachability change."),await async function(d){const p=Me(d);p.W_.add(4),await xc(p),p.j_.set("Unknown"),p.W_.delete(4),await jf(p)}(this))})}),this.j_=new xV(n,i)}}async function jf(r){if(jo(r))for(const e of r.G_)await e(!0)}async function xc(r){for(const e of r.G_)await e(!1)}function OI(r,e){const t=Me(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),pv(t)?fv(t):kl(t).c_()&&hv(t,e))}function dv(r,e){const t=Me(r),n=kl(t);t.K_.delete(e),n.c_()&&LI(t,e),t.K_.size===0&&(n.c_()?n.P_():jo(t)&&t.j_.set("Unknown"))}function hv(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kl(r).y_(e)}function LI(r,e){r.H_.Ne(e),kl(r).w_(e)}function fv(r){r.H_=new wL({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),kl(r).start(),r.j_.B_()}function pv(r){return jo(r)&&!kl(r).u_()&&r.K_.size>0}function jo(r){return Me(r).W_.size===0}function VI(r){r.H_=void 0}async function CV(r){r.j_.set("Online")}async function DV(r){r.K_.forEach((e,t)=>{hv(r,e)})}async function bV(r,e){VI(r),pv(r)?(r.j_.q_(e),fv(r)):r.j_.set("Unknown")}async function PV(r,e,t){if(r.j_.set("Online"),e instanceof TI&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i.K_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.K_.delete(u),i.H_.removeTarget(u))}(r,e)}catch(n){pe(Po,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Xh(r,n)}else if(e instanceof Th?r.H_.We(e):e instanceof wI?r.H_.Ze(e):r.H_.je(e),!t.isEqual(Re.min()))try{const n=await RI(r.localStore);t.compareTo(n)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.K_.get(p);m&&o.K_.set(p,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,p)=>{const m=o.K_.get(d);if(!m)return;o.K_.set(d,m.withResumeToken(tn.EMPTY_BYTE_STRING,m.snapshotVersion)),LI(o,d);const y=new gs(m.target,d,p,m.sequenceNumber);hv(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(r,t)}catch(n){pe(Po,"Failed to raise snapshot:",n),await Xh(r,n)}}async function Xh(r,e,t){if(!Sl(e))throw e;r.W_.add(1),await xc(r),r.j_.set("Offline"),t||(t=()=>RI(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pe(Po,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await jf(r)})}function FI(r,e){return e().catch(t=>Xh(r,t,e))}async function Uf(r){const e=Me(r),t=Ms(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:Xy;for(;AV(e);)try{const i=await hV(e.localStore,n);if(i===null){e.U_.length===0&&t.P_();break}n=i.batchId,RV(e,i)}catch(i){await Xh(e,i)}jI(e)&&UI(e)}function AV(r){return jo(r)&&r.U_.length<10}function RV(r,e){r.U_.push(e);const t=Ms(r);t.c_()&&t.S_&&t.b_(e.mutations)}function jI(r){return jo(r)&&!Ms(r).u_()&&r.U_.length>0}function UI(r){Ms(r).start()}async function MV(r){Ms(r).C_()}async function NV(r){const e=Ms(r);for(const t of r.U_)e.b_(t.mutations)}async function OV(r,e,t){const n=r.U_.shift(),i=iv.from(n,e,t);await FI(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await Uf(r)}async function LV(r,e){e&&Ms(r).S_&&await async function(n,i){if(function(l){return vL(l)&&l!==ie.ABORTED}(i.code)){const o=n.U_.shift();Ms(n).h_(),await FI(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Uf(n)}}(r,e),jI(r)&&UI(r)}async function wE(r,e){const t=Me(r);t.asyncQueue.verifyOperationInProgress(),pe(Po,"RemoteStore received new credentials");const n=jo(t);t.W_.add(3),await xc(t),n&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await jf(t)}async function VV(r,e){const t=Me(r);e?(t.W_.delete(2),await jf(t)):e||(t.W_.add(2),await xc(t),t.j_.set("Unknown"))}function kl(r){return r.J_||(r.J_=function(t,n,i){const o=Me(t);return o.M_(),new TV(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{xo:CV.bind(null,r),No:DV.bind(null,r),Lo:bV.bind(null,r),p_:PV.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),pv(r)?fv(r):r.j_.set("Unknown")):(await r.J_.stop(),VI(r))})),r.J_}function Ms(r){return r.Y_||(r.Y_=function(t,n,i){const o=Me(t);return o.M_(),new EV(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:MV.bind(null,r),Lo:LV.bind(null,r),D_:NV.bind(null,r),v_:OV.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Uf(r)):(await r.Y_.stop(),r.U_.length>0&&(pe(Po,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,n,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=o,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,o){const l=Date.now()+n,u=new mv(e,t,l,i,o);return u.start(n),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gv(r,e){if(Ri("AsyncQueue",`${e}: ${r}`),Sl(r))return new Se(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{static emptySet(e){return new Ya(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ie.comparator(t.key,n.key):(t,n)=>Ie.comparator(t.key,n.key),this.keyedMap=Mu(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ya)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=n.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ya;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.Z_=new wt(Ie.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(t):e.type===1&&n.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,n)=>{e.push(n)}),e}}class al{constructor(e,t,n,i,o,l,u,d,p){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,n,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new al(e,t,Ya.emptySet(t),l,n,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jV{constructor(){this.queries=EE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,n){const i=Me(t),o=i.queries;i.queries=EE(),o.forEach((l,u)=>{for(const d of u.ta)d.onError(n)})})(this,new Se(ie.ABORTED,"Firestore shutting down"))}}function EE(){return new Vo(r=>aI(r),Mf)}async function UV(r,e){const t=Me(r);let n=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(n=2):(o=new FV,n=e.ra()?0:1);try{switch(n){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=gv(l,`Initialization of query '${La(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&yv(t)}async function BV(r,e){const t=Me(r),n=e.query;let i=3;const o=t.queries.get(n);if(o){const l=o.ta.indexOf(e);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function zV(r,e){const t=Me(r);let n=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.ta)u.oa(i)&&(n=!0);l.ea=i}}n&&yv(t)}function WV(r,e,t){const n=Me(r),i=n.queries.get(e);if(i)for(const o of i.ta)o.onError(t);n.queries.delete(e)}function yv(r){r.ia.forEach(e=>{e.next()})}var Zg,SE;(SE=Zg||(Zg={}))._a="default",SE.Cache="cache";class HV{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new al(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const n=t!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.key=e}}class zI{constructor(e){this.key=e}}class $V{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=lI(e),this.wa=new Ya(this.ya)}get Sa(){return this.fa}ba(e,t){const n=t?t.Da:new TE,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,y)=>{const w=i.get(m),E=Nf(this.query,y)?y:null,I=!!w&&this.mutatedKeys.has(w.key),P=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let D=!1;w&&E?w.data.isEqual(E.data)?I!==P&&(n.track({type:3,doc:E}),D=!0):this.va(w,E)||(n.track({type:2,doc:E}),D=!0,(d&&this.ya(E,d)>0||p&&this.ya(E,p)<0)&&(u=!0)):!w&&E?(n.track({type:0,doc:E}),D=!0):w&&!E&&(n.track({type:1,doc:w}),D=!0,(d||p)&&(u=!0)),D&&(E?(l=l.add(E),o=P?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),n.track({type:1,doc:m})}return{wa:l,Da:n,ls:u,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((m,y)=>function(E,I){const P=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return P(E)-P(I)}(m.type,y.type)||this.ya(m.doc,y.doc)),this.Ca(n),i=i!=null&&i;const u=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,p=d!==this.ga;return this.ga=d,l.length!==0||p?{snapshot:new al(this.query,e.wa,o,l,e.mutatedKeys,d===0,p,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new TE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const t=[];return e.forEach(n=>{this.pa.has(n)||t.push(new zI(n))}),this.pa.forEach(n=>{e.has(n)||t.push(new BI(n))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return al.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const vv="SyncEngine";class YV{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class KV{constructor(e){this.key=e,this.Ba=!1}}class qV{constructor(e,t,n,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Vo(u=>aI(u),Mf),this.qa=new Map,this.Qa=new Set,this.$a=new wt(Ie.comparator),this.Ua=new Map,this.Ka=new av,this.Wa={},this.Ga=new Map,this.za=ol.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GV(r,e,t=!0){const n=qI(r);let i;const o=n.ka.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await WI(n,e,t,!0),i}async function QV(r,e){const t=qI(r);await WI(t,e,!0,!1)}async function WI(r,e,t,n){const i=await fV(r.localStore,qr(e)),o=i.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let u;return n&&(u=await XV(r,e,o,l==="current",i.resumeToken)),r.isPrimaryClient&&t&&OI(r.remoteStore,i),u}async function XV(r,e,t,n,i){r.Ha=(y,w,E)=>async function(P,D,N,V){let L=D.view.ba(N);L.ls&&(L=await mE(P.localStore,D.query,!1).then(({documents:b})=>D.view.ba(b,L)));const K=V&&V.targetChanges.get(D.targetId),Q=V&&V.targetMismatches.get(D.targetId)!=null,Z=D.view.applyChanges(L,P.isPrimaryClient,K,Q);return xE(P,D.targetId,Z.Ma),Z.snapshot}(r,y,w,E);const o=await mE(r.localStore,e,!0),l=new $V(e,o.gs),u=l.ba(o.documents),d=kc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),p=l.applyChanges(u,r.isPrimaryClient,d);xE(r,t,p.Ma);const m=new YV(e,t,l);return r.ka.set(e,m),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),p.snapshot}async function JV(r,e,t){const n=Me(r),i=n.ka.get(e),o=n.qa.get(i.targetId);if(o.length>1)return n.qa.set(i.targetId,o.filter(l=>!Mf(l,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Xg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&dv(n.remoteStore,i.targetId),ey(n,i.targetId)}).catch(El)):(ey(n,i.targetId),await Xg(n.localStore,i.targetId,!0))}async function ZV(r,e){const t=Me(r),n=t.ka.get(e),i=t.qa.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),dv(t.remoteStore,n.targetId))}async function eF(r,e,t){const n=aF(r);try{const i=await function(l,u){const d=Me(l),p=jt.now(),m=u.reduce((E,I)=>E.add(I.key),Ue());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let I=Mi(),P=Ue();return d.ds.getEntries(E,m).next(D=>{I=D,I.forEach((N,V)=>{V.isValidDocument()||(P=P.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,I)).next(D=>{y=D;const N=[];for(const V of u){const L=fL(V,y.get(V.key).overlayedDocument);L!=null&&N.push(new Fo(V.key,L,Zx(L.value.mapValue),Gr.exists(!0)))}return d.mutationQueue.addMutationBatch(E,p,N,u)}).next(D=>{w=D;const N=D.applyToLocalDocumentSet(y,P);return d.documentOverlayCache.saveOverlays(E,D.batchId,N)})}).then(()=>({batchId:w.batchId,changes:cI(y)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let p=l.Wa[l.currentUser.toKey()];p||(p=new wt(Oe)),p=p.insert(u,d),l.Wa[l.currentUser.toKey()]=p}(n,i.batchId,t),await Ic(n,i.changes),await Uf(n.remoteStore)}catch(i){const o=gv(i,"Failed to persist write");t.reject(o)}}async function HI(r,e){const t=Me(r);try{const n=await cV(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t.Ua.get(o);l&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Ze(l.Ba):i.removedDocuments.size>0&&(Ze(l.Ba),l.Ba=!1))}),await Ic(t,n,e)}catch(n){await El(n)}}function kE(r,e,t){const n=Me(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.ka.forEach((o,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=Me(l);d.onlineState=u;let p=!1;d.queries.forEach((m,y)=>{for(const w of y.ta)w.sa(u)&&(p=!0)}),p&&yv(d)}(n.eventManager,e),i.length&&n.La.p_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function tF(r,e,t){const n=Me(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Ua.get(e),o=i&&i.key;if(o){let l=new wt(Ie.comparator);l=l.insert(o,cn.newNoDocument(o,Re.min()));const u=Ue().add(o),d=new Vf(Re.min(),new Map,new wt(Oe),l,u);await HI(n,d),n.$a=n.$a.remove(o),n.Ua.delete(e),_v(n)}else await Xg(n.localStore,e,!1).then(()=>ey(n,e,t)).catch(El)}async function nF(r,e){const t=Me(r),n=e.batch.batchId;try{const i=await uV(t.localStore,e);YI(t,n,null),$I(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Ic(t,i)}catch(i){await El(i)}}async function rF(r,e,t){const n=Me(r);try{const i=await function(l,u){const d=Me(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,u).next(y=>(Ze(y!==null),m=y.keys(),d.mutationQueue.removeMutationBatch(p,y))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(n.localStore,e);YI(n,e,t),$I(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Ic(n,i)}catch(i){await El(i)}}function $I(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function YI(r,e,t){const n=Me(r);let i=n.Wa[n.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),n.Wa[n.currentUser.toKey()]=i}}function ey(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.qa.get(e))r.ka.delete(n),t&&r.La.Ja(n,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(n=>{r.Ka.containsKey(n)||KI(r,n)})}function KI(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(dv(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),_v(r))}function xE(r,e,t){for(const n of t)n instanceof BI?(r.Ka.addReference(n.key,e),iF(r,n)):n instanceof zI?(pe(vv,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,e),r.Ka.containsKey(n.key)||KI(r,n.key)):Pe()}function iF(r,e){const t=e.key,n=t.path.canonicalString();r.$a.get(t)||r.Qa.has(n)||(pe(vv,"New document in limbo: "+t),r.Qa.add(n),_v(r))}function _v(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Ie(ft.fromString(e)),n=r.za.next();r.Ua.set(n,new KV(t)),r.$a=r.$a.insert(t,n),OI(r.remoteStore,new gs(qr(oI(t.path)),n,"TargetPurposeLimboResolution",bf.ae))}}async function Ic(r,e,t){const n=Me(r),i=[],o=[],l=[];n.ka.isEmpty()||(n.ka.forEach((u,d)=>{l.push(n.Ha(d,e,t).then(p=>{var m;if((p||t)&&n.isPrimaryClient){const y=p?!p.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;n.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){i.push(p);const y=uv.Yi(d.targetId,p);o.push(y)}}))}),await Promise.all(l),n.La.p_(i),await async function(d,p){const m=Me(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ee.forEach(p,w=>ee.forEach(w.Hi,E=>m.persistence.referenceDelegate.addReference(y,w.targetId,E)).next(()=>ee.forEach(w.Ji,E=>m.persistence.referenceDelegate.removeReference(y,w.targetId,E)))))}catch(y){if(!Sl(y))throw y;pe(cv,"Failed to update sequence numbers: "+y)}for(const y of p){const w=y.targetId;if(!y.fromCache){const E=m.Ts.get(w),I=E.snapshotVersion,P=E.withLastLimboFreeSnapshotVersion(I);m.Ts=m.Ts.insert(w,P)}}}(n.localStore,o))}async function sF(r,e){const t=Me(r);if(!t.currentUser.isEqual(e)){pe(vv,"User change. New user:",e.toKey());const n=await AI(t.localStore,e);t.currentUser=e,function(o,l){o.Ga.forEach(u=>{u.forEach(d=>{d.reject(new Se(ie.CANCELLED,l))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ic(t,n.Rs)}}function oF(r,e){const t=Me(r),n=t.Ua.get(e);if(n&&n.Ba)return Ue().add(n.key);{let i=Ue();const o=t.qa.get(e);if(!o)return i;for(const l of o){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}function qI(r){const e=Me(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=HI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tF.bind(null,e),e.La.p_=zV.bind(null,e.eventManager),e.La.Ja=WV.bind(null,e.eventManager),e}function aF(r){const e=Me(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rF.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return lV(this.persistence,new sV,e.initialUser,this.serializer)}Xa(e){return new PI(lv.ri,this.serializer)}Za(e){return new mV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class lF extends Jh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ze(this.persistence.referenceDelegate instanceof Qh);const n=this.persistence.referenceDelegate.garbageCollector;return new HL(n,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new PI(n=>Qh.ri(n,t),this.serializer)}}class ty{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>kE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=sF.bind(null,this.syncEngine),await VV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jV}()}createDatastore(e){const t=Ff(e.databaseInfo.databaseId),n=function(o){return new wV(o)}(e.databaseInfo);return function(o,l,u,d){return new kV(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,o,l,u){return new IV(n,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>kE(this.syncEngine,t,0),function(){return vE.D()?new vE:new gV}())}createSyncEngine(e,t){return function(i,o,l,u,d,p,m){const y=new qV(i,o,l,u,d,p);return m&&(y.ja=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Me(i);pe(Po,"RemoteStore shutting down."),o.W_.add(5),await xc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ty.provider={build:()=>new ty};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class cF{constructor(e,t,n,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=Wx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async l=>{pe(Ns,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(n,l=>(pe(Ns,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gv(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function eg(r,e){r.asyncQueue.verifyOperationInProgress(),pe(Ns,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await AI(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function IE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await dF(r);pe(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>wE(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>wE(e.remoteStore,i)),r._onlineComponents=e}async function dF(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pe(Ns,"Using user provided OfflineComponentProvider");try{await eg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await eg(r,new Jh)}}else pe(Ns,"Using default OfflineComponentProvider"),await eg(r,new lF(void 0));return r._offlineComponents}async function GI(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pe(Ns,"Using user provided OnlineComponentProvider"),await IE(r,r._uninitializedComponentsProvider._online)):(pe(Ns,"Using default OnlineComponentProvider"),await IE(r,new ty))),r._onlineComponents}function hF(r){return GI(r).then(e=>e.syncEngine)}async function fF(r){const e=await GI(r),t=e.eventManager;return t.onListen=GV.bind(null,e.syncEngine),t.onUnlisten=JV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ZV.bind(null,e.syncEngine),t}function pF(r,e,t={}){const n=new Es;return r.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,p){const m=new uF({next:w=>{m.su(),l.enqueueAndForget(()=>BV(o,y)),w.fromCache&&d.source==="server"?p.reject(new Se(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),y=new HV(u,m,{includeMetadataChanges:!0,Ta:!0});return UV(o,y)}(await fF(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r,e,t){if(!t)throw new Se(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mF(r,e,t,n){if(e===!0&&n===!0)throw new Se(ie.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function DE(r){if(!Ie.isDocumentKey(r))throw new Se(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){if(Ie.isDocumentKey(r))throw new Se(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Pe()}function uc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Se(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wv(r);throw new Se(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI="firestore.googleapis.com",PE=!0;class AE{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JI,this.ssl=PE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zL)throw new Se(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QI((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Se(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new vO;switch(n.type){case"firstParty":return new EO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Se(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=CE.get(t);n&&(pe("ComponentProvider","Removing Datastore"),CE.delete(t),n.terminate())}(this),Promise.resolve()}}function gF(r,e,t,n={}){var i;const o=(r=uc(r,Bf))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:r._getEmulatorOptions()}),u=`${e}:${t}`;o.host!==JI&&o.host!==u&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:n});if(!Co(d,l)&&(r._setSettings(d),n.mockUserToken)){let p,m;if(typeof n.mockUserToken=="string")p=n.mockUserToken,m=un.MOCK_USER;else{p=$N(n.mockUserToken,(i=r._app)===null||i===void 0?void 0:i.options.projectId);const y=n.mockUserToken.sub||n.mockUserToken.user_id;if(!y)throw new Se(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new un(y)}r._authCredentials=new _O(new Bx(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zf(this.firestore,e,this._query)}}class Sr{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class Ss extends zf{constructor(e,t,n){super(e,t,oI(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new Ie(e))}withConverter(e){return new Ss(this.firestore,e,this._path)}}function ny(r,e,...t){if(r=An(r),XI("collection","path",e),r instanceof Bf){const n=ft.fromString(e,...t);return bE(n),new Ss(r,null,n)}{if(!(r instanceof Sr||r instanceof Ss))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ft.fromString(e,...t));return bE(n),new Ss(r.firestore,null,n)}}function ZI(r,e,...t){if(r=An(r),arguments.length===1&&(e=Wx.newId()),XI("doc","path",e),r instanceof Bf){const n=ft.fromString(e,...t);return DE(n),new Sr(r,null,new Ie(n))}{if(!(r instanceof Sr||r instanceof Ss))throw new Se(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ft.fromString(e,...t));return DE(n),new Sr(r.firestore,r instanceof Ss?r.converter:null,new Ie(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="AsyncQueue";class ME{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new MI(this,"async_queue_retry"),this.Su=()=>{const n=Zm();n&&pe(RE,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const t=Zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Es;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Sl(e))throw e;pe(RE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(n);throw Ri("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.pu=!1,n))));return this.bu=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=mv.createAndSchedule(this,e,t,n,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Wf extends Bf{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new ME,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ME(e),this._firestoreClient=void 0,await e}}}function yF(r,e){const t=typeof r=="object"?r:Rx(),n=typeof r=="string"?r:Wh,i=Gy(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const o=WN("firestore");o&&gF(i,...o)}return i}function e1(r){if(r._terminated)throw new Se(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vF(r),r._firestoreClient}function vF(r){var e,t,n;const i=r._freezeSettings(),o=function(u,d,p,m){return new VO(u,d,p,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,QI(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,i);r._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),r._firestoreClient=new cF(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(tn.fromBase64String(e))}catch(t){throw new Se(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ll(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=/^__.*__$/;class wF{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sc(e,this.data,t,this.fieldTransforms)}}function n1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class kv{constructor(e,t,n,i,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new kv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.$u(e),i}Uu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:n,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(n1(this.Lu)&&_F.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class TF{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ff(e)}ju(e,t,n,i=!1){return new kv({Lu:e,methodName:t,zu:n,path:en.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EF(r){const e=r._freezeSettings(),t=Ff(r._databaseId);return new TF(r._databaseId,!!e.ignoreUndefinedProperties,t)}function SF(r,e,t,n,i,o={}){const l=r.ju(o.merge||o.mergeFields?2:0,e,t,i);o1("Data must be an object, but it was:",l,n);const u=i1(n,l);let d,p;if(o.merge)d=new Tr(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const w=kF(e,y,t);if(!l.contains(w))throw new Se(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);IF(m,w)||m.push(w)}d=new Tr(m),p=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,p=l.fieldTransforms;return new wF(new tr(u),d,p)}function r1(r,e){if(s1(r=An(r)))return o1("Unsupported field value:",e,r),i1(r,e);if(r instanceof t1)return function(n,i){if(!n1(i.Lu))throw i.Wu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,i){const o=[];let l=0;for(const u of n){let d=r1(u,i.Ku(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(r,e)}return function(n,i){if((n=An(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return aL(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=jt.fromDate(n);return{timestampValue:Gh(i.serializer,o)}}if(n instanceof jt){const o=new jt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Gh(i.serializer,o)}}if(n instanceof Ev)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ll)return{bytesValue:EI(i.serializer,n._byteString)};if(n instanceof Sr){const o=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ov(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Sv)return function(l,u){return{mapValue:{fields:{[Xx]:{stringValue:Jx},[Hh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Wu("VectorValues must only contain numeric values.");return nv(u.serializer,p)})}}}}}}(n,i);throw i.Wu(`Unsupported field value: ${wv(n)}`)}(r,e)}function i1(r,e){const t={};return $x(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(r,(n,i)=>{const o=r1(i,e.qu(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function s1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof jt||r instanceof Ev||r instanceof ll||r instanceof Sr||r instanceof t1||r instanceof Sv)}function o1(r,e,t){if(!s1(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const n=wv(t);throw n==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+n)}}function kF(r,e,t){if((e=An(e))instanceof Tv)return e._internalPath;if(typeof e=="string")return a1(r,e);throw Zh("Field path arguments must be of type string or ",r,!1,void 0,t)}const xF=new RegExp("[~\\*/\\[\\]]");function a1(r,e,t){if(e.search(xF)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Tv(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Zh(r,e,t,n,i){const o=n&&!n.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new Se(ie.INVALID_ARGUMENT,u+r+d)}function IF(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t,n,i,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(u1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class CF extends l1{data(){return super.data()}}function u1(r,e){return typeof e=="string"?a1(r,e):e instanceof Tv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Se(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bF{convertValue(e,t="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(As(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Lo(e,(i,o)=>{n[i]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,i;const o=(i=(n=(t=e.fields)===null||t===void 0?void 0:t[Hh].arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(l=>Ct(l.doubleValue));return new Sv(o)}convertGeoPoint(e){return new Ev(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Af(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ic(e));default:return null}}convertTimestamp(e){const t=Ps(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ft.fromString(e);Ze(DI(n));const i=new sc(n.get(1),n.get(3)),o=new Ie(n.popFirst(5));return i.isEqual(t)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AF extends l1{constructor(e,t,n,i,o,l){super(e,t,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(u1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Eh extends AF{data(e={}){return super.data(e)}}class RF{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new sh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Eh(this._firestore,this._userDataWriter,n.key,n,new sh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Eh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new Eh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new sh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,m=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:MF(u.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function MF(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}class NF extends bF{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,t)}}function c1(r){r=uc(r,zf);const e=uc(r.firestore,Wf),t=e1(e),n=new NF(e);return DF(r._query),pF(t,r._query).then(i=>new RF(e,n,r,i))}function OF(r){return d1(uc(r.firestore,Wf),[new rv(r._key,Gr.none())])}function LF(r,e){const t=uc(r.firestore,Wf),n=ZI(r),i=PF(r.converter,e);return d1(t,[SF(EF(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Gr.exists(!1))]).then(()=>n)}function d1(r,e){return function(n,i){const o=new Es;return n.asyncQueue.enqueueAndForget(async()=>eF(await hF(n),i,o)),o.promise}(e1(r),e)}(function(e,t=!0){(function(i){Tl=i})(wl),tl(new Do("firestore",(n,{instanceIdentifier:i,options:o})=>{const l=n.getProvider("app").getImmediate(),u=new Wf(new wO(n.getProvider("auth-internal")),new SO(l,n.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Se(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(p.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ws(jT,UT,e),ws(jT,UT,"esm2017")})();function xv(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(t[n[i]]=r[n[i]]);return t}function h1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VF=h1,f1=new Tc("auth","Firebase",h1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Ky("@firebase/auth");function FF(r,...e){ef.logLevel<=je.WARN&&ef.warn(`Auth (${wl}): ${r}`,...e)}function Sh(r,...e){ef.logLevel<=je.ERROR&&ef.error(`Auth (${wl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,...e){throw Iv(r,...e)}function Xr(r,...e){return Iv(r,...e)}function p1(r,e,t){const n=Object.assign(Object.assign({},VF()),{[e]:t});return new Tc("auth","Firebase",n).create(e,{appName:r.name})}function ks(r){return p1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iv(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return f1.create(r,...e)}function be(r,e,...t){if(!r)throw Iv(e,...t)}function Ei(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Sh(e),new Error(e)}function Ni(r,e){r||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function jF(){return NE()==="http:"||NE()==="https:"}function NE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jF()||GN()||"connection"in navigator)?navigator.onLine:!0}function BF(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=YN()||QN()}get(){return UF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(r,e){Ni(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HF=new Cc(3e4,6e4);function Uo(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Fs(r,e,t,n,i={}){return g1(r,i,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const u=Ec(Object.assign({key:r.config.apiKey},l)).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const p=Object.assign({method:e,headers:d},o);return qN()||(p.referrerPolicy="no-referrer"),m1.fetch()(await y1(r,r.config.apiHost,t,u),p)})}async function g1(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},zF),e);try{const i=new YF(r),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw oh(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,p]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw oh(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw oh(r,"user-disabled",l);const m=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw p1(r,m,p);xr(r,m)}}catch(i){if(i instanceof Li)throw i;xr(r,"network-request-failed",{message:String(i)})}}async function Hf(r,e,t,n,i={}){const o=await Fs(r,e,t,n,i);return"mfaPendingCredential"in o&&xr(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function y1(r,e,t,n){const i=`${e}${t}?${n}`,o=r,l=o.config.emulator?Cv(r.config,i):`${r.config.apiScheme}://${i}`;return WF.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function $F(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Xr(this.auth,"network-request-failed")),HF.get())})}}function oh(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Xr(r,e,n);return i.customData._tokenResponse=t,i}function OE(r){return r!==void 0&&r.enterprise!==void 0}class KF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return $F(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qF(r,e){return Fs(r,"GET","/v2/recaptchaConfig",Uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GF(r,e){return Fs(r,"POST","/v1/accounts:delete",e)}async function tf(r,e){return Fs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QF(r,e=!1){const t=An(r),n=await t.getIdToken(e),i=Dv(n);be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:n,authTime:$u(tg(i.auth_time)),issuedAtTime:$u(tg(i.iat)),expirationTime:$u(tg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function tg(r){return Number(r)*1e3}function Dv(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const i=xx(t);return i?JSON.parse(i):(Sh("Failed to decode base64 JWT payload"),null)}catch(i){return Sh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LE(r){const e=Dv(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Li&&XF(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function XF({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$u(this.lastLoginAt),this.creationTime=$u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(r){var e;const t=r.auth,n=await r.getIdToken(),i=await cc(r,tf(t,{idToken:n}));be(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];r._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?v1(o.providerUserInfo):[],u=e4(r.providerData,l),d=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new iy(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,y)}async function ZF(r){const e=An(r);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e4(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function v1(r){return r.map(e=>{var{providerId:t}=e,n=xv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(r,e){const t=await g1(r,{},async()=>{const n=Ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=r.config,l=await y1(r,i,"/v1/token",`key=${o}`),u=await r._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",m1.fetch()(l,{method:"POST",headers:u,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function n4(r,e){return Fs(r,"POST","/v2/accounts:revokeToken",Uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");const t=LE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:o}=await t4(e,t);this.updateTokensAndExpiration(n,i,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:o}=t,l=new Ka;return n&&(be(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(be(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,o=xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new iy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await cc(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QF(this,e)}reload(){return ZF(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wr(this.auth.app))return Promise.reject(ks(this.auth));const e=await this.getIdToken();return await cc(this,GF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,o,l,u,d,p,m;const y=(n=t.displayName)!==null&&n!==void 0?n:void 0,w=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(l=t.photoURL)!==null&&l!==void 0?l:void 0,P=(u=t.tenantId)!==null&&u!==void 0?u:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,N=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:L,emailVerified:K,isAnonymous:Q,providerData:Z,stsTokenManager:b}=t;be(L&&b,e,"internal-error");const k=Ka.fromJSON(this.name,b);be(typeof L=="string",e,"internal-error"),us(y,e.name),us(w,e.name),be(typeof K=="boolean",e,"internal-error"),be(typeof Q=="boolean",e,"internal-error"),us(E,e.name),us(I,e.name),us(P,e.name),us(D,e.name),us(N,e.name),us(V,e.name);const C=new Er({uid:L,auth:e,email:w,emailVerified:K,displayName:y,isAnonymous:Q,photoURL:I,phoneNumber:E,tenantId:P,stsTokenManager:k,createdAt:N,lastLoginAt:V});return Z&&Array.isArray(Z)&&(C.providerData=Z.map(R=>Object.assign({},R))),D&&(C._redirectEventId=D),C}static async _fromIdTokenResponse(e,t,n=!1){const i=new Ka;i.updateFromServerResponse(t);const o=new Er({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await nf(o),o}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?v1(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Ka;u.updateFromIdToken(n);const d=new Er({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new iy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function Si(r){Ni(r instanceof Function,"Expected a class definition");let e=VE.get(r);return e?(Ni(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,VE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_1.type="NONE";const FE=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(r,e,t){return`firebase:${r}:${e}:${t}`}class qa{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:o}=this.auth;this.fullUserKey=kh(this.userKey,i.apiKey,o),this.fullPersistenceKey=kh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await tf(this.auth,{idToken:e}).catch(()=>{});return t?Er._fromGetAccountInfoResponse(this.auth,t,e):null}return Er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new qa(Si(FE),e,n);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Si(FE);const l=kh(n,e.config.apiKey,e.name);let u=null;for(const p of t)try{const m=await p._get(l);if(m){let y;if(typeof m=="string"){const w=await tf(e,{idToken:m}).catch(()=>{});if(!w)break;y=await Er._fromGetAccountInfoResponse(e,w,m)}else y=Er._fromJSON(e,m);p!==o&&(u=y),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new qa(o,e,n):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new qa(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(S1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(w1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x1(e))return"Blackberry";if(I1(e))return"Webos";if(T1(e))return"Safari";if((e.includes("chrome/")||E1(e))&&!e.includes("edge/"))return"Chrome";if(k1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function w1(r=hn()){return/firefox\//i.test(r)}function T1(r=hn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function E1(r=hn()){return/crios\//i.test(r)}function S1(r=hn()){return/iemobile/i.test(r)}function k1(r=hn()){return/android/i.test(r)}function x1(r=hn()){return/blackberry/i.test(r)}function I1(r=hn()){return/webos/i.test(r)}function bv(r=hn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function r4(r=hn()){var e;return bv(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i4(){return XN()&&document.documentMode===10}function C1(r=hn()){return bv(r)||k1(r)||I1(r)||x1(r)||/windows phone/i.test(r)||S1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r,e=[]){let t;switch(r){case"Browser":t=jE(hn());break;case"Worker":t=`${jE(hn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wl}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(r,e={}){return Fs(r,"GET","/v2/passwordPolicy",Uo(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=6;class l4{constructor(e){var t,n,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:a4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(n=d.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new s4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(async()=>{var n,i,o;if(!this._deleted&&(this.persistenceManager=await qa.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await tf(this,{idToken:e}),n=await Er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wr(this.app))return Promise.reject(ks(this));const t=e?An(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wr(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wr(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await o4(this),t=new l4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await n4(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Si(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=await qa.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&FF(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xl(r){return An(r)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=s2(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c4(r){$f=r}function b1(r){return $f.loadJS(r)}function d4(){return $f.recaptchaEnterpriseScript}function h4(){return $f.gapiScript}function f4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class p4{constructor(){this.enterprise=new m4}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class m4{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const g4="recaptcha-enterprise",P1="NO_RECAPTCHA";class y4{constructor(e){this.type=g4,this.auth=xl(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{qF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new KF(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(d=>{u(d)})})}function i(o,l,u){const d=window.grecaptcha;OE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(P1)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new p4().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(u=>{if(!t&&OE(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=d4();d.length!==0&&(d+=u),b1(d).then(()=>{i(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function BE(r,e,t,n=!1,i=!1){const o=new y4(r);let l;if(i)l=P1;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function zE(r,e,t,n,i){var o;if(!((o=r._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await BE(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await BE(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(r,e){const t=Gy(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(Co(o,e??{}))return i;xr(i,"already-initialized")}return t.initialize({options:e})}function _4(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Si);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function w4(r,e,t){const n=xl(r);be(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,o=A1(e),{host:l,port:u}=T4(e),d=u===null?"":`:${u}`,p={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){be(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),be(Co(p,n.config.emulator)&&Co(m,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=p,n.emulatorConfig=m,n.settings.appVerificationDisabledForTesting=!0,E4()}function A1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function T4(r){const e=A1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const o=i[1];return{host:o,port:WE(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:WE(l)}}}function WE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function E4(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function S4(r,e){return Fs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(r,e){return Hf(r,"POST","/v1/accounts:signInWithPassword",Uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(r,e){return Hf(r,"POST","/v1/accounts:signInWithEmailLink",Uo(r,e))}async function I4(r,e){return Hf(r,"POST","/v1/accounts:signInWithEmailLink",Uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends Pv{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new dc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new dc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,t,"signInWithPassword",k4);case"emailLink":return x4(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zE(e,n,"signUpPassword",S4);case"emailLink":return I4(e,{idToken:t,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ga(r,e){return Hf(r,"POST","/v1/accounts:signInWithIdp",Uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="http://localhost";class Ao extends Pv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,o=xv(t,["providerId","signInMethod"]);if(!n||!i)return null;const l=new Ao(n,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ga(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ga(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ga(e,t)}buildRequest(){const e={requestUri:C4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ec(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b4(r){const e=Pu(Au(r)).link,t=e?Pu(Au(e)).deep_link_id:null,n=Pu(Au(r)).deep_link_id;return(n?Pu(Au(n)).link:null)||n||t||e||r}class Av{constructor(e){var t,n,i,o,l,u;const d=Pu(Au(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(n=d.oobCode)!==null&&n!==void 0?n:null,y=D4((i=d.mode)!==null&&i!==void 0?i:null);be(p&&m&&y,"argument-error"),this.apiKey=p,this.operation=y,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=d.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=b4(e);try{return new Av(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,t){return dc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Av.parseLink(t);return be(n,"argument-error"),dc._fromEmailAndCode(e,n.code,n.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs extends Dc{constructor(){super("facebook.com")}static credential(e){return Ao._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ao._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return fs.credential(t,n)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends Dc{constructor(){super("github.com")}static credential(e){return Ao._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Dc{constructor(){super("twitter.com")}static credential(e,t){return Ao._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return ms.credential(t,n)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const o=await Er._fromIdTokenResponse(e,n,i),l=HE(n);return new ul({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=HE(n);return new ul({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function HE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Li{constructor(e,t,n,i){var o;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new rf(e,t,n,i)}}function M1(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(r,o,e,n):o})}async function P4(r,e,t=!1){const n=await cc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return ul._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(r,e,t=!1){const{auth:n}=r;if(wr(n.app))return Promise.reject(ks(n));const i="reauthenticate";try{const o=await cc(r,M1(n,i,e,r),t);be(o.idToken,n,"internal-error");const l=Dv(o.idToken);be(l,n,"internal-error");const{sub:u}=l;return be(r.uid===u,n,"user-mismatch"),ul._forOperation(r,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xr(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1(r,e,t=!1){if(wr(r.app))return Promise.reject(ks(r));const n="signIn",i=await M1(r,n,e),o=await ul._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(o.user),o}async function R4(r,e){return N1(xl(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(r){const e=xl(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function N4(r,e,t){return wr(r.app)?Promise.reject(ks(r)):R4(An(r),Il.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&M4(r),n})}function O4(r,e,t,n){return An(r).onIdTokenChanged(e,t,n)}function L4(r,e,t){return An(r).beforeAuthStateChanged(e,t)}function V4(r,e,t,n){return An(r).onAuthStateChanged(e,t,n)}function F4(r){return An(r).signOut()}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=1e3,U4=10;class L1 extends O1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);i4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U4):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},j4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}L1.type="LOCAL";const B4=L1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1 extends O1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}V1.type="SESSION";const F1=V1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Yf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,o)),d=await z4(u);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const p=Rv("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function H4(r){Jr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function $4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y4(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function K4(){return j1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebaseLocalStorageDb",q4=1,of="firebaseLocalStorage",B1="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kf(r,e){return r.transaction([of],e?"readwrite":"readonly").objectStore(of)}function G4(){const r=indexedDB.deleteDatabase(U1);return new bc(r).toPromise()}function sy(){const r=indexedDB.open(U1,q4);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(of,{keyPath:B1})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(of)?e(n):(n.close(),await G4(),e(await sy()))})})}async function $E(r,e,t){const n=Kf(r,!0).put({[B1]:e,value:t});return new bc(n).toPromise()}async function Q4(r,e){const t=Kf(r,!1).get(e),n=await new bc(t).toPromise();return n===void 0?null:n.value}function YE(r,e){const t=Kf(r,!0).delete(e);return new bc(t).toPromise()}const X4=800,J4=3;class z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>J4)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return j1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(K4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $4(),!this.activeServiceWorker)return;this.sender=new W4(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sy();return await $E(e,sf,"1"),await YE(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>$E(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>Q4(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>YE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Kf(i,!1).getAll();return new bc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z1.type="LOCAL";const Z4=z1;new Cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(r,e){return e?Si(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends Pv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ga(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ga(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function t3(r){return N1(r.auth,new Mv(r),r.bypassAuthState)}function n3(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),A4(t,new Mv(r),r.bypassAuthState)}async function r3(r){const{auth:e,user:t}=r;return be(t,e,"internal-error"),P4(t,new Mv(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,t,n,i,o=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t3;case"linkViaPopup":case"linkViaRedirect":return r3;case"reauthViaPopup":case"reauthViaRedirect":return n3;default:xr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new Cc(2e3,1e4);class $a extends W1{constructor(e,t,n,i,o){super(e,t,i,o),this.provider=n,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=Rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i3.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="pendingRedirect",xh=new Map;class o3 extends W1{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const n=await a3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a3(r,e){const t=c3(e),n=u3(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function l3(r,e){xh.set(r._key(),e)}function u3(r){return Si(r._redirectPersistence)}function c3(r){return kh(s3,r.config.apiKey,r.name)}async function d3(r,e,t=!1){if(wr(r.app))return Promise.reject(ks(r));const n=xl(r),i=e3(n,e),l=await new o3(n,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=10*60*1e3;class f3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!H1(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Xr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h3&&this.cachedEventUids.clear(),this.cachedEventUids.has(KE(e))}saveEventToCache(e){this.cachedEventUids.add(KE(e)),this.lastProcessedEventTime=Date.now()}}function KE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function H1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p3(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m3(r,e={}){return Fs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y3=/^https?/;async function v3(r){if(r.config.emulator)return;const{authorizedDomains:e}=await m3(r);for(const t of e)try{if(_3(t))return}catch{}xr(r,"unauthorized-domain")}function _3(r){const e=ry(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!y3.test(t))return!1;if(g3.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=new Cc(3e4,6e4);function qE(){const r=Jr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function T3(r){return new Promise((e,t)=>{var n,i,o;function l(){qE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qE(),t(Xr(r,"network-request-failed"))},timeout:w3.get()})}if(!((i=(n=Jr().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jr().gapi)===null||o===void 0)&&o.load)l();else{const u=f4("iframefcb");return Jr()[u]=()=>{gapi.load?l():t(Xr(r,"network-request-failed"))},b1(`${h4()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function E3(r){return Ih=Ih||T3(r),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=new Cc(5e3,15e3),k3="__/auth/iframe",x3="emulator/auth/iframe",I3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function D3(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Cv(e,x3):`https://${r.config.authDomain}/${k3}`,n={apiKey:e.apiKey,appName:r.name,v:wl},i=C3.get(r.config.apiHost);i&&(n.eid=i);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Ec(n).slice(1)}`}async function b3(r){const e=await E3(r),t=Jr().gapi;return be(t,r,"internal-error"),e.open({where:document.body,url:D3(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I3,dontclear:!0},n=>new Promise(async(i,o)=>{await n.restyle({setHideOnLeave:!1});const l=Xr(r,"network-request-failed"),u=Jr().setTimeout(()=>{o(l)},S3.get());function d(){Jr().clearTimeout(u),i(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A3=500,R3=600,M3="_blank",N3="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O3(r,e,t,n=A3,i=R3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const d=Object.assign(Object.assign({},P3),{width:n.toString(),height:i.toString(),top:o,left:l}),p=hn().toLowerCase();t&&(u=E1(p)?M3:t),w1(p)&&(e=e||N3,d.scrollbars="yes");const m=Object.entries(d).reduce((w,[E,I])=>`${w}${E}=${I},`,"");if(r4(p)&&u!=="_self")return L3(e||"",u),new GE(null);const y=window.open(e||"",u,m);be(y,r,"popup-blocked");try{y.focus()}catch{}return new GE(y)}function L3(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="__/auth/handler",F3="emulator/auth/handler",j3=encodeURIComponent("fac");async function QE(r,e,t,n,i,o){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:wl,eventId:i};if(e instanceof R1){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",i2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof Dc){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}r.tenantId&&(l.tid=r.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await r._getAppCheckToken(),p=d?`#${j3}=${encodeURIComponent(d)}`:"";return`${U3(r)}?${Ec(u).slice(1)}${p}`}function U3({config:r}){return r.emulator?Cv(r,F3):`https://${r.authDomain}/${V3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="webStorageSupport";class B3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F1,this._completeRedirectFn=d3,this._overrideRedirectResult=l3}async _openPopup(e,t,n,i){var o;Ni((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await QE(e,t,n,ry(),i);return O3(e,l,Rv())}async _openRedirect(e,t,n,i){await this._originValidation(e);const o=await QE(e,t,n,ry(),i);return H4(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ni(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await b3(e),n=new f3(e);return t.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ng,{type:ng},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[ng];l!==void 0&&t(!!l),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=v3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return C1()||T1()||bv()}}const z3=B3;var XE="@firebase/auth",JE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $3(r){tl(new Do("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=n.options;be(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D1(r)},p=new u4(n,i,o,d);return _4(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),tl(new Do("auth-internal",e=>{const t=xl(e.getProvider("auth").getImmediate());return(n=>new W3(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(XE,JE,H3(r)),ws(XE,JE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=5*60,K3=Dx("authIdTokenMaxAge")||Y3;let ZE=null;const q3=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>K3)return;const i=t==null?void 0:t.token;ZE!==i&&(ZE=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function G3(r=Rx()){const e=Gy(r,"auth");if(e.isInitialized())return e.getImmediate();const t=v4(r,{popupRedirectResolver:z3,persistence:[Z4,B4,F1]}),n=Dx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=q3(o.toString());L4(t,l,()=>l(t.currentUser)),O4(t,u=>l(u))}}const i=Ix("auth");return i&&w4(t,`http://${i}`),t}function Q3(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}c4({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const o=Xr("internal-error");o.customData=i,t(o)},n.type="text/javascript",n.charset="UTF-8",Q3().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$3("Browser");const X3={apiKey:"AIzaSyDZuQtchNWLcsAokbzMezRSU4Jt86yfEN4",authDomain:"mirema-blossom-bloom.firebaseapp.com",projectId:"mirema-blossom-bloom",storageBucket:"mirema-blossom-bloom.firebasestorage.app",messagingSenderId:"638548869953",appId:"1:638548869953:web:6defea3741e2f08d8a97c0"},$1=Ax(X3),af=yF($1),Nv=G3($1),Y1=6048e5,J3=864e5,qf=6e4,Gf=36e5,Z3=1e3,eS=Symbol.for("constructDateFrom");function nt(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&eS in r?r[eS](e):r instanceof Date?new r.constructor(e):new Date(e)}function we(r,e){return nt(e||r,r)}function kr(r,e,t){const n=we(r,t==null?void 0:t.in);return isNaN(e)?nt((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ir(r,e,t){const n=we(r,t==null?void 0:t.in);if(isNaN(e))return nt(r,NaN);if(!e)return n;const i=n.getDate(),o=nt(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const l=o.getDate();return i>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function K1(r,e,t){return nt(r,+we(r)+e)}function ej(r,e,t){return K1(r,e*Gf)}let tj={};function Bo(){return tj}function Oi(r,e){var u,d,p,m;const t=Bo(),n=(e==null?void 0:e.weekStartsOn)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,i=we(r,e==null?void 0:e.in),o=i.getDay(),l=(o<n?7:0)+o-n;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function cl(r,e){return Oi(r,{...e,weekStartsOn:1})}function q1(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),i=nt(t,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=cl(i),l=nt(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=cl(l);return t.getTime()>=o.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function lf(r){const e=we(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Vi(r,...e){const t=nt.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Ro(r,e){const t=we(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function dl(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e),o=Ro(n),l=Ro(i),u=+o-lf(o),d=+l-lf(l);return Math.round((u-d)/J3)}function nj(r,e){const t=q1(r,e),n=nt(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),cl(n)}function oy(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*qf),n}function Ov(r,e,t){return Ir(r,e*3,t)}function rj(r,e,t){return K1(r,e*1e3)}function uf(r,e,t){return kr(r,e*7,t)}function ki(r,e,t){return Ir(r,e*12,t)}function tS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=nt.bind(null,i));const o=we(i,n);(!t||t<o||isNaN(+o))&&(t=o)}),nt(n,t||NaN)}function nS(r,e){let t,n=e==null?void 0:e.in;return r.forEach(i=>{!n&&typeof i=="object"&&(n=nt.bind(null,i));const o=we(i,n);(!t||t>o||isNaN(+o))&&(t=o)}),nt(n,t||NaN)}function ij(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e);return+Ro(n)==+Ro(i)}function xi(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function cf(r){return!(!xi(r)&&typeof r!="number"||isNaN(+we(r)))}function df(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e),o=n.getFullYear()-i.getFullYear(),l=n.getMonth()-i.getMonth();return o*12+l}function So(r,e){const t=we(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function hf(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e),o=n.getFullYear()-i.getFullYear(),l=So(n)-So(i);return o*4+l}function ff(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e);return n.getFullYear()-i.getFullYear()}function sj(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e),o=rS(n,i),l=Math.abs(dl(n,i));n.setDate(n.getDate()-o*l);const u=+(rS(n,i)===-o),d=o*(l-u);return d===0?0:d}function rS(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function G1(r,e){const t=we(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function Q1(r,e){const t=we(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ay(r,e){const t=we(r,e==null?void 0:e.in),n=t.getMonth(),i=n-n%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function X1(r,e){const t=we(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function J1(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function Qf(r,e){const t=we(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function oj(r,e){var u,d;const t=Bo(),n=t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=we(r,e==null?void 0:e.in),o=i.getDay(),l=(o<n?-7:0)+6-(o-n);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}const aj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lj=(r,e,t)=>{let n;const i=aj[r];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function rg(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const uj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hj={date:rg({formats:uj,defaultWidth:"full"}),time:rg({formats:cj,defaultWidth:"full"}),dateTime:rg({formats:dj,defaultWidth:"full"})},fj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},pj=(r,e,t,n)=>fj[r];function ku(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let i;if(n==="formatting"&&r.formattingValues){const l=r.defaultFormattingWidth||r.defaultWidth,u=t!=null&&t.width?String(t.width):l;i=r.formattingValues[u]||r.formattingValues[l]}else{const l=r.defaultWidth,u=t!=null&&t.width?String(t.width):r.defaultWidth;i=r.values[u]||r.values[l]}const o=r.argumentCallback?r.argumentCallback(e):e;return i[o]}}const mj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_j={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tj=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Ej={ordinalNumber:Tj,era:ku({values:mj,defaultWidth:"wide"}),quarter:ku({values:gj,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ku({values:yj,defaultWidth:"wide"}),day:ku({values:vj,defaultWidth:"wide"}),dayPeriod:ku({values:_j,defaultWidth:"wide",formattingValues:wj,defaultFormattingWidth:"wide"})};function xu(r){return(e,t={})=>{const n=t.width,i=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],u=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],d=Array.isArray(u)?kj(u,y=>y.test(l)):Sj(u,y=>y.test(l));let p;p=r.valueCallback?r.valueCallback(d):d,p=t.valueCallback?t.valueCallback(p):p;const m=e.slice(l.length);return{value:p,rest:m}}}function Sj(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function kj(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function xj(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const i=n[0],o=e.match(r.parsePattern);if(!o)return null;let l=r.valueCallback?r.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(i.length);return{value:l,rest:u}}}const Ij=/^(\d+)(th|st|nd|rd)?/i,Cj=/\d+/i,Dj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bj={any:[/^b/i,/^(a|c)/i]},Pj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Aj={any:[/1/i,/2/i,/3/i,/4/i]},Rj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Fj={ordinalNumber:xj({matchPattern:Ij,parsePattern:Cj,valueCallback:r=>parseInt(r,10)}),era:xu({matchPatterns:Dj,defaultMatchWidth:"wide",parsePatterns:bj,defaultParseWidth:"any"}),quarter:xu({matchPatterns:Pj,defaultMatchWidth:"wide",parsePatterns:Aj,defaultParseWidth:"any",valueCallback:r=>r+1}),month:xu({matchPatterns:Rj,defaultMatchWidth:"wide",parsePatterns:Mj,defaultParseWidth:"any"}),day:xu({matchPatterns:Nj,defaultMatchWidth:"wide",parsePatterns:Oj,defaultParseWidth:"any"}),dayPeriod:xu({matchPatterns:Lj,defaultMatchWidth:"any",parsePatterns:Vj,defaultParseWidth:"any"})},Z1={code:"en-US",formatDistance:lj,formatLong:hj,formatRelative:pj,localize:Ej,match:Fj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jj(r,e){const t=we(r,e==null?void 0:e.in);return dl(t,Qf(t))+1}function Lv(r,e){const t=we(r,e==null?void 0:e.in),n=+cl(t)-+nj(t);return Math.round(n/Y1)+1}function Vv(r,e){var m,y,w,E;const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),i=Bo(),o=(e==null?void 0:e.firstWeekContainsDate)??((y=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??i.firstWeekContainsDate??((E=(w=i.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??1,l=nt((e==null?void 0:e.in)||r,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const u=Oi(l,e),d=nt((e==null?void 0:e.in)||r,0);d.setFullYear(n,0,o),d.setHours(0,0,0,0);const p=Oi(d,e);return+t>=+u?n+1:+t>=+p?n:n-1}function Uj(r,e){var u,d,p,m;const t=Bo(),n=(e==null?void 0:e.firstWeekContainsDate)??((d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((m=(p=t.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,i=Vv(r,e),o=nt((e==null?void 0:e.in)||r,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),Oi(o,e)}function eC(r,e){const t=we(r,e==null?void 0:e.in),n=+Oi(t,e)-+Uj(t,e);return Math.round(n/Y1)+1}function tt(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const cs={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return tt(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):tt(t+1,2)},d(r,e){return tt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return tt(r.getHours()%12||12,e.length)},H(r,e){return tt(r.getHours(),e.length)},m(r,e){return tt(r.getMinutes(),e.length)},s(r,e){return tt(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),i=Math.trunc(n*Math.pow(10,t-3));return tt(i,e.length)}},Na={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iS={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),i=n>0?n:1-n;return t.ordinalNumber(i,{unit:"year"})}return cs.y(r,e)},Y:function(r,e,t,n){const i=Vv(r,n),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return tt(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):tt(o,e.length)},R:function(r,e){const t=q1(r);return tt(t,e.length)},u:function(r,e){const t=r.getFullYear();return tt(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return tt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return tt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return cs.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return tt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const i=eC(r,n);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):tt(i,e.length)},I:function(r,e,t){const n=Lv(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):tt(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):cs.d(r,e)},D:function(r,e,t){const n=jj(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):tt(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return tt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const i=r.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return tt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return tt(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const i=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let i;switch(n===12?i=Na.noon:n===0?i=Na.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let i;switch(n>=17?i=Na.evening:n>=12?i=Na.afternoon:n>=4?i=Na.morning:i=Na.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return cs.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):cs.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):tt(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):tt(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):cs.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):cs.s(r,e)},S:function(r,e){return cs.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return oS(n);case"XXXX":case"XX":return yo(n);case"XXXXX":case"XXX":default:return yo(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return oS(n);case"xxxx":case"xx":return yo(n);case"xxxxx":case"xxx":default:return yo(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sS(n,":");case"OOOO":default:return"GMT"+yo(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sS(n,":");case"zzzz":default:return"GMT"+yo(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return tt(n,e.length)},T:function(r,e,t){return tt(+r,e.length)}};function sS(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=Math.trunc(n/60),o=n%60;return o===0?t+String(i):t+String(i)+e+tt(o,2)}function oS(r,e){return r%60===0?(r>0?"-":"+")+tt(Math.abs(r)/60,2):yo(r,e)}function yo(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),i=tt(Math.trunc(n/60),2),o=tt(n%60,2);return t+i+e+o}const aS=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tC=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Bj=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],i=t[2];if(!i)return aS(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",aS(n,e)).replace("{{time}}",tC(i,e))},ly={p:tC,P:Bj},zj=/^D+$/,Wj=/^Y+$/,Hj=["D","DD","YY","YYYY"];function $j(r){return zj.test(r)}function Yj(r){return Wj.test(r)}function Kj(r,e,t){const n=qj(r,e,t);if(console.warn(n),Hj.includes(r))throw new RangeError(n)}function qj(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Xj=/^'([^]*?)'?$/,Jj=/''/g,Zj=/[a-zA-Z]/;function lS(r,e,t){var m,y,w,E,I,P,D,N;const n=Bo(),i=(t==null?void 0:t.locale)??n.locale??Z1,o=(t==null?void 0:t.firstWeekContainsDate)??((y=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(w=n.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((P=(I=t==null?void 0:t.locale)==null?void 0:I.options)==null?void 0:P.weekStartsOn)??n.weekStartsOn??((N=(D=n.locale)==null?void 0:D.options)==null?void 0:N.weekStartsOn)??0,u=we(r,t==null?void 0:t.in);if(!cf(u))throw new RangeError("Invalid time value");let d=e.match(Qj).map(V=>{const L=V[0];if(L==="p"||L==="P"){const K=ly[L];return K(V,i.formatLong)}return V}).join("").match(Gj).map(V=>{if(V==="''")return{isToken:!1,value:"'"};const L=V[0];if(L==="'")return{isToken:!1,value:eU(V)};if(iS[L])return{isToken:!0,value:V};if(L.match(Zj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+L+"`");return{isToken:!1,value:V}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const p={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(V=>{if(!V.isToken)return V.value;const L=V.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&Yj(L)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&$j(L))&&Kj(L,e,String(r));const K=iS[L[0]];return K(u,L,i.localize,p)}).join("")}function eU(r){const e=r.match(Xj);return e?e[1].replace(Jj,"'"):r}function uS(r,e){return we(r,e==null?void 0:e.in).getDate()}function tU(r,e){return we(r,e==null?void 0:e.in).getDay()}function nU(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),i=t.getMonth(),o=nt(t,0);return o.setFullYear(n,i+1,0),o.setHours(0,0,0,0),o.getDate()}function rU(){return Object.assign({},Bo())}function Ii(r,e){return we(r,e==null?void 0:e.in).getHours()}function iU(r,e){const t=we(r,e==null?void 0:e.in).getDay();return t===0?7:t}function Ci(r,e){return we(r,e==null?void 0:e.in).getMinutes()}function wn(r,e){return we(r,e==null?void 0:e.in).getMonth()}function xs(r){return we(r).getSeconds()}function uy(r){return+we(r)}function Le(r,e){return we(r,e==null?void 0:e.in).getFullYear()}function Os(r,e){return+we(r)>+we(e)}function Mo(r,e){return+we(r)<+we(e)}function sU(r,e){return+we(r)==+we(e)}function oU(r,e){const t=aU(e)?new e(0):nt(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function aU(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const lU=10;class nC{constructor(){fe(this,"subPriority",0)}validate(e,t){return!0}}class uU extends nC{constructor(e,t,n,i,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=i,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class cU extends nC{constructor(t,n){super();fe(this,"priority",lU);fe(this,"subPriority",-1);this.context=t||(i=>nt(n,i))}set(t,n){return n.timestampIsSet?t:nt(t,oU(t,this.context))}}class Xe{run(e,t,n,i){const o=this.parse(e,t,n,i);return o?{setter:new uU(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class dU extends Xe{constructor(){super(...arguments);fe(this,"priority",140);fe(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,i){switch(n){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,n,i){return n.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Dt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Br={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function bt(r,e){return r&&{value:e(r.value),rest:r.rest}}function _t(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function zr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(i*Gf+o*qf+l*Z3),rest:e.slice(t[0].length)}}function rC(r){return _t(Dt.anyDigitsSigned,r)}function St(r,e){switch(r){case 1:return _t(Dt.singleDigit,e);case 2:return _t(Dt.twoDigits,e);case 3:return _t(Dt.threeDigits,e);case 4:return _t(Dt.fourDigits,e);default:return _t(new RegExp("^\\d{1,"+r+"}"),e)}}function pf(r,e){switch(r){case 1:return _t(Dt.singleDigitSigned,e);case 2:return _t(Dt.twoDigitsSigned,e);case 3:return _t(Dt.threeDigitsSigned,e);case 4:return _t(Dt.fourDigitsSigned,e);default:return _t(new RegExp("^-?\\d{1,"+r+"}"),e)}}function Fv(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function iC(r,e){const t=e>0,n=t?e:1-e;let i;if(n<=50)i=r||100;else{const o=n+50,l=Math.trunc(o/100)*100,u=r>=o%100;i=r+l-(u?100:0)}return t?i:1-i}function sC(r){return r%400===0||r%4===0&&r%100!==0}class hU extends Xe{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return bt(St(4,t),o);case"yo":return bt(i.ordinalNumber(t,{unit:"year"}),o);default:return bt(St(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i){const o=t.getFullYear();if(i.isTwoDigitYear){const u=iC(i.year,o);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class fU extends Xe{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,i){const o=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return bt(St(4,t),o);case"Yo":return bt(i.ordinalNumber(t,{unit:"year"}),o);default:return bt(St(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,i,o){const l=Vv(t,o);if(i.isTwoDigitYear){const d=iC(i.year,l);return t.setFullYear(d,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Oi(t,o)}const u=!("era"in n)||n.era===1?i.year:1-i.year;return t.setFullYear(u,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Oi(t,o)}}class pU extends Xe{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return pf(n==="R"?4:n.length,t)}set(t,n,i){const o=nt(t,0);return o.setFullYear(i,0,4),o.setHours(0,0,0,0),cl(o)}}class mU extends Xe{constructor(){super(...arguments);fe(this,"priority",130);fe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return pf(n==="u"?4:n.length,t)}set(t,n,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class gU extends Xe{constructor(){super(...arguments);fe(this,"priority",120);fe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"Q":case"QQ":return St(n.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class yU extends Xe{constructor(){super(...arguments);fe(this,"priority",120);fe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"q":case"qq":return St(n.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class vU extends Xe{constructor(){super(...arguments);fe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);fe(this,"priority",110)}parse(t,n,i){const o=l=>l-1;switch(n){case"M":return bt(_t(Dt.month,t),o);case"MM":return bt(St(2,t),o);case"Mo":return bt(i.ordinalNumber(t,{unit:"month"}),o);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class _U extends Xe{constructor(){super(...arguments);fe(this,"priority",110);fe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,i){const o=l=>l-1;switch(n){case"L":return bt(_t(Dt.month,t),o);case"LL":return bt(St(2,t),o);case"Lo":return bt(i.ordinalNumber(t,{unit:"month"}),o);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function wU(r,e,t){const n=we(r,t==null?void 0:t.in),i=eC(n,t)-e;return n.setDate(n.getDate()-i*7),we(n,t==null?void 0:t.in)}class TU extends Xe{constructor(){super(...arguments);fe(this,"priority",100);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,i){switch(n){case"w":return _t(Dt.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return St(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i,o){return Oi(wU(t,i,o),o)}}function EU(r,e,t){const n=we(r,t==null?void 0:t.in),i=Lv(n,t)-e;return n.setDate(n.getDate()-i*7),n}class SU extends Xe{constructor(){super(...arguments);fe(this,"priority",100);fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,i){switch(n){case"I":return _t(Dt.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return St(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,i){return cl(EU(t,i))}}const kU=[31,28,31,30,31,30,31,31,30,31,30,31],xU=[31,29,31,30,31,30,31,31,30,31,30,31];class IU extends Xe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"subPriority",1);fe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"d":return _t(Dt.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return St(n.length,t)}}validate(t,n){const i=t.getFullYear(),o=sC(i),l=t.getMonth();return o?n>=1&&n<=xU[l]:n>=1&&n<=kU[l]}set(t,n,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class CU extends Xe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"subpriority",1);fe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,i){switch(n){case"D":case"DD":return _t(Dt.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return St(n.length,t)}}validate(t,n){const i=t.getFullYear();return sC(i)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function jv(r,e,t){var y,w,E,I;const n=Bo(),i=(t==null?void 0:t.weekStartsOn)??((w=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((I=(E=n.locale)==null?void 0:E.options)==null?void 0:I.weekStartsOn)??0,o=we(r,t==null?void 0:t.in),l=o.getDay(),d=(e%7+7)%7,p=7-i,m=e<0||e>6?e-(l+p)%7:(d+p)%7-(l+p)%7;return kr(o,m,t)}class DU extends Xe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,i){switch(n){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=jv(t,i,o),t.setHours(0,0,0,0),t}}class bU extends Xe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,i,o){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return bt(St(n.length,t),l);case"eo":return bt(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=jv(t,i,o),t.setHours(0,0,0,0),t}}class PU extends Xe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,i,o){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return bt(St(n.length,t),l);case"co":return bt(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,i,o){return t=jv(t,i,o),t.setHours(0,0,0,0),t}}function AU(r,e,t){const n=we(r,t==null?void 0:t.in),i=iU(n,t),o=e-i;return kr(n,o,t)}class RU extends Xe{constructor(){super(...arguments);fe(this,"priority",90);fe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,i){const o=l=>l===0?7:l;switch(n){case"i":case"ii":return St(n.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return bt(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return bt(i.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return bt(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return bt(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,i){return t=AU(t,i),t.setHours(0,0,0,0),t}}class MU extends Xe{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,i){switch(n){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Fv(i),0,0,0),t}}class NU extends Xe{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,i){switch(n){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Fv(i),0,0,0),t}}class OU extends Xe{constructor(){super(...arguments);fe(this,"priority",80);fe(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,i){switch(n){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,i){return t.setHours(Fv(i),0,0,0),t}}class LU extends Xe{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,i){switch(n){case"h":return _t(Dt.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return St(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,i){const o=t.getHours()>=12;return o&&i<12?t.setHours(i+12,0,0,0):!o&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class VU extends Xe{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,i){switch(n){case"H":return _t(Dt.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return St(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,i){return t.setHours(i,0,0,0),t}}class FU extends Xe{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,i){switch(n){case"K":return _t(Dt.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return St(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class jU extends Xe{constructor(){super(...arguments);fe(this,"priority",70);fe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,i){switch(n){case"k":return _t(Dt.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return St(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,i){const o=i<=24?i%24:i;return t.setHours(o,0,0,0),t}}class UU extends Xe{constructor(){super(...arguments);fe(this,"priority",60);fe(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"m":return _t(Dt.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return St(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setMinutes(i,0,0),t}}class BU extends Xe{constructor(){super(...arguments);fe(this,"priority",50);fe(this,"incompatibleTokens",["t","T"])}parse(t,n,i){switch(n){case"s":return _t(Dt.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return St(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,i){return t.setSeconds(i,0),t}}class zU extends Xe{constructor(){super(...arguments);fe(this,"priority",30);fe(this,"incompatibleTokens",["t","T"])}parse(t,n){const i=o=>Math.trunc(o*Math.pow(10,-n.length+3));return bt(St(n.length,t),i)}set(t,n,i){return t.setMilliseconds(i),t}}class WU extends Xe{constructor(){super(...arguments);fe(this,"priority",10);fe(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return zr(Br.basicOptionalMinutes,t);case"XX":return zr(Br.basic,t);case"XXXX":return zr(Br.basicOptionalSeconds,t);case"XXXXX":return zr(Br.extendedOptionalSeconds,t);case"XXX":default:return zr(Br.extended,t)}}set(t,n,i){return n.timestampIsSet?t:nt(t,t.getTime()-lf(t)-i)}}class HU extends Xe{constructor(){super(...arguments);fe(this,"priority",10);fe(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return zr(Br.basicOptionalMinutes,t);case"xx":return zr(Br.basic,t);case"xxxx":return zr(Br.basicOptionalSeconds,t);case"xxxxx":return zr(Br.extendedOptionalSeconds,t);case"xxx":default:return zr(Br.extended,t)}}set(t,n,i){return n.timestampIsSet?t:nt(t,t.getTime()-lf(t)-i)}}class $U extends Xe{constructor(){super(...arguments);fe(this,"priority",40);fe(this,"incompatibleTokens","*")}parse(t){return rC(t)}set(t,n,i){return[nt(t,i*1e3),{timestampIsSet:!0}]}}class YU extends Xe{constructor(){super(...arguments);fe(this,"priority",20);fe(this,"incompatibleTokens","*")}parse(t){return rC(t)}set(t,n,i){return[nt(t,i),{timestampIsSet:!0}]}}const KU={G:new dU,y:new hU,Y:new fU,R:new pU,u:new mU,Q:new gU,q:new yU,M:new vU,L:new _U,w:new TU,I:new SU,d:new IU,D:new CU,E:new DU,e:new bU,c:new PU,i:new RU,a:new MU,b:new NU,B:new OU,h:new LU,H:new VU,K:new FU,k:new jU,m:new UU,s:new BU,S:new zU,X:new WU,x:new HU,t:new $U,T:new YU},qU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,QU=/^'([^]*?)'?$/,XU=/''/g,JU=/\S/,ZU=/[a-zA-Z]/;function eB(r,e,t,n){var D,N,V,L,K,Q,Z,b;const i=()=>nt((n==null?void 0:n.in)||t,NaN),o=rU(),l=(n==null?void 0:n.locale)??o.locale??Z1,u=(n==null?void 0:n.firstWeekContainsDate)??((N=(D=n==null?void 0:n.locale)==null?void 0:D.options)==null?void 0:N.firstWeekContainsDate)??o.firstWeekContainsDate??((L=(V=o.locale)==null?void 0:V.options)==null?void 0:L.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((Q=(K=n==null?void 0:n.locale)==null?void 0:K.options)==null?void 0:Q.weekStartsOn)??o.weekStartsOn??((b=(Z=o.locale)==null?void 0:Z.options)==null?void 0:b.weekStartsOn)??0;if(!e)return r?i():we(t,n==null?void 0:n.in);const p={firstWeekContainsDate:u,weekStartsOn:d,locale:l},m=[new cU(n==null?void 0:n.in,t)],y=e.match(GU).map(k=>{const C=k[0];if(C in ly){const R=ly[C];return R(k,l.formatLong)}return k}).join("").match(qU),w=[];for(let k of y){const C=k[0],R=KU[C];if(R){const{incompatibleTokens:O}=R;if(Array.isArray(O)){const A=w.find(Te=>O.includes(Te.token)||Te.token===C);if(A)throw new RangeError(`The format string mustn't contain \`${A.fullToken}\` and \`${k}\` at the same time`)}else if(R.incompatibleTokens==="*"&&w.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);w.push({token:C,fullToken:k});const F=R.run(r,k,l.match,p);if(!F)return i();m.push(F.setter),r=F.rest}else{if(C.match(ZU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(k==="''"?k="'":C==="'"&&(k=tB(k)),r.indexOf(k)===0)r=r.slice(k.length);else return i()}}if(r.length>0&&JU.test(r))return i();const E=m.map(k=>k.priority).sort((k,C)=>C-k).filter((k,C,R)=>R.indexOf(k)===C).map(k=>m.filter(C=>C.priority===k).sort((C,R)=>R.subPriority-C.subPriority)).map(k=>k[0]);let I=we(t,n==null?void 0:n.in);if(isNaN(+I))return i();const P={};for(const k of E){if(!k.validate(I,p))return i();const C=k.set(I,P,p);Array.isArray(C)?(I=C[0],Object.assign(P,C[1])):I=C}return I}function tB(r){return r.match(QU)[1].replace(XU,"'")}function nB(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}function rB(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e);return+ay(n)==+ay(i)}function iB(r,e,t){const[n,i]=Vi(t==null?void 0:t.in,r,e);return n.getFullYear()===i.getFullYear()}function hc(r,e,t){const n=+we(r,t==null?void 0:t.in),[i,o]=[+we(e.start,t==null?void 0:t.in),+we(e.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return n>=i&&n<=o}function sB(r,e,t){return kr(r,-1,t)}function oB(r,e){const t=()=>nt(e==null?void 0:e.in,NaN),i=cB(r);let o;if(i.date){const p=dB(i.date,2);o=hB(p.restDateString,p.year)}if(!o||isNaN(+o))return t();const l=+o;let u=0,d;if(i.time&&(u=fB(i.time),isNaN(u)))return t();if(i.timezone){if(d=pB(i.timezone),isNaN(d))return t()}else{const p=new Date(l+u),m=we(0,e==null?void 0:e.in);return m.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),m.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),m}return we(l+u+d,e==null?void 0:e.in)}const ah={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},aB=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uB=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cB(r){const e={},t=r.split(ah.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],ah.timeZoneDelimiter.test(e.date)&&(e.date=r.split(ah.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const i=ah.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function dB(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function hB(r,e){if(e===null)return new Date(NaN);const t=r.match(aB);if(!t)return new Date(NaN);const n=!!t[4],i=Iu(t[1]),o=Iu(t[2])-1,l=Iu(t[3]),u=Iu(t[4]),d=Iu(t[5])-1;if(n)return _B(e,u,d)?mB(e,u,d):new Date(NaN);{const p=new Date(0);return!yB(e,o,l)||!vB(e,i)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(i,l)),p)}}function Iu(r){return r?parseInt(r):1}function fB(r){const e=r.match(lB);if(!e)return NaN;const t=ig(e[1]),n=ig(e[2]),i=ig(e[3]);return wB(t,n,i)?t*Gf+n*qf+i*1e3:NaN}function ig(r){return r&&parseFloat(r.replace(",","."))||0}function pB(r){if(r==="Z")return 0;const e=r.match(uB);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return TB(n,i)?t*(n*Gf+i*qf):NaN}function mB(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const i=n.getUTCDay()||7,o=(e-1)*7+t+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const gB=[31,null,31,30,31,30,31,31,30,31,30,31];function oC(r){return r%400===0||r%4===0&&r%100!==0}function yB(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(gB[e]||(oC(r)?29:28))}function vB(r,e){return e>=1&&e<=(oC(r)?366:365)}function _B(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function wB(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function TB(r,e){return e>=0&&e<=59}function Zn(r,e,t){const n=we(r,t==null?void 0:t.in),i=n.getFullYear(),o=n.getDate(),l=nt(r,0);l.setFullYear(i,e,15),l.setHours(0,0,0,0);const u=nU(l);return n.setMonth(e,Math.min(o,u)),n}function Ch(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setHours(e),n}function Dh(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setMinutes(e),n}function ja(r,e,t){const n=we(r,t==null?void 0:t.in),i=Math.trunc(n.getMonth()/3)+1,o=e-i;return Zn(n,n.getMonth()+o*3)}function bh(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setSeconds(e),n}function jr(r,e,t){const n=we(r,t==null?void 0:t.in);return isNaN(+n)?nt(r,NaN):(n.setFullYear(e),n)}function ko(r,e,t){return Ir(r,-e,t)}function aC(r,e,t){return Ov(r,-1,t)}function cS(r,e,t){return uf(r,-1,t)}function hl(r,e,t){return ki(r,-e,t)}function Xf(){return typeof window<"u"}function Cl(r){return lC(r)?(r.nodeName||"").toLowerCase():"#document"}function jn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function ri(r){var e;return(e=(lC(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function lC(r){return Xf()?r instanceof Node||r instanceof jn(r).Node:!1}function Tn(r){return Xf()?r instanceof Element||r instanceof jn(r).Element:!1}function ni(r){return Xf()?r instanceof HTMLElement||r instanceof jn(r).HTMLElement:!1}function dS(r){return!Xf()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof jn(r).ShadowRoot}function Pc(r){const{overflow:e,overflowX:t,overflowY:n,display:i}=rr(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(i)}function EB(r){return["table","td","th"].includes(Cl(r))}function Jf(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function Uv(r){const e=Bv(),t=Tn(r)?rr(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function SB(r){let e=Ls(r);for(;ni(e)&&!fl(e);){if(Uv(e))return e;if(Jf(e))return null;e=Ls(e)}return null}function Bv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function fl(r){return["html","body","#document"].includes(Cl(r))}function rr(r){return jn(r).getComputedStyle(r)}function Zf(r){return Tn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Ls(r){if(Cl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||dS(r)&&r.host||ri(r);return dS(e)?e.host:e}function uC(r){const e=Ls(r);return fl(e)?r.ownerDocument?r.ownerDocument.body:r.body:ni(e)&&Pc(e)?e:uC(e)}function fc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=uC(r),o=i===((n=r.ownerDocument)==null?void 0:n.body),l=jn(i);if(o){const u=cy(l);return e.concat(l,l.visualViewport||[],Pc(i)?i:[],u&&t?fc(u):[])}return e.concat(i,fc(i,[],t))}function cy(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const pl=Math.min,xo=Math.max,mf=Math.round,lh=Math.floor,Zr=r=>({x:r,y:r}),kB={left:"right",right:"left",bottom:"top",top:"bottom"},xB={start:"end",end:"start"};function IB(r,e,t){return xo(r,pl(e,t))}function ep(r,e){return typeof r=="function"?r(e):r}function ml(r){return r.split("-")[0]}function Ac(r){return r.split("-")[1]}function CB(r){return r==="x"?"y":"x"}function zv(r){return r==="y"?"height":"width"}function pc(r){return["top","bottom"].includes(ml(r))?"y":"x"}function Wv(r){return CB(pc(r))}function DB(r,e,t){t===void 0&&(t=!1);const n=Ac(r),i=Wv(r),o=zv(i);let l=i==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=gf(l)),[l,gf(l)]}function bB(r){const e=gf(r);return[dy(r),e,dy(e)]}function dy(r){return r.replace(/start|end/g,e=>xB[e])}function PB(r,e,t){const n=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(r){case"top":case"bottom":return t?e?i:n:e?n:i;case"left":case"right":return e?o:l;default:return[]}}function AB(r,e,t,n){const i=Ac(r);let o=PB(ml(r),t==="start",n);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(dy)))),o}function gf(r){return r.replace(/left|right|bottom|top/g,e=>kB[e])}function RB(r){return{top:0,right:0,bottom:0,left:0,...r}}function cC(r){return typeof r!="number"?RB(r):{top:r,right:r,bottom:r,left:r}}function yf(r){const{x:e,y:t,width:n,height:i}=r;return{width:n,height:i,top:t,left:e,right:e+n,bottom:t+i,x:e,y:t}}var vf=typeof document<"u"?H.useLayoutEffect:H.useEffect;const MB={...US},NB=MB.useInsertionEffect,OB=NB||(r=>r());function LB(r){const e=H.useRef(()=>{});return OB(()=>{e.current=r}),H.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var dC=BS();const VB=jS(dC);function hS(r,e,t){let{reference:n,floating:i}=r;const o=pc(e),l=Wv(e),u=zv(l),d=ml(e),p=o==="y",m=n.x+n.width/2-i.width/2,y=n.y+n.height/2-i.height/2,w=n[u]/2-i[u]/2;let E;switch(d){case"top":E={x:m,y:n.y-i.height};break;case"bottom":E={x:m,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y};break;case"left":E={x:n.x-i.width,y};break;default:E={x:n.x,y:n.y}}switch(Ac(e)){case"start":E[l]-=w*(t&&p?-1:1);break;case"end":E[l]+=w*(t&&p?-1:1);break}return E}const FB=async(r,e,t)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(e));let p=await l.getElementRects({reference:r,floating:e,strategy:i}),{x:m,y}=hS(p,n,d),w=n,E={},I=0;for(let P=0;P<u.length;P++){const{name:D,fn:N}=u[P],{x:V,y:L,data:K,reset:Q}=await N({x:m,y,initialPlacement:n,placement:w,strategy:i,middlewareData:E,rects:p,platform:l,elements:{reference:r,floating:e}});m=V??m,y=L??y,E={...E,[D]:{...E[D],...K}},Q&&I<=50&&(I++,typeof Q=="object"&&(Q.placement&&(w=Q.placement),Q.rects&&(p=Q.rects===!0?await l.getElementRects({reference:r,floating:e,strategy:i}):Q.rects),{x:m,y}=hS(p,w,d)),P=-1)}return{x:m,y,placement:w,strategy:i,middlewareData:E}};async function jB(r,e){var t;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:l,elements:u,strategy:d}=r,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:y="floating",altBoundary:w=!1,padding:E=0}=ep(e,r),I=cC(E),D=u[w?y==="floating"?"reference":"floating":y],N=yf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(D)))==null||t?D:D.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:p,rootBoundary:m,strategy:d})),V=y==="floating"?{x:n,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),K=await(o.isElement==null?void 0:o.isElement(L))?await(o.getScale==null?void 0:o.getScale(L))||{x:1,y:1}:{x:1,y:1},Q=yf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:V,offsetParent:L,strategy:d}):V);return{top:(N.top-Q.top+I.top)/K.y,bottom:(Q.bottom-N.bottom+I.bottom)/K.y,left:(N.left-Q.left+I.left)/K.x,right:(Q.right-N.right+I.right)/K.x}}const UB=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:i,rects:o,platform:l,elements:u,middlewareData:d}=e,{element:p,padding:m=0}=ep(r,e)||{};if(p==null)return{};const y=cC(m),w={x:t,y:n},E=Wv(i),I=zv(E),P=await l.getDimensions(p),D=E==="y",N=D?"top":"left",V=D?"bottom":"right",L=D?"clientHeight":"clientWidth",K=o.reference[I]+o.reference[E]-w[E]-o.floating[I],Q=w[E]-o.reference[E],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(p));let b=Z?Z[L]:0;(!b||!await(l.isElement==null?void 0:l.isElement(Z)))&&(b=u.floating[L]||o.floating[I]);const k=K/2-Q/2,C=b/2-P[I]/2-1,R=pl(y[N],C),O=pl(y[V],C),F=R,A=b-P[I]-O,Te=b/2-P[I]/2+k,De=IB(F,Te,A),me=!d.arrow&&Ac(i)!=null&&Te!==De&&o.reference[I]/2-(Te<F?R:O)-P[I]/2<0,ae=me?Te<F?Te-F:Te-A:0;return{[E]:w[E]+ae,data:{[E]:De,centerOffset:Te-De-ae,...me&&{alignmentOffset:ae}},reset:me}}}),BB=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:i,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:p}=e,{mainAxis:m=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:P=!0,...D}=ep(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const N=ml(i),V=pc(u),L=ml(u)===u,K=await(d.isRTL==null?void 0:d.isRTL(p.floating)),Q=w||(L||!P?[gf(u)]:bB(u)),Z=I!=="none";!w&&Z&&Q.push(...AB(u,P,I,K));const b=[u,...Q],k=await jB(e,D),C=[];let R=((n=o.flip)==null?void 0:n.overflows)||[];if(m&&C.push(k[N]),y){const Te=DB(i,l,K);C.push(k[Te[0]],k[Te[1]])}if(R=[...R,{placement:i,overflows:C}],!C.every(Te=>Te<=0)){var O,F;const Te=(((O=o.flip)==null?void 0:O.index)||0)+1,De=b[Te];if(De)return{data:{index:Te,overflows:R},reset:{placement:De}};let me=(F=R.filter(ae=>ae.overflows[0]<=0).sort((ae,J)=>ae.overflows[1]-J.overflows[1])[0])==null?void 0:F.placement;if(!me)switch(E){case"bestFit":{var A;const ae=(A=R.filter(J=>{if(Z){const ce=pc(J.placement);return ce===V||ce==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ce=>ce>0).reduce((ce,le)=>ce+le,0)]).sort((J,ce)=>J[1]-ce[1])[0])==null?void 0:A[0];ae&&(me=ae);break}case"initialPlacement":me=u;break}if(i!==me)return{reset:{placement:me}}}return{}}}};async function zB(r,e){const{placement:t,platform:n,elements:i}=r,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),l=ml(t),u=Ac(t),d=pc(t)==="y",p=["left","top"].includes(l)?-1:1,m=o&&d?-1:1,y=ep(e,r);let{mainAxis:w,crossAxis:E,alignmentAxis:I}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof I=="number"&&(E=u==="end"?I*-1:I),d?{x:E*m,y:w*p}:{x:w*p,y:E*m}}const WB=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:i,y:o,placement:l,middlewareData:u}=e,d=await zB(e,r);return l===((t=u.offset)==null?void 0:t.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}};function hC(r){const e=rr(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ni(r),o=i?r.offsetWidth:t,l=i?r.offsetHeight:n,u=mf(t)!==o||mf(n)!==l;return u&&(t=o,n=l),{width:t,height:n,$:u}}function Hv(r){return Tn(r)?r:r.contextElement}function Qa(r){const e=Hv(r);if(!ni(e))return Zr(1);const t=e.getBoundingClientRect(),{width:n,height:i,$:o}=hC(e);let l=(o?mf(t.width):t.width)/n,u=(o?mf(t.height):t.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const HB=Zr(0);function fC(r){const e=jn(r);return!Bv()||!e.visualViewport?HB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $B(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==jn(r)?!1:e}function No(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=r.getBoundingClientRect(),o=Hv(r);let l=Zr(1);e&&(n?Tn(n)&&(l=Qa(n)):l=Qa(r));const u=$B(o,t,n)?fC(o):Zr(0);let d=(i.left+u.x)/l.x,p=(i.top+u.y)/l.y,m=i.width/l.x,y=i.height/l.y;if(o){const w=jn(o),E=n&&Tn(n)?jn(n):n;let I=w,P=cy(I);for(;P&&n&&E!==I;){const D=Qa(P),N=P.getBoundingClientRect(),V=rr(P),L=N.left+(P.clientLeft+parseFloat(V.paddingLeft))*D.x,K=N.top+(P.clientTop+parseFloat(V.paddingTop))*D.y;d*=D.x,p*=D.y,m*=D.x,y*=D.y,d+=L,p+=K,I=jn(P),P=cy(I)}}return yf({width:m,height:y,x:d,y:p})}function $v(r,e){const t=Zf(r).scrollLeft;return e?e.left+t:No(ri(r)).left+t}function pC(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),i=n.left+e.scrollLeft-(t?0:$v(r,n)),o=n.top+e.scrollTop;return{x:i,y:o}}function YB(r){let{elements:e,rect:t,offsetParent:n,strategy:i}=r;const o=i==="fixed",l=ri(n),u=e?Jf(e.floating):!1;if(n===l||u&&o)return t;let d={scrollLeft:0,scrollTop:0},p=Zr(1);const m=Zr(0),y=ni(n);if((y||!y&&!o)&&((Cl(n)!=="body"||Pc(l))&&(d=Zf(n)),ni(n))){const E=No(n);p=Qa(n),m.x=E.x+n.clientLeft,m.y=E.y+n.clientTop}const w=l&&!y&&!o?pC(l,d,!0):Zr(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-d.scrollLeft*p.x+m.x+w.x,y:t.y*p.y-d.scrollTop*p.y+m.y+w.y}}function KB(r){return Array.from(r.getClientRects())}function qB(r){const e=ri(r),t=Zf(r),n=r.ownerDocument.body,i=xo(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=xo(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+$v(r);const u=-t.scrollTop;return rr(n).direction==="rtl"&&(l+=xo(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:l,y:u}}function GB(r,e){const t=jn(r),n=ri(r),i=t.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(i){o=i.width,l=i.height;const p=Bv();(!p||p&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:u,y:d}}function QB(r,e){const t=No(r,!0,e==="fixed"),n=t.top+r.clientTop,i=t.left+r.clientLeft,o=ni(r)?Qa(r):Zr(1),l=r.clientWidth*o.x,u=r.clientHeight*o.y,d=i*o.x,p=n*o.y;return{width:l,height:u,x:d,y:p}}function fS(r,e,t){let n;if(e==="viewport")n=GB(r,t);else if(e==="document")n=qB(ri(r));else if(Tn(e))n=QB(e,t);else{const i=fC(r);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yf(n)}function mC(r,e){const t=Ls(r);return t===e||!Tn(t)||fl(t)?!1:rr(t).position==="fixed"||mC(t,e)}function XB(r,e){const t=e.get(r);if(t)return t;let n=fc(r,[],!1).filter(u=>Tn(u)&&Cl(u)!=="body"),i=null;const o=rr(r).position==="fixed";let l=o?Ls(r):r;for(;Tn(l)&&!fl(l);){const u=rr(l),d=Uv(l);!d&&u.position==="fixed"&&(i=null),(o?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Pc(l)&&!d&&mC(r,l))?n=n.filter(m=>m!==l):i=u,l=Ls(l)}return e.set(r,n),n}function JB(r){let{element:e,boundary:t,rootBoundary:n,strategy:i}=r;const l=[...t==="clippingAncestors"?Jf(e)?[]:XB(e,this._c):[].concat(t),n],u=l[0],d=l.reduce((p,m)=>{const y=fS(e,m,i);return p.top=xo(y.top,p.top),p.right=pl(y.right,p.right),p.bottom=pl(y.bottom,p.bottom),p.left=xo(y.left,p.left),p},fS(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function ZB(r){const{width:e,height:t}=hC(r);return{width:e,height:t}}function e5(r,e,t){const n=ni(e),i=ri(e),o=t==="fixed",l=No(r,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=Zr(0);if(n||!n&&!o)if((Cl(e)!=="body"||Pc(i))&&(u=Zf(e)),n){const w=No(e,!0,o,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else i&&(d.x=$v(i));const p=i&&!n&&!o?pC(i,u):Zr(0),m=l.left+u.scrollLeft-d.x-p.x,y=l.top+u.scrollTop-d.y-p.y;return{x:m,y,width:l.width,height:l.height}}function sg(r){return rr(r).position==="static"}function pS(r,e){if(!ni(r)||rr(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return ri(r)===t&&(t=t.ownerDocument.body),t}function gC(r,e){const t=jn(r);if(Jf(r))return t;if(!ni(r)){let i=Ls(r);for(;i&&!fl(i);){if(Tn(i)&&!sg(i))return i;i=Ls(i)}return t}let n=pS(r,e);for(;n&&EB(n)&&sg(n);)n=pS(n,e);return n&&fl(n)&&sg(n)&&!Uv(n)?t:n||SB(r)||t}const t5=async function(r){const e=this.getOffsetParent||gC,t=this.getDimensions,n=await t(r.floating);return{reference:e5(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function n5(r){return rr(r).direction==="rtl"}const r5={convertOffsetParentRelativeRectToViewportRelativeRect:YB,getDocumentElement:ri,getClippingRect:JB,getOffsetParent:gC,getElementRects:t5,getClientRects:KB,getDimensions:ZB,getScale:Qa,isElement:Tn,isRTL:n5};function yC(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function i5(r,e){let t=null,n;const i=ri(r);function o(){var u;clearTimeout(n),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const p=r.getBoundingClientRect(),{left:m,top:y,width:w,height:E}=p;if(u||e(),!w||!E)return;const I=lh(y),P=lh(i.clientWidth-(m+w)),D=lh(i.clientHeight-(y+E)),N=lh(m),L={rootMargin:-I+"px "+-P+"px "+-D+"px "+-N+"px",threshold:xo(0,pl(1,d))||1};let K=!0;function Q(Z){const b=Z[0].intersectionRatio;if(b!==d){if(!K)return l();b?l(!1,b):n=setTimeout(()=>{l(!1,1e-7)},1e3)}b===1&&!yC(p,r.getBoundingClientRect())&&l(),K=!1}try{t=new IntersectionObserver(Q,{...L,root:i.ownerDocument})}catch{t=new IntersectionObserver(Q,L)}t.observe(r)}return l(!0),o}function s5(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,p=Hv(r),m=i||o?[...p?fc(p):[],...fc(e)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const y=p&&u?i5(p,t):null;let w=-1,E=null;l&&(E=new ResizeObserver(N=>{let[V]=N;V&&V.target===p&&E&&(E.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var L;(L=E)==null||L.observe(e)})),t()}),p&&!d&&E.observe(p),E.observe(e));let I,P=d?No(r):null;d&&D();function D(){const N=No(r);P&&!yC(P,N)&&t(),P=N,I=requestAnimationFrame(D)}return t(),()=>{var N;m.forEach(V=>{i&&V.removeEventListener("scroll",t),o&&V.removeEventListener("resize",t)}),y==null||y(),(N=E)==null||N.disconnect(),E=null,d&&cancelAnimationFrame(I)}}const o5=WB,a5=BB,mS=UB,l5=(r,e,t)=>{const n=new Map,i={platform:r5,...t},o={...i.platform,_c:n};return FB(r,e,{...i,platform:o})};var Ph=typeof document<"u"?H.useLayoutEffect:H.useEffect;function _f(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,i;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!_f(r[n],e[n]))return!1;return!0}if(i=Object.keys(r),t=i.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=t;n--!==0;){const o=i[n];if(!(o==="_owner"&&r.$$typeof)&&!_f(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function vC(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function gS(r,e){const t=vC(r);return Math.round(e*t)/t}function og(r){const e=H.useRef(r);return Ph(()=>{e.current=r}),e}function u5(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:p}=r,[m,y]=H.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,E]=H.useState(n);_f(w,n)||E(n);const[I,P]=H.useState(null),[D,N]=H.useState(null),V=H.useCallback(J=>{J!==Z.current&&(Z.current=J,P(J))},[]),L=H.useCallback(J=>{J!==b.current&&(b.current=J,N(J))},[]),K=o||I,Q=l||D,Z=H.useRef(null),b=H.useRef(null),k=H.useRef(m),C=d!=null,R=og(d),O=og(i),F=og(p),A=H.useCallback(()=>{if(!Z.current||!b.current)return;const J={placement:e,strategy:t,middleware:w};O.current&&(J.platform=O.current),l5(Z.current,b.current,J).then(ce=>{const le={...ce,isPositioned:F.current!==!1};Te.current&&!_f(k.current,le)&&(k.current=le,dC.flushSync(()=>{y(le)}))})},[w,e,t,O,F]);Ph(()=>{p===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,y(J=>({...J,isPositioned:!1})))},[p]);const Te=H.useRef(!1);Ph(()=>(Te.current=!0,()=>{Te.current=!1}),[]),Ph(()=>{if(K&&(Z.current=K),Q&&(b.current=Q),K&&Q){if(R.current)return R.current(K,Q,A);A()}},[K,Q,A,R,C]);const De=H.useMemo(()=>({reference:Z,floating:b,setReference:V,setFloating:L}),[V,L]),me=H.useMemo(()=>({reference:K,floating:Q}),[K,Q]),ae=H.useMemo(()=>{const J={position:t,left:0,top:0};if(!me.floating)return J;const ce=gS(me.floating,m.x),le=gS(me.floating,m.y);return u?{...J,transform:"translate("+ce+"px, "+le+"px)",...vC(me.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ce,top:le}},[t,u,me.floating,m.x,m.y]);return H.useMemo(()=>({...m,update:A,refs:De,elements:me,floatingStyles:ae}),[m,A,De,me,ae])}const c5=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:i}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?mS({element:n.current,padding:i}).fn(t):{}:n?mS({element:n,padding:i}).fn(t):{}}}},d5=(r,e)=>({...o5(r),options:[r,e]}),h5=(r,e)=>({...a5(r),options:[r,e]}),f5=(r,e)=>({...c5(r),options:[r,e]}),p5={...US};let yS=!1,m5=0;const vS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+m5++;function g5(){const[r,e]=H.useState(()=>yS?vS():void 0);return vf(()=>{r==null&&e(vS())},[]),H.useEffect(()=>{yS=!0},[]),r}const y5=p5.useId,_C=y5||g5,v5=H.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:o,shift:l}},width:u=14,height:d=7,tipRadius:p=0,strokeWidth:m=0,staticOffset:y,stroke:w,d:E,style:{transform:I,...P}={},...D}=e,N=_C(),[V,L]=H.useState(!1);if(vf(()=>{if(!i)return;rr(i).direction==="rtl"&&L(!0)},[i]),!i)return null;const[K,Q]=n.split("-"),Z=K==="top"||K==="bottom";let b=y;(Z&&l!=null&&l.x||!Z&&l!=null&&l.y)&&(b=null);const k=m*2,C=k/2,R=u/2*(p/-8+1),O=d/2*p/4,F=!!E,A=b&&Q==="end"?"bottom":"top";let Te=b&&Q==="end"?"right":"left";b&&V&&(Te=Q==="end"?"left":"right");const De=(o==null?void 0:o.x)!=null?b||o.x:"",me=(o==null?void 0:o.y)!=null?b||o.y:"",ae=E||"M0,0"+(" H"+u)+(" L"+(u-R)+","+(d-O))+(" Q"+u/2+","+d+" "+R+","+(d-O))+" Z",J={top:F?"rotate(180deg)":"",left:F?"rotate(90deg)":"rotate(-90deg)",bottom:F?"":"rotate(180deg)",right:F?"rotate(-90deg)":"rotate(90deg)"}[K];return z.jsxs("svg",{...D,"aria-hidden":!0,ref:t,width:F?u:u+k,height:u,viewBox:"0 0 "+u+" "+(d>u?d:u),style:{position:"absolute",pointerEvents:"none",[Te]:De,[A]:me,[K]:Z||F?"100%":"calc(100% - "+k/2+"px)",transform:[J,I].filter(ce=>!!ce).join(" "),...P},children:[k>0&&z.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:w,strokeWidth:k+(E?0:1),d:ae}),z.jsx("path",{stroke:k&&!E?D.fill:"none",d:ae}),z.jsx("clipPath",{id:N,children:z.jsx("rect",{x:-C,y:C*(F?-1:1),width:u+k,height:u})})]})});function _5(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(i=>i(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const w5=H.createContext(null),T5=H.createContext(null),E5=()=>{var r;return((r=H.useContext(w5))==null?void 0:r.id)||null},S5=()=>H.useContext(T5);function k5(r){const{open:e=!1,onOpenChange:t,elements:n}=r,i=_C(),o=H.useRef({}),[l]=H.useState(()=>_5()),u=E5()!=null,[d,p]=H.useState(n.reference),m=LB((E,I,P)=>{o.current.openEvent=E?I:void 0,l.emit("openchange",{open:E,event:I,reason:P,nested:u}),t==null||t(E,I,P)}),y=H.useMemo(()=>({setPositionReference:p}),[]),w=H.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return H.useMemo(()=>({dataRef:o,open:e,onOpenChange:m,elements:w,events:l,floatingId:i,refs:y}),[e,m,w,l,i,y])}function x5(r){r===void 0&&(r={});const{nodeId:e}=r,t=k5({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,i=n.elements,[o,l]=H.useState(null),[u,d]=H.useState(null),m=(i==null?void 0:i.domReference)||o,y=H.useRef(null),w=S5();vf(()=>{m&&(y.current=m)},[m]);const E=u5({...r,elements:{...i,...u&&{reference:u}}}),I=H.useCallback(L=>{const K=Tn(L)?{getBoundingClientRect:()=>L.getBoundingClientRect(),getClientRects:()=>L.getClientRects(),contextElement:L}:L;d(K),E.refs.setReference(K)},[E.refs]),P=H.useCallback(L=>{(Tn(L)||L===null)&&(y.current=L,l(L)),(Tn(E.refs.reference.current)||E.refs.reference.current===null||L!==null&&!Tn(L))&&E.refs.setReference(L)},[E.refs]),D=H.useMemo(()=>({...E.refs,setReference:P,setPositionReference:I,domReference:y}),[E.refs,P,I]),N=H.useMemo(()=>({...E.elements,domReference:m}),[E.elements,m]),V=H.useMemo(()=>({...E,...n,refs:D,elements:N,nodeId:e}),[E,D,N,e,n]);return vf(()=>{n.dataRef.current.floatingContext=V;const L=w==null?void 0:w.nodesRef.current.find(K=>K.id===e);L&&(L.context=V)}),H.useMemo(()=>({...E,context:V,refs:D,elements:N}),[E,D,N,V])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var hy=function(e,t){return hy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},hy(e,t)};function Kt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hy(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ke=function(){return Ke=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Ke.apply(this,arguments)};function Wr(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var I5=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,i=n===void 0?!1:n,o=r.className,l=r.children,u=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return q.createElement("div",{className:o,role:"dialog","aria-label":u,"aria-modal":"true"},l)},C5=function(r,e){var t=H.useRef(null),n=H.useRef(r);n.current=r;var i=H.useCallback(function(o){var l,u=o.composed&&o.composedPath&&o.composedPath().find(function(d){return d instanceof Node})||o.target;t.current&&!t.current.contains(u)&&(e&&u instanceof HTMLElement&&u.classList.contains(e)||(l=n.current)===null||l===void 0||l.call(n,o))},[e]);return H.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},tp=function(r){var e=r.children,t=r.onClickOutside,n=r.className,i=r.containerRef,o=r.style,l=r.ignoreClass,u=C5(t,l);return q.createElement("div",{className:n,style:o,ref:function(d){u.current=d,i&&(i.current=d)}},e)},de;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(de||(de={}));function wC(){var r=typeof window<"u"?window:globalThis;return r}var Rc=12;function Je(r){if(r==null)return new Date;var e=typeof r=="string"?oB(r):we(r);return np(e)?e:new Date}function ag(r,e,t,n,i){i===void 0&&(i=Je());for(var o=gl(t)||gl(Yv()),l=Array.isArray(e)?e:[e],u=0,d=l;u<d.length;u++){var p=d[u],m=eB(r,p,i,{locale:o});if(np(m)&&(!n||r===mt(m,p,t)))return m}return null}function np(r,e){return cf(r)&&!Mo(r,new Date("1/1/1800"))}function mt(r,e,t){if(t==="en")return lS(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?gl(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||gl(Yv()),lS(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Jn(r,e){var t=e.dateFormat,n=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return r&&mt(r,i,n)||""}function D5(r,e,t){if(!r)return"";var n=Jn(r,t),i=e?Jn(e,t):"";return"".concat(n," - ").concat(i)}function b5(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?Jn(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=Jn(r[1],e);return"".concat(t,", ").concat(n)}var i=r.length-1;return"".concat(t," (+").concat(i,")")}function lg(r,e){var t=e.hour,n=t===void 0?0:t,i=e.minute,o=i===void 0?0:i,l=e.second,u=l===void 0?0:l;return Ch(Dh(bh(r,u),o),n)}function P5(r){return Lv(r)}function A5(r,e){return mt(r,"ddd",e)}function Ah(r){return Ro(r)}function Is(r,e,t){var n=gl(e||Yv());return Oi(r,{locale:n,weekStartsOn:t})}function Di(r){return X1(r)}function Ou(r){return Qf(r)}function _S(r){return ay(r)}function wS(){return Ro(Je())}function TS(r){return G1(r)}function R5(r){return oj(r)}function M5(r){return Q1(r)}function Ur(r,e){return r&&e?iB(r,e):!r&&!e}function yn(r,e){return r&&e?nB(r,e):!r&&!e}function wf(r,e){return r&&e?rB(r,e):!r&&!e}function Ye(r,e){return r&&e?ij(r,e):!r&&!e}function To(r,e){return r&&e?sU(r,e):!r&&!e}function Lu(r,e,t){var n,i=Ro(e),o=G1(t);try{n=hc(r,{start:i,end:o})}catch{n=!1}return n}function Yv(){var r=wC();return r.__localeId__}function gl(r){if(typeof r=="string"){var e=wC();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function N5(r,e,t){return e(mt(r,"EEEE",t))}function O5(r,e){return mt(r,"EEEEEE",e)}function L5(r,e){return mt(r,"EEE",e)}function Kv(r,e){return mt(Zn(Je(),r),"LLLL",e)}function TC(r,e){return mt(Zn(Je(),r),"LLL",e)}function V5(r,e){return mt(ja(Je(),r),"QQQ",e)}function er(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,d=t.includeDateIntervals,p=t.filterDate;return Mc(r,{minDate:n,maxDate:i})||o&&o.some(function(m){return m instanceof Date?Ye(r,m):Ye(r,m.date)})||l&&l.some(function(m){var y=m.start,w=m.end;return hc(r,{start:y,end:w})})||u&&!u.some(function(m){return Ye(r,m)})||d&&!d.some(function(m){var y=m.start,w=m.end;return hc(r,{start:y,end:w})})||p&&!p(Je(r))||!1}function qv(r,e){var t=e===void 0?{}:e,n=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(o){var l=o.start,u=o.end;return hc(r,{start:l,end:u})}):n&&n.some(function(o){var l;return o instanceof Date?Ye(r,o):Ye(r,(l=o.date)!==null&&l!==void 0?l:new Date)})||!1}function EC(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Mc(r,{minDate:n?X1(n):void 0,maxDate:i?Q1(i):void 0})||(o==null?void 0:o.some(function(d){return yn(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return yn(r,d)})||u&&!u(Je(r))||!1}function uh(r,e,t,n){var i=Le(r),o=wn(r),l=Le(e),u=wn(e),d=Le(n);return i===l&&i===d?o<=t&&t<=u:i<l?d===i&&o<=t||d===l&&u>=t||d<l&&d>i:!1}function F5(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates;return Mc(r,{minDate:n,maxDate:i})||o&&o.some(function(u){return yn(u instanceof Date?u:u.date,r)})||l&&!l.some(function(u){return yn(u,r)})||!1}function ch(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate;return Mc(r,{minDate:n,maxDate:i})||(o==null?void 0:o.some(function(d){return wf(r,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return wf(r,d)})||u&&!u(Je(r))||!1}function dh(r,e,t){if(!e||!t||!cf(e)||!cf(t))return!1;var n=Le(e),i=Le(t);return n<=r&&i>=r}function Rh(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.maxDate,o=t.excludeDates,l=t.includeDates,u=t.filterDate,d=new Date(r,0,1);return Mc(d,{minDate:n?Qf(n):void 0,maxDate:i?J1(i):void 0})||(o==null?void 0:o.some(function(p){return Ur(d,p instanceof Date?p:p.date)}))||l&&!l.some(function(p){return Ur(d,p)})||u&&!u(Je(d))||!1}function hh(r,e,t,n){var i=Le(r),o=So(r),l=Le(e),u=So(e),d=Le(n);return i===l&&i===d?o<=t&&t<=u:i<l?d===i&&o<=t||d===l&&u>=t||d<l&&d>i:!1}function Mc(r,e){var t,n=e===void 0?{}:e,i=n.minDate,o=n.maxDate;return(t=i&&dl(r,i)<0||o&&dl(r,o)>0)!==null&&t!==void 0?t:!1}function ES(r,e){return e.some(function(t){return Ii(t)===Ii(r)&&Ci(t)===Ci(r)&&xs(t)===xs(r)})}function SS(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,i=t.includeTimes,o=t.filterTime;return n&&ES(r,n)||i&&!ES(r,i)||o&&!o(r)||!1}function kS(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var i=Je();i=Ch(i,Ii(r)),i=Dh(i,Ci(r)),i=bh(i,xs(r));var o=Je();o=Ch(o,Ii(t)),o=Dh(o,Ci(t)),o=bh(o,xs(t));var l=Je();l=Ch(l,Ii(n)),l=Dh(l,Ci(n)),l=bh(l,xs(n));var u;try{u=!hc(i,{start:o,end:l})}catch{u=!1}return u}function xS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=ko(r,1);return n&&df(n,o)>0||i&&i.every(function(l){return df(l,o)>0})||!1}function IS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=Ir(r,1);return n&&df(o,n)>0||i&&i.every(function(l){return df(o,l)>0})||!1}function j5(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=Qf(r),l=aC(o);return n&&hf(n,l)>0||i&&i.every(function(u){return hf(u,l)>0})||!1}function U5(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=J1(r),l=Ov(o,1);return n&&hf(l,n)>0||i&&i.every(function(u){return hf(l,u)>0})||!1}function CS(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.includeDates,o=hl(r,1);return n&&ff(n,o)>0||i&&i.every(function(l){return ff(l,o)>0})||!1}function B5(r,e){var t=e===void 0?{}:e,n=t.minDate,i=t.yearItemNumber,o=i===void 0?Rc:i,l=Ou(hl(r,o)),u=ys(l,o).endPeriod,d=n&&Le(n);return d&&d>u||!1}function DS(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.includeDates,o=ki(r,1);return n&&ff(o,n)>0||i&&i.every(function(l){return ff(o,l)>0})||!1}function z5(r,e){var t=e===void 0?{}:e,n=t.maxDate,i=t.yearItemNumber,o=i===void 0?Rc:i,l=ki(r,o),u=ys(l,o).startPeriod,d=n&&Le(n);return d&&d<u||!1}function SC(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return dl(i,e)>=0});return nS(n)}else return t?nS(t):e}function kC(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(i){return dl(i,e)<=0});return tS(n)}else return t?tS(t):e}function bS(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,i=0,o=r.length;i<o;i++){var l=r[i];if(xi(l)){var u=mt(l,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(e)||(d.push(e),n.set(u,d))}else if(typeof l=="object"){var p=Object.keys(l),m=(t=p[0])!==null&&t!==void 0?t:"",y=l[m];if(typeof m=="string"&&Array.isArray(y))for(var w=0,E=y.length;w<E;w++){var I=y[w];if(I){var u=mt(I,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(m)||(d.push(m),n.set(u,d))}}}}return n}function W5(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function H5(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var i=n.date,o=n.holidayName;if(xi(i)){var l=mt(i,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===e&&W5(u.holidayNames,[o]))){u.className=e;var d=u.holidayNames;u.holidayNames=d?Wr(Wr([],d,!0),[o],!1):[o],t.set(l,u)}}}),t}function $5(r,e,t,n,i){for(var o=i.length,l=[],u=0;u<o;u++){var d=r,p=i[u];p&&(d=ej(d,Ii(p)),d=oy(d,Ci(p)),d=rj(d,xs(p)));var m=oy(r,(t+1)*n);Os(d,e)&&Mo(d,m)&&p!=null&&l.push(p)}return l}function PS(r){return r<10?"0".concat(r):"".concat(r)}function ys(r,e){e===void 0&&(e=Rc);var t=Math.ceil(Le(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function Y5(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function AS(r){var e=r.getSeconds(),t=r.getMilliseconds();return we(r.getTime()-e*1e3-t)}function K5(r,e){return AS(r).getTime()===AS(e).getTime()}function RS(r){if(!xi(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function MS(r,e){if(!xi(r)||!xi(e))throw new Error("Invalid date received");var t=RS(r),n=RS(e);return Mo(t,n)}function xC(r){return r.key===de.Space}var q5=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=q.createRef(),n.onTimeChange=function(i){var o,l;n.setState({time:i});var u=n.props.date,d=u instanceof Date&&!isNaN(+u),p=d?u:new Date;if(i!=null&&i.includes(":")){var m=i.split(":"),y=m[0],w=m[1];p.setHours(Number(y)),p.setMinutes(Number(w))}(l=(o=n.props).onChange)===null||l===void 0||l.call(o,p)},n.renderTimeInput=function(){var i=n.state.time,o=n.props,l=o.date,u=o.timeString,d=o.customTimeInput;return d?H.cloneElement(d,{date:l,value:i,onChange:n.onTimeChange}):q.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var p;(p=n.inputRef.current)===null||p===void 0||p.focus()},required:!0,value:i,onChange:function(p){n.onTimeChange(p.target.value||u)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return q.createElement("div",{className:"react-datepicker__input-time-container"},q.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),q.createElement("div",{className:"react-datepicker-time__input-container"},q.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(H.Component),G5=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=H.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===de.Space&&(n.preventDefault(),n.key=de.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isSameDay=function(n){return Ye(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),er(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return qv(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Ye(t.props.day,Is(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Ye(n,Is(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,i=n.day,o=n.highlightDates;if(!o)return!1;var l=mt(i,"MM.dd.yyyy");return o.get(l)},t.getHolidaysClass=function(){var n,i=t.props,o=i.day,l=i.holidays;if(!l)return[void 0];var u=mt(o,"MM.dd.yyyy");return l.has(u)?[(n=l.get(u))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Lu(i,o,l)},t.isInSelectingRange=function(){var n,i=t.props,o=i.day,l=i.selectsStart,u=i.selectsEnd,d=i.selectsRange,p=i.selectsDisabledDaysInRange,m=i.startDate,y=i.endDate,w=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||u||d)||!w||!p&&t.isDisabled()?!1:l&&y&&(Mo(w,y)||To(w,y))?Lu(o,w,y):u&&m&&!y&&(Os(w,m)||To(w,m))||d&&m&&!y&&(Os(w,m)||To(w,m))?Lu(o,m,w):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.startDate,u=i.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u?Ye(o,d):Ye(o,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var i=t.props,o=i.day,l=i.endDate,u=i.selectsEnd,d=i.selectsRange,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u||d?Ye(o,p):Ye(o,l)},t.isRangeStart=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Ye(o,i)},t.isRangeEnd=function(){var n=t.props,i=n.day,o=n.startDate,l=n.endDate;return!o||!l?!1:Ye(l,i)},t.isWeekend=function(){var n=tU(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===wn(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(wn(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Je())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var i=t.props.dayClassName?t.props.dayClassName(n):void 0;return pt("react-datepicker__day",i,"react-datepicker__day--"+A5(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,i=n.day,o=n.ariaLabelPrefixWhenEnabled,l=o===void 0?"Choose":o,u=n.ariaLabelPrefixWhenDisabled,d=u===void 0?"Not available":u,p=t.isDisabled()||t.isExcluded()?d:l;return"".concat(p," ").concat(mt(i,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,i=n.day,o=n.holidays,l=o===void 0?new Map:o,u=n.excludeDates,d=mt(i,"MM.dd.yyyy"),p=[];return l.has(d)&&p.push.apply(p,l.get(d).holidayNames),t.isExcluded()&&p.push(u==null?void 0:u.filter(function(m){return m instanceof Date?Ye(m,i):Ye(m==null?void 0:m.date,i)}).map(function(m){if(!(m instanceof Date))return m==null?void 0:m.message})),p.join(", ")},t.getTabIndex=function(){var n=t.props.selected,i=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Ye(i,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(uS(t.props.day),t.props.day):uS(t.props.day)},t.render=function(){return q.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&q.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,i;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(H.Component),Q5=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=H.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var i,o,l=n.key;l===de.Space&&(n.preventDefault(),n.key=de.Enter),(o=(i=t.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ye(t.props.date,t.props.selected)&&Ye(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Ye(t.props.date,t.props.selected)&&Ye(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var i=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Ye(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,i=t.isWeekDisabled,o=t.ariaLabelPrefix,l=o===void 0?e.defaultProps.ariaLabelPrefix:o,u=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!i,"react-datepicker__week-number--selected":!!u&&Ye(this.props.date,this.props.selected)};return q.createElement("div",{ref:this.weekNumberEl,className:pt(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(H.Component),X5=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return er(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,i){t.props.onDayClick&&t.props.onDayClick(n,i)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,i,o){for(var l,u,d,p=new Date(n),m=0;m<7;m++){var y=new Date(n);y.setDate(y.getDate()+m);var w=!t.isDisabled(y);if(w){p=y;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(p,i,o),t.props.showWeekPicker&&t.handleDayClick(p,o),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:e.defaultProps.shouldCloseOnSelect)&&((d=(u=t.props).setOpen)===null||d===void 0||d.call(u,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):P5(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),i=kr(n,6),o=new Date(n);o<=i;){if(!t.isDisabled(o))return!1;o=kr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),i=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;i.push(q.createElement(Q5,Ke({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return i.concat([0,1,2,3,4,5,6].map(function(u){var d=kr(n,u);return q.createElement(G5,Ke({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return Is(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Ye(t.startOfWeek(),t.props.selected)&&Ye(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Ye(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return q.createElement("div",{className:pt(t)},this.renderDays())},e}(H.Component),Cu,J5=6,Xa={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},ug=(Cu={},Cu[Xa.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Cu[Xa.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Cu[Xa.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Cu),fh=1;function NS(r,e){return r?Xa.FOUR_COLUMNS:e?Xa.TWO_COLUMNS:Xa.THREE_COLUMNS}var Z5=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Wr([],Array(12),!0).map(function(){return H.createRef()}),t.QUARTER_REFS=Wr([],Array(4),!0).map(function(){return H.createRef()}),t.isDisabled=function(n){return er(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return qv(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,i){var o,l;(l=(o=t.props).onDayClick)===null||l===void 0||l.call(o,n,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var i,o;(o=(i=t.props).onDayMouseEnter)===null||o===void 0||o.call(i,n)},t.handleMouseLeave=function(){var n,i;(i=(n=t.props).onMouseLeave)===null||i===void 0||i.call(n)},t.isRangeStartMonth=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:yn(Zn(o,n),l)},t.isRangeStartQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:wf(ja(o,n),l)},t.isRangeEndMonth=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:yn(Zn(o,n),u)},t.isRangeEndQuarter=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:wf(ja(o,n),u)},t.isInSelectingRangeMonth=function(n){var i,o=t.props,l=o.day,u=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||p)||!w?!1:u&&y?uh(w,y,n,l):d&&m||p&&m&&!y?uh(m,w,n,l):!1},t.isSelectingMonthRangeStart=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,u=o.startDate,d=o.selectsStart,p=Zn(l,n),m=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d?yn(p,m):yn(p,u)},t.isSelectingMonthRangeEnd=function(n){var i;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,l=o.day,u=o.endDate,d=o.selectsEnd,p=o.selectsRange,m=Zn(l,n),y=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return d||p?yn(m,y):yn(m,u)},t.isInSelectingRangeQuarter=function(n){var i,o=t.props,l=o.day,u=o.selectsStart,d=o.selectsEnd,p=o.selectsRange,m=o.startDate,y=o.endDate,w=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(u||d||p)||!w?!1:u&&y?hh(w,y,n,l):d&&m||p&&m&&!y?hh(m,w,n,l):!1},t.isWeekInMonth=function(n){var i=t.props.day,o=kr(n,6);return yn(n,i)||yn(o,i)},t.isCurrentMonth=function(n,i){return Le(n)===Le(Je())&&i===wn(Je())},t.isCurrentQuarter=function(n,i){return Le(n)===Le(Je())&&i===So(Je())},t.isSelectedMonth=function(n,i,o){return wn(o)===i&&Le(n)===Le(o)},t.isSelectMonthInList=function(n,i,o){return o.some(function(l){return t.isSelectedMonth(n,i,l)})},t.isSelectedQuarter=function(n,i,o){return So(n)===i&&Le(n)===Le(o)},t.renderWeeks=function(){for(var n=[],i=t.props.fixedHeight,o=0,l=!1,u=Is(Di(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(I){return t.props.showWeekPicker?Is(I,t.props.locale,t.props.calendarStartDay):t.props.preSelection},p=function(I){return t.props.showWeekPicker?Is(I,t.props.locale,t.props.calendarStartDay):t.props.selected},m=t.props.selected?p(t.props.selected):void 0,y=t.props.preSelection?d(t.props.preSelection):void 0;n.push(q.createElement(X5,Ke({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:u,month:wn(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:m,preSelection:y,showWeekNumber:t.props.showWeekNumbers}))),!l;){o++,u=uf(u,1);var w=i&&o>=J5,E=!i&&!t.isWeekInMonth(u);if(w||E)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,i){var o=t.isMonthDisabledForLabelDate(i),l=o.isDisabled,u=o.labelDate;l||t.handleDayClick(Di(u),n)},t.onMonthMouseEnter=function(n){var i=t.isMonthDisabledForLabelDate(n),o=i.isDisabled,l=i.labelDate;o||t.handleDayMouseEnter(Di(l))},t.handleMonthNavigation=function(n,i){var o,l,u,d;(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(u=t.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,i,o){var l,u=t.props,d=u.selected,p=u.preSelection,m=u.setPreSelection,y=u.minDate,w=u.maxDate,E=u.showFourColumnMonthYearPicker,I=u.showTwoColumnMonthYearPicker;if(p){var P=NS(E,I),D=t.getVerticalOffset(P),N=(l=ug[P])===null||l===void 0?void 0:l.grid,V=function(b,k,C){var R,O,F=k,A=C;switch(b){case de.ArrowRight:F=Ir(k,fh),A=C===11?0:C+fh;break;case de.ArrowLeft:F=ko(k,fh),A=C===0?11:C-fh;break;case de.ArrowUp:F=ko(k,D),A=!((R=N==null?void 0:N[0])===null||R===void 0)&&R.includes(C)?C+12-D:C-D;break;case de.ArrowDown:F=Ir(k,D),A=!((O=N==null?void 0:N[N.length-1])===null||O===void 0)&&O.includes(C)?C-12+D:C+D;break}return{newCalculatedDate:F,newCalculatedMonth:A}},L=function(b,k,C){for(var R=40,O=b,F=!1,A=0,Te=V(O,k,C),De=Te.newCalculatedDate,me=Te.newCalculatedMonth;!F;){if(A>=R){De=k,me=C;break}if(y&&De<y){O=de.ArrowRight;var ae=V(O,De,me);De=ae.newCalculatedDate,me=ae.newCalculatedMonth}if(w&&De>w){O=de.ArrowLeft;var ae=V(O,De,me);De=ae.newCalculatedDate,me=ae.newCalculatedMonth}if(F5(De,t.props)){var ae=V(O,De,me);De=ae.newCalculatedDate,me=ae.newCalculatedMonth}else F=!0;A++}return{newCalculatedDate:De,newCalculatedMonth:me}};if(i===de.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),m==null||m(d));return}var K=L(i,p,o),Q=K.newCalculatedDate,Z=K.newCalculatedMonth;switch(i){case de.ArrowRight:case de.ArrowLeft:case de.ArrowUp:case de.ArrowDown:t.handleMonthNavigation(Z,Q);break}}},t.getVerticalOffset=function(n){var i,o;return(o=(i=ug[n])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,i){var o=t.props,l=o.disabledKeyboardNavigation,u=o.handleOnMonthKeyDown,d=n.key;d!==de.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,i),u&&u(n)},t.onQuarterClick=function(n,i){var o=ja(t.props.day,i);ch(o,t.props)||t.handleDayClick(_S(o),n)},t.onQuarterMouseEnter=function(n){var i=ja(t.props.day,n);ch(i,t.props)||t.handleDayMouseEnter(_S(i))},t.handleQuarterNavigation=function(n,i){var o,l,u,d;t.isDisabled(i)||t.isExcluded(i)||((l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,i),(d=(u=t.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,i){var o,l,u=n.key;if(!t.props.disabledKeyboardNavigation)switch(u){case de.Enter:t.onQuarterClick(n,i),(l=(o=t.props).setPreSelection)===null||l===void 0||l.call(o,t.props.selected);break;case de.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,Ov(t.props.preSelection,1));break;case de.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,aC(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var i,o=t.props,l=o.day,u=o.minDate,d=o.maxDate,p=o.excludeDates,m=o.includeDates,y=Zn(l,n);return{isDisabled:(i=(u||d||p||m)&&EC(y,t.props))!==null&&i!==void 0?i:!1,labelDate:y}},t.isMonthDisabled=function(n){var i=t.isMonthDisabledForLabelDate(n).isDisabled;return i},t.getMonthClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate,d=i.preSelection,p=i.monthClassName,m=p?p(Zn(o,n)):void 0,y=t.getSelection();return pt("react-datepicker__month-text","react-datepicker__month-".concat(n),m,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":y?t.isSelectMonthInList(o,n,y):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(o,n,d)&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&u?uh(l,u,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=wn(t.props.preSelection),o=t.isMonthDisabledForLabelDate(i).isDisabled,l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var i=So(t.props.preSelection),o=ch(t.props.day,t.props),l=n===i&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var i=t.props,o=i.chooseDayAriaLabelPrefix,l=o===void 0?"Choose":o,u=i.disabledDayAriaLabelPrefix,d=u===void 0?"Not available":u,p=i.day,m=i.locale,y=Zn(p,n),w=t.isDisabled(y)||t.isExcluded(y)?d:l;return"".concat(w," ").concat(mt(y,"MMMM yyyy",m))},t.getQuarterClassNames=function(n){var i=t.props,o=i.day,l=i.startDate,u=i.endDate,d=i.selected,p=i.minDate,m=i.maxDate,y=i.excludeDates,w=i.includeDates,E=i.filterDate,I=i.preSelection,P=i.disabledKeyboardNavigation,D=(p||m||y||w||E)&&ch(ja(o,n),t.props);return pt("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":D,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(o,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!P&&I&&t.isSelectedQuarter(o,n,I)&&!D,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&u?hh(l,u,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var i=t.props,o=i.showFullMonthYearPicker,l=i.renderMonthContent,u=i.locale,d=i.day,p=TC(n,u),m=Kv(n,u);return l?l(n,p,m,d):o?m:p},t.getQuarterContent=function(n){var i,o=t.props,l=o.renderQuarterContent,u=o.locale,d=V5(n,u);return(i=l==null?void 0:l(n,d))!==null&&i!==void 0?i:d},t.renderMonths=function(){var n,i=t.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,u=i.day,d=i.selected,p=(n=ug[NS(l,o)])===null||n===void 0?void 0:n.grid;return p==null?void 0:p.map(function(m,y){return q.createElement("div",{className:"react-datepicker__month-wrapper",key:y},m.map(function(w,E){return q.createElement("div",{ref:t.MONTH_REFS[w],key:E,onClick:function(I){t.onMonthClick(I,w)},onKeyDown:function(I){xC(I)&&(I.preventDefault(),I.key=de.Enter),t.onMonthKeyDown(I,w)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(w)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(w)}:void 0,tabIndex:Number(t.getTabIndex(w)),className:t.getMonthClassNames(w),"aria-disabled":t.isMonthDisabled(w),role:"option","aria-label":t.getAriaLabel(w),"aria-current":t.isCurrentMonth(u,w)?"date":void 0,"aria-selected":d?t.isSelectedMonth(u,w,d):void 0},t.getMonthContent(w))}))})},t.renderQuarters=function(){var n=t.props,i=n.day,o=n.selected,l=[1,2,3,4];return q.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,d){return q.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(p){t.onQuarterClick(p,u)},onKeyDown:function(p){t.onQuarterKeyDown(p,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":o?t.isSelectedQuarter(i,u,o):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(i,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var n=t.props,i=n.selectingDate,o=n.selectsStart,l=n.selectsEnd,u=n.showMonthYearPicker,d=n.showQuarterYearPicker,p=n.showWeekPicker;return pt("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(o||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":p})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,i=t.selectedDates,o=t.selectsMultiple;if(o)return i;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,i=t.showQuarterYearPicker,o=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,d=u?u.trim()+" ":"";return q.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(mt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(H.Component),e9=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,i){return q.createElement("div",{className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?q.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return q.createElement(tp,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(H.Component),t9=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(i,o){return q.createElement("option",{key:i,value:o},i)})},t.renderSelectMode=function(n){return q.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,i){return q.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},q.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),q.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(n){return q.createElement(e9,Ke({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var i=t.state.dropdownVisible,o=[t.renderReadView(!i,n)];return i&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return TC(o,t.props.locale)}:function(o){return Kv(o,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(n);break;case"select":i=this.renderSelectMode(n);break}return q.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(H.Component);function n9(r,e){for(var t=[],n=Di(r),i=Di(e);!Os(n,i);)t.push(Je(n)),n=Ir(n,1);return t}var r9=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(i){var o=uy(i),l=Ur(n.props.date,i)&&yn(n.props.date,i);return q.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":l?"true":void 0},l?q.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",mt(i,n.props.dateFormat,n.props.locale))})},n.onChange=function(i){return n.props.onChange(i)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:n9(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=pt({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return q.createElement(tp,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(H.Component),i9=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=Di(t.props.minDate),i=Di(t.props.maxDate),o=[];!Os(n,i);){var l=uy(n);o.push(q.createElement("option",{key:l,value:l},mt(n,t.props.dateFormat,t.props.locale))),n=Ir(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return q.createElement("select",{value:uy(Di(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var i=mt(t.props.date,t.props.dateFormat,t.props.locale);return q.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},q.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),q.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return q.createElement(r9,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown();var i=Je(n);Ur(t.props.date,i)&&yn(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return q.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(H.Component),s9=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,i,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var i,o;(t.props.minTime||t.props.maxTime)&&kS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&SS(n,t.props)||(o=(i=t.props).onChange)===null||o===void 0||o.call(i,n)},t.isSelectedTime=function(n){return t.props.selected&&K5(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&kS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&SS(n,t.props)},t.liClasses=function(n){var i,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ii(n)*3600+Ci(n)*60+xs(n))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,i){var o,l;n.key===de.Space&&(n.preventDefault(),n.key=de.Enter),(n.key===de.ArrowUp||n.key===de.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===de.ArrowDown||n.key===de.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===de.Enter&&t.handleClick(i),(l=(o=t.props).handleOnKeyDown)===null||l===void 0||l.call(o,n)},t.renderTimes=function(){for(var n,i=[],o=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,u=t.props.selected||t.props.openToDate||Je(),d=Ah(u),p=t.props.injectTimes&&t.props.injectTimes.sort(function(D,N){return D.getTime()-N.getTime()}),m=60*Y5(u),y=m/l,w=0;w<y;w++){var E=oy(d,w*l);if(i.push(E),p){var I=$5(d,E,w,l,p);i=i.concat(I)}}var P=i.reduce(function(D,N){return N.getTime()<=u.getTime()?N:D},i[0]);return i.map(function(D){return q.createElement("li",{key:D.valueOf(),onClick:t.handleClick.bind(t,D),className:t.liClasses(D),ref:function(N){D===P&&(t.centerLi=N)},onKeyDown:function(N){t.handleOnKeyDown(N,D)},tabIndex:D===P?0:-1,role:"option","aria-selected":t.isSelectedTime(D)?"true":void 0,"aria-disabled":t.isDisabledTime(D)?"true":void 0},mt(D,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?q.createElement(q.Fragment,null):q.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},q.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,i=this.state.height;return q.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),q.createElement("div",{className:"react-datepicker__time"},q.createElement("div",{className:"react-datepicker__time-box"},q.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(H.Component),OS=3,o9=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Wr([],Array(n.props.yearItemNumber),!0).map(function(){return H.createRef()}),n.isDisabled=function(i){return er(i,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(i){return qv(i,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var i;return(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection},n.updateFocusOnPaginate=function(i){var o=function(){var l,u;(u=(l=n.YEAR_REFS[i])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(i,o){n.props.onDayClick&&n.props.onDayClick(i,o)},n.handleYearNavigation=function(i,o){var l,u,d,p,m=n.props,y=m.date,w=m.yearItemNumber;if(!(y===void 0||w===void 0)){var E=ys(y,w).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,o),i-E<0?n.updateFocusOnPaginate(w-(E-i)):i-E>=w?n.updateFocusOnPaginate(Math.abs(w-(i-E))):(p=(d=n.YEAR_REFS[i-E])===null||d===void 0?void 0:d.current)===null||p===void 0||p.focus())}},n.isSameDay=function(i,o){return Ye(i,o)},n.isCurrentYear=function(i){return i===Le(Je())},n.isRangeStart=function(i){return n.props.startDate&&n.props.endDate&&Ur(jr(Je(),i),n.props.startDate)},n.isRangeEnd=function(i){return n.props.startDate&&n.props.endDate&&Ur(jr(Je(),i),n.props.endDate)},n.isInRange=function(i){return dh(i,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(i){var o=n.props,l=o.selectsStart,u=o.selectsEnd,d=o.selectsRange,p=o.startDate,m=o.endDate;return!(l||u||d)||!n.selectingDate()?!1:l&&m?dh(i,n.selectingDate(),m):u&&p||d&&p&&!m?dh(i,p,n.selectingDate()):!1},n.isSelectingRangeStart=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,u=l.startDate,d=l.selectsStart,p=jr(Je(),i);return d?Ur(p,(o=n.selectingDate())!==null&&o!==void 0?o:null):Ur(p,u??null)},n.isSelectingRangeEnd=function(i){var o;if(!n.isInSelectingRange(i))return!1;var l=n.props,u=l.endDate,d=l.selectsEnd,p=l.selectsRange,m=jr(Je(),i);return d||p?Ur(m,(o=n.selectingDate())!==null&&o!==void 0?o:null):Ur(m,u??null)},n.isKeyboardSelected=function(i){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,l=o.minDate,u=o.maxDate,d=o.excludeDates,p=o.includeDates,m=o.filterDate,y=Ou(jr(n.props.date,i)),w=(l||u||d||p||m)&&Rh(i,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Ye(y,Ou(n.props.selected))&&Ye(y,Ou(n.props.preSelection))&&!w}},n.isSelectedYear=function(i){var o=n.props,l=o.selectsMultiple,u=o.selected,d=o.selectedDates;return l?d==null?void 0:d.some(function(p){return i===Le(p)}):!u||i===Le(u)},n.onYearClick=function(i,o){var l=n.props.date;l!==void 0&&n.handleYearClick(Ou(jr(l,o)),i)},n.onYearKeyDown=function(i,o){var l,u,d=i.key,p=n.props,m=p.date,y=p.yearItemNumber,w=p.handleOnKeyDown;if(d!==de.Tab&&i.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case de.Enter:if(n.props.selected==null)break;n.onYearClick(i,o),(u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,n.props.selected);break;case de.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,ki(n.props.preSelection,1));break;case de.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,hl(n.props.preSelection,1));break;case de.ArrowUp:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var E=ys(m,y).startPeriod,I=OS,P=o-I;if(P<E){var D=y%I;o>=E&&o<E+D?I=D:I+=D,P=o-I}n.handleYearNavigation(P,hl(n.props.preSelection,I));break}case de.ArrowDown:{if(m===void 0||y===void 0||n.props.preSelection==null)break;var N=ys(m,y).endPeriod,I=OS,P=o+I;if(P>N){var D=y%I;o<=N&&o>N-D?I=D:I+=D,P=o+I}n.handleYearNavigation(P,ki(n.props.preSelection,I));break}}w&&w(i)},n.getYearClassNames=function(i){var o=n.props,l=o.date,u=o.minDate,d=o.maxDate,p=o.excludeDates,m=o.includeDates,y=o.filterDate,w=o.yearClassName;return pt("react-datepicker__year-text","react-datepicker__year-".concat(i),l?w==null?void 0:w(jr(l,i)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(i),"react-datepicker__year-text--disabled":(u||d||p||m||y)&&Rh(i,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(i),"react-datepicker__year-text--range-start":n.isRangeStart(i),"react-datepicker__year-text--range-end":n.isRangeEnd(i),"react-datepicker__year-text--in-range":n.isInRange(i),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(i),"react-datepicker__year-text--today":n.isCurrentYear(i)})},n.getYearTabIndex=function(i){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=Le(n.props.preSelection),l=Rh(i,n.props);return i===o&&!l?"0":"-1"},n.getYearContent=function(i){return n.props.renderYearContent?n.props.renderYearContent(i):i},n}return e.prototype.render=function(){var t=this,n=[],i=this.props,o=i.date,l=i.yearItemNumber,u=i.onYearMouseEnter,d=i.onYearMouseLeave;if(o===void 0)return null;for(var p=ys(o,l),m=p.startPeriod,y=p.endPeriod,w=function(P){n.push(q.createElement("div",{ref:E.YEAR_REFS[P-m],onClick:function(D){t.onYearClick(D,P)},onKeyDown:function(D){xC(D)&&(D.preventDefault(),D.key=de.Enter),t.onYearKeyDown(D,P)},tabIndex:Number(E.getYearTabIndex(P)),className:E.getYearClassNames(P),onMouseEnter:E.props.usePointerEvent?void 0:function(D){return u(D,P)},onPointerEnter:E.props.usePointerEvent?function(D){return u(D,P)}:void 0,onMouseLeave:E.props.usePointerEvent?void 0:function(D){return d(D,P)},onPointerLeave:E.props.usePointerEvent?function(D){return d(D,P)}:void 0,key:P,"aria-current":E.isCurrentYear(P)?"date":void 0},E.getYearContent(P)))},E=this,I=m;I<=y;I++)w(I);return q.createElement("div",{className:"react-datepicker__year"},q.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(H.Component);function a9(r,e,t,n){for(var i=[],o=0;o<2*e+1;o++){var l=r+e-o,u=!0;t&&(u=Le(t)<=l),n&&u&&(u=Le(n)>=l),u&&i.push(l)}return i}var l9=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var u=n.props.year,d=n.state.yearsList.map(function(y){return q.createElement("div",{className:u===y?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:y,onClick:n.onChange.bind(n,y),"aria-selected":u===y?"true":void 0},u===y?q.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",y)}),p=n.props.minDate?Le(n.props.minDate):null,m=n.props.maxDate?Le(n.props.maxDate):null;return(!m||!n.state.yearsList.find(function(y){return y===m}))&&d.unshift(q.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},q.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!p||!n.state.yearsList.find(function(y){return y===p}))&&d.push(q.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},q.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var d=n.state.yearsList.map(function(p){return p+u});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var i=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,l=i||(o?10:5);return n.state={yearsList:a9(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=H.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,i=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=pt({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return q.createElement(tp,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(H.Component),u9=function(r){Kt(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?Le(t.props.minDate):1900,i=t.props.maxDate?Le(t.props.maxDate):2100,o=[],l=n;l<=i;l++)o.push(q.createElement("option",{key:l,value:l},l));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return q.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return q.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return t.toggleDropdown(i)}},q.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),q.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return q.createElement(l9,Ke({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,i=[t.renderReadView(!n)];return n&&i.unshift(t.renderDropdown()),i},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,i){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,i),t.setOpen()},t.onSelect=function(n,i){var o,l;(l=(o=t.props).onSelect)===null||l===void 0||l.call(o,n,i)},t.setOpen=function(){var n,i;(i=(n=t.props).setOpen)===null||i===void 0||i.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return q.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(H.Component),c9=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],d9=function(r){var e=(r.className||"").split(/\s+/);return c9.some(function(t){return e.indexOf(t)>=0})},h9=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(i){n.props.onClickOutside(i)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(i){var o,l;d9(i.target)&&((l=(o=n.props).onDropdownFocus)===null||l===void 0||l.call(o,i))},n.getDateInView=function(){var i=n.props,o=i.preSelection,l=i.selected,u=i.openToDate,d=SC(n.props),p=kC(n.props),m=Je(),y=u||l||o;return y||(d&&Mo(m,d)?d:p&&Os(m,p)?p:m)},n.increaseMonth=function(){n.setState(function(i){var o=i.date;return{date:Ir(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(i){var o=i.date;return{date:ko(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(i,o,l){n.props.onSelect(i,o,l),n.props.setPreSelection&&n.props.setPreSelection(i)},n.handleDayMouseEnter=function(i){n.setState({selectingDate:i}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(i)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(i,o){n.setState({selectingDate:jr(Je(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(i,o)},n.handleYearMouseLeave=function(i,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(i,o)},n.handleYearChange=function(i){var o,l,u,d;(l=(o=n.props).onYearChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(i),(d=(u=n.props).setOpen)===null||d===void 0||d.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(i)},n.getEnabledPreSelectionDateForMonth=function(i){if(!er(i,n.props))return i;for(var o=Di(i),l=M5(i),u=sj(l,o),d=null,p=0;p<=u;p++){var m=kr(o,p);if(!er(m,n.props)){d=m;break}}return d},n.handleMonthChange=function(i){var o,l,u,d=(o=n.getEnabledPreSelectionDateForMonth(i))!==null&&o!==void 0?o:i;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(u=(l=n.props).setOpen)===null||u===void 0||u.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(i){var o,l;(l=(o=n.props).onMonthChange)===null||l===void 0||l.call(o,i),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(i){n.handleYearChange(i),n.handleMonthChange(i)},n.changeYear=function(i){n.setState(function(o){var l=o.date;return{date:jr(l,Number(i))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(i){n.setState(function(o){var l=o.date;return{date:Zn(l,Number(i))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(i){n.setState(function(o){var l=o.date;return{date:jr(Zn(l,wn(i)),Le(i))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(i){i===void 0&&(i=n.state.date);var o=Is(i,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(q.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var d=kr(o,u),p=n.formatWeekday(d,n.props.locale),m=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return q.createElement("div",{key:u,"aria-label":mt(d,"EEEE",n.props.locale),className:pt("react-datepicker__day-name",m)},p)}))},n.formatWeekday=function(i,o){return n.props.formatWeekDay?N5(i,n.props.formatWeekDay,o):n.props.useWeekdaysShort?L5(i,o):O5(i,o)},n.decreaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:hl(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var i,o,l;if(!n.props.renderCustomHeader){var u=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,p=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,m=ko(n.state.date,p),y;switch(!0){case n.props.showMonthYearPicker:y=CS(n.state.date,n.props);break;case n.props.showYearPicker:y=B5(n.state.date,n.props);break;case n.props.showQuarterYearPicker:y=j5(n.state.date,n.props);break;default:y=xS(m,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&y||n.props.showTimeSelectOnly)){var w=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],E=["react-datepicker__navigation","react-datepicker__navigation--previous"],I=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(I=n.decreaseYear),y&&n.props.showDisabledMonthNavigation&&(E.push("react-datepicker__navigation--previous--disabled"),I=void 0);var P=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,D=n.props,N=D.previousMonthButtonLabel,V=N===void 0?e.defaultProps.previousMonthButtonLabel:N,L=D.previousYearButtonLabel,K=L===void 0?e.defaultProps.previousYearButtonLabel:L,Q=n.props,Z=Q.previousMonthAriaLabel,b=Z===void 0?typeof V=="string"?V:"Previous Month":Z,k=Q.previousYearAriaLabel,C=k===void 0?typeof K=="string"?K:"Previous Year":k;return q.createElement("button",{type:"button",className:E.join(" "),onClick:I,onKeyDown:n.props.handleOnKeyDown,"aria-label":P?C:b},q.createElement("span",{className:w.join(" ")},P?K:V))}}},n.increaseYear=function(){n.setState(function(i){var o,l=i.date;return{date:ki(l,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var i;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=DS(n.state.date,n.props);break;case n.props.showYearPicker:o=z5(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=U5(n.state.date,n.props);break;default:o=IS(n.state.date,n.props);break}if(!(!((i=n.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,m=n.props,y=m.nextMonthButtonLabel,w=y===void 0?e.defaultProps.nextMonthButtonLabel:y,E=m.nextYearButtonLabel,I=E===void 0?e.defaultProps.nextYearButtonLabel:E,P=n.props,D=P.nextMonthAriaLabel,N=D===void 0?typeof w=="string"?w:"Next Month":D,V=P.nextYearAriaLabel,L=V===void 0?typeof I=="string"?I:"Next Year":V;return q.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":p?L:N},q.createElement("span",{className:u.join(" ")},p?I:w))}}},n.renderCurrentMonth=function(i){i===void 0&&(i=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),q.createElement("h2",{className:o.join(" ")},mt(i,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showYearDropdown||i))return q.createElement(u9,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Le(n.state.date)}))},n.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthDropdown||i))return q.createElement(t9,Ke({},e.defaultProps,n.props,{month:wn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!n.props.showMonthYearDropdown||i))return q.createElement(i9,Ke({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(i){n.props.onSelect(wS(),i),n.props.setPreSelection&&n.props.setPreSelection(wS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return q.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(i){var o=i.monthDate,l=i.i;return q.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),q.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),q.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(i){var o,l,u=i.monthDate,d=i.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var p=xS(n.state.date,n.props),m=IS(n.state.date,n.props),y=CS(n.state.date,n.props),w=DS(n.state.date,n.props),E=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return q.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(o=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(o,Ke(Ke({},n.state),{customHeaderCount:d,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:p,nextMonthButtonDisabled:m,prevYearButtonDisabled:y,nextYearButtonDisabled:w})),E&&q.createElement("div",{className:"react-datepicker__day-names"},n.header(u)))},n.renderYearHeader=function(i){var o=i.monthDate,l=n.props,u=l.showYearPicker,d=l.yearItemNumber,p=d===void 0?e.defaultProps.yearItemNumber:d,m=ys(o,p),y=m.startPeriod,w=m.endPeriod;return q.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(y," - ").concat(w):Le(o))},n.renderHeader=function(i){var o=i.monthDate,l=i.i,u=l===void 0?0:l,d={monthDate:o,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var i,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],u=(i=n.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ki(n.state.date,d):ko(n.state.date,d),m=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:d,y=0;y<u;++y){var w=y-m+d,E=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?ki(p,w):Ir(p,w),I="month-".concat(y),P=y<u-1,D=y>0;l.push(q.createElement("div",{key:I,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:E,i:y}),q.createElement(Z5,Ke({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:E,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:y,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:P,monthShowsDuplicateDaysStart:D}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return q.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),q.createElement(o9,Ke({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return q.createElement(s9,Ke({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var i=n.props.selected?new Date(n.props.selected):void 0,o=i&&np(i)&&!!n.props.selected,l=o?"".concat(PS(i.getHours()),":").concat(PS(i.getMinutes())):"";if(n.props.showTimeInput)return q.createElement(q5,Ke({},e.defaultProps,n.props,{date:i,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var i,o=ys(n.state.date,(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),l=o.startPeriod,u=o.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=Le(n.state.date):d="".concat(Kv(wn(n.state.date),n.props.locale)," ").concat(Le(n.state.date)),q.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return q.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=H.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Rc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Ye(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!yn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Ye(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||I5;return q.createElement(tp,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},q.createElement("div",{style:{display:"contents"},ref:this.containerRef},q.createElement(t,{className:pt("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(H.Component),f9=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,i=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return q.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:i});if(q.isValidElement(e)){var l=e;return q.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(o," ").concat(n),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof i=="function"&&i(u)}})}return q.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},q.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},IC=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return VB.createPortal(this.props.children,this.el)},e}(H.Component),p9="[tabindex], a, button, input, select, textarea",m9=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},CC=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var i;return Array.prototype.slice.call((i=n.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(p9),1,-1).filter(m9)},n.handleFocusStart=function(){var i=n.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},n.handleFocusEnd=function(){var i=n.getTabChildren();i&&i.length>1&&i[0].focus()},n.tabLoopRef=H.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?q.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},q.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,q.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(H.Component);function g9(r){var e=function(t){var n,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=H.useRef(null),l=x5(Ke({open:!i,whileElementsMounted:s5,placement:t.popperPlacement,middleware:Wr([h5({padding:15}),d5(10),f5({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),u=Ke(Ke({},t),{hidePopper:i,popperProps:Ke(Ke({},l),{arrowRef:o})});return q.createElement(r,Ke({},u))};return e}var y9=function(r){Kt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,i=t.wrapperClassName,o=t.hidePopper,l=o===void 0?e.defaultProps.hidePopper:o,u=t.popperComponent,d=t.targetComponent,p=t.enableTabLoop,m=t.popperOnKeyDown,y=t.portalId,w=t.portalHost,E=t.popperProps,I=t.showArrow,P=void 0;if(!l){var D=pt("react-datepicker-popper",n);P=q.createElement(CC,{enableTabLoop:p},q.createElement("div",{ref:E.refs.setFloating,style:E.floatingStyles,className:D,"data-placement":E.placement,onKeyDown:m},u,I&&q.createElement(v5,{ref:E.arrowRef,context:E.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(P=H.createElement(this.props.popperContainer,{},P)),y&&!l&&(P=q.createElement(IC,{portalId:y,portalHost:w},P));var N=pt("react-datepicker-wrapper",i);return q.createElement(q.Fragment,null,q.createElement("div",{ref:E.refs.setReference,className:N},d),P)},e}(H.Component),v9=g9(y9),LS="react-datepicker-ignore-onclickoutside";function _9(r,e){return r&&e?wn(r)!==wn(e)||Le(r)!==Le(e):r!==e}var cg="Date input not valid.",VS=function(r){Kt(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Je()},n.modifyHolidays=function(){var i;return(i=n.props.holidays)===null||i===void 0?void 0:i.reduce(function(o,l){var u=new Date(l.date);return np(u)?Wr(Wr([],o,!0),[Ke(Ke({},l),{date:u})],!1):o},[])},n.calcInitialState=function(){var i,o=n.getPreSelection(),l=SC(n.props),u=kC(n.props),d=l&&Mo(o,Ah(l))?l:u&&Os(o,TS(u))?u:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&i!==void 0?i:d,highlightDates:bS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Ke(Ke({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.focus)===null||o===void 0||o.call(i,{preventScroll:!0})},n.setBlur=function(){var i,o;(o=(i=n.input)===null||i===void 0?void 0:i.blur)===null||o===void 0||o.call(i),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(i,o){o===void 0&&(o=!1),n.setState({open:i,preSelection:i&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:dg},function(){i||n.setState(function(l){return{focused:o?l.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return xi(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(i){var o,l,u=n.state.wasHidden,d=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((l=(o=n.props).onFocus)===null||l===void 0||l.call(o,i),d&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(i){var o,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(o=n.props).onBlur)===null||l===void 0||l.call(o,i)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(i){var o,l;n.props.inline||n.setOpen(!1),(l=(o=n.props).onClickOutside)===null||l===void 0||l.call(o,i),n.props.withPortal&&i.preventDefault()},n.handleChange=function(){for(var i,o,l,u,d,p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];var y=p[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,p),!y||typeof y.isDefaultPrevented!="function"||y.isDefaultPrevented()))){n.setState({inputValue:(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:null,lastPreSelectChange:w9});var w=n.props,E=w.selectsRange,I=w.startDate,P=w.endDate,D=(i=n.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,N=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,V=(y==null?void 0:y.target)instanceof HTMLInputElement?y.target.value:"";if(E){var L=V.split("-",2).map(function(O){return O.trim()}),K=L[0],Q=L[1],Z=ag(K??"",D,n.props.locale,N),b=ag(Q??"",D,n.props.locale,N),k=(I==null?void 0:I.getTime())!==(Z==null?void 0:Z.getTime()),C=(P==null?void 0:P.getTime())!==(b==null?void 0:b.getTime());if(!k&&!C||Z&&er(Z,n.props)||b&&er(b,n.props))return;(u=(l=n.props).onChange)===null||u===void 0||u.call(l,[Z,b],y)}else{var R=ag(V,D,n.props.locale,N,(d=n.props.selected)!==null&&d!==void 0?d:void 0);(R||!V)&&n.setSelected(R,y,!0)}}},n.handleSelect=function(i,o,l){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(i,o,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(i);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var u=n.props,d=u.startDate,p=u.endDate;d&&!p&&(n.props.swapRange||!MS(i,d))&&n.setOpen(!1)}},n.setSelected=function(i,o,l,u){var d,p,m=i;if(n.props.showYearPicker){if(m!==null&&Rh(Le(m),n.props))return}else if(n.props.showMonthYearPicker){if(m!==null&&EC(m,n.props))return}else if(m!==null&&er(m,n.props))return;var y=n.props,w=y.onChange,E=y.selectsRange,I=y.startDate,P=y.endDate,D=y.selectsMultiple,N=y.selectedDates,V=y.minTime,L=y.swapRange;if(!To(n.props.selected,m)||n.props.allowSameDay||E||D)if(m!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(m=lg(m,{hour:Ii(n.props.selected),minute:Ci(n.props.selected),second:xs(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&V&&(m=lg(m,{hour:V.getHours(),minute:V.getMinutes(),second:V.getSeconds()})),n.props.inline||n.setState({preSelection:m}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),E){var K=!I&&!P,Q=I&&!P,Z=I&&P;K?w==null||w([m,null],o):Q&&(m===null?w==null||w([null,null],o):MS(m,I)?L?w==null||w([m,I],o):w==null||w([m,null],o):w==null||w([I,m],o)),Z&&(w==null||w([m,null],o))}else if(D){if(m!==null)if(!(N!=null&&N.length))w==null||w([m],o);else{var b=N.some(function(C){return Ye(C,m)});if(b){var k=N.filter(function(C){return!Ye(C,m)});w==null||w(k,o)}else w==null||w(Wr(Wr([],N,!0),[m],!1),o)}}else w==null||w(m,o);l||((p=(d=n.props).onSelect)===null||p===void 0||p.call(d,m,o),n.setState({inputValue:null}))},n.setPreSelection=function(i){var o=xi(n.props.minDate),l=xi(n.props.maxDate),u=!0;if(i){var d=Ah(i);if(o&&l)u=Lu(i,n.props.minDate,n.props.maxDate);else if(o){var p=Ah(n.props.minDate);u=Os(i,p)||To(d,p)}else if(l){var m=TS(n.props.maxDate);u=Mo(i,m)||To(d,m)}}u&&n.setState({preSelection:i})},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(i){var o,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var u=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?i:lg(u,{hour:Ii(i),minute:Ci(i)});n.setState({preSelection:d}),(l=(o=n.props).onChange)===null||l===void 0||l.call(o,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var i,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(i=n.props).onInputClick)===null||o===void 0||o.call(i)},n.onInputKeyDown=function(i){var o,l,u,d,p,m;(l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i);var y=i.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(y===de.ArrowDown||y===de.ArrowUp||y===de.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open){if(y===de.ArrowDown||y===de.ArrowUp){i.preventDefault();var w=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',E=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(w);E instanceof HTMLElement&&E.focus({preventScroll:!0});return}var I=Je(n.state.preSelection);y===de.Enter?(i.preventDefault(),i.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===dg?(n.handleSelect(I,i),!n.props.shouldCloseOnSelect&&n.setPreSelection(I)):n.setOpen(!1)):y===de.Escape?(i.preventDefault(),i.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):y===de.Tab&&n.setOpen(!1),n.inputOk()||(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:cg})}},n.onPortalKeyDown=function(i){var o=i.key;o===de.Escape&&(i.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(i){var o,l,u,d,p,m,y=n.props,w=y.minDate,E=y.maxDate,I=y.disabledKeyboardNavigation,P=y.showWeekPicker,D=y.shouldCloseOnSelect,N=y.locale,V=y.calendarStartDay,L=y.adjustDateOnChange,K=y.inline;if((l=(o=n.props).onKeyDown)===null||l===void 0||l.call(o,i),!I){var Q=i.key,Z=i.shiftKey,b=Je(n.state.preSelection),k=function(De,me){var ae=me;switch(De){case de.ArrowRight:ae=P?uf(me,1):kr(me,1);break;case de.ArrowLeft:ae=P?cS(me):sB(me);break;case de.ArrowUp:ae=cS(me);break;case de.ArrowDown:ae=uf(me,1);break;case de.PageUp:ae=Z?hl(me,1):ko(me,1);break;case de.PageDown:ae=Z?ki(me,1):Ir(me,1);break;case de.Home:ae=Is(me,N,V);break;case de.End:ae=R5(me);break}return ae},C=function(De,me){for(var ae=40,J=De,ce=!1,le=0,B=k(De,me);!ce;){if(le>=ae){B=me;break}w&&B<w&&(J=de.ArrowRight,B=er(w,n.props)?k(J,B):w),E&&B>E&&(J=de.ArrowLeft,B=er(E,n.props)?k(J,B):E),er(B,n.props)?((J===de.PageUp||J===de.Home)&&(J=de.ArrowRight),(J===de.PageDown||J===de.End)&&(J=de.ArrowLeft),B=k(J,B)):ce=!0,le++}return B};if(Q===de.Enter){i.preventDefault(),n.handleSelect(b,i),!D&&n.setPreSelection(b);return}else if(Q===de.Escape){i.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:cg});return}var R=null;switch(Q){case de.ArrowLeft:case de.ArrowRight:case de.ArrowUp:case de.ArrowDown:case de.PageUp:case de.PageDown:case de.Home:case de.End:R=C(Q,b);break}if(!R){(m=(p=n.props).onInputError)===null||m===void 0||m.call(p,{code:1,msg:cg});return}if(i.preventDefault(),n.setState({lastPreSelectChange:dg}),L&&n.setSelected(R),n.setPreSelection(R),K){var O=wn(b),F=wn(R),A=Le(b),Te=Le(R);O!==F||A!==Te?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(i){var o=i.key;o===de.Escape&&(i.preventDefault(),n.sendFocusBackToInput())},n.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),n.sendFocusBackToInput();var o=n.props,l=o.selectsRange,u=o.onChange;l?u==null||u([null,null],i):u==null||u(null,i),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(i){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(i)&&n.setOpen(!1)},n.renderCalendar=function(){var i,o;return!n.props.inline&&!n.isCalendarOpen()?null:q.createElement(h9,Ke({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(i=n.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:H5(n.modifyHolidays()),outsideClickIgnoreClass:LS,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var i=n.props,o=i.dateFormat,l=o===void 0?e.defaultProps.dateFormat:o,u=i.locale,d=n.props.showTimeInput||n.props.showTimeSelect,p=d?"PPPPp":"PPPP",m;return n.props.selectsRange?m="Selected start date: ".concat(Jn(n.props.startDate,{dateFormat:p,locale:u}),". ").concat(n.props.endDate?"End date: "+Jn(n.props.endDate,{dateFormat:p,locale:u}):""):n.props.showTimeSelectOnly?m="Selected time: ".concat(Jn(n.props.selected,{dateFormat:l,locale:u})):n.props.showYearPicker?m="Selected year: ".concat(Jn(n.props.selected,{dateFormat:"yyyy",locale:u})):n.props.showMonthYearPicker?m="Selected month: ".concat(Jn(n.props.selected,{dateFormat:"MMMM yyyy",locale:u})):n.props.showQuarterYearPicker?m="Selected quarter: ".concat(Jn(n.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):m="Selected date: ".concat(Jn(n.props.selected,{dateFormat:p,locale:u})),q.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},m)},n.renderDateInput=function(){var i,o,l,u=pt(n.props.className,(i={},i[LS]=n.state.open,i)),d=n.props.customInput||q.createElement("input",{type:"text"}),p=n.props.customInputRef||"ref",m=n.props,y=m.dateFormat,w=y===void 0?e.defaultProps.dateFormat:y,E=m.locale,I=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?D5(n.props.startDate,n.props.endDate,{dateFormat:w,locale:E}):n.props.selectsMultiple?b5((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:w,locale:E}):Jn(n.props.selected,{dateFormat:w,locale:E});return H.cloneElement(d,(o={},o[p]=function(P){n.input=P},o.value=I,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=pt(d.props.className,u),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var i=n.props,o=i.isClearable,l=i.disabled,u=i.selected,d=i.startDate,p=i.endDate,m=i.clearButtonTitle,y=i.clearButtonClassName,w=y===void 0?"":y,E=i.ariaLabelClose,I=E===void 0?"Close":E,P=i.selectedDates;return o&&(u!=null||d!=null||p!=null||P!=null&&P.length)?q.createElement("button",{type:"button",className:pt("react-datepicker__close-icon",w,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":I,onClick:n.onClearClick,title:m,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Rc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var i,o,l,u;t.inline&&_9(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:bS(this.props.highlightDates)}),!n.focused&&!To(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(i=this.props).onCalendarOpen)===null||o===void 0||o.call(i)),n.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,i=t.icon,o=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,d=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),q.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&q.createElement(f9,Ke({icon:i,className:pt(l,!l&&o,d&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?q.createElement(CC,{enableTabLoop:this.props.enableTabLoop},q.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=q.createElement(IC,Ke({portalId:this.props.portalId},this.props),n)),q.createElement("div",null,this.renderInputContainer(),n)}return q.createElement(v9,Ke({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(H.Component),w9="input",dg="navigate";function T9(){const[r,e]=H.useState(""),[t,n]=H.useState(""),[i,o]=H.useState(null),[l,u]=H.useState(null),[d,p]=H.useState(null),[m,y]=H.useState(""),w=async()=>{const D=!(await c1(ny(af,"bookings"))).docs.map(N=>N.data()).some(N=>{const V=new Date(N.checkIn),L=new Date(N.checkOut);return i>=V&&i<L||l>V&&l<=L||i<=V&&l>=L});p(D)},E=async I=>{if(I.preventDefault(),!i||!l){y("Please select valid check-in and check-out dates.");return}if(await w(),!d){y("Selected dates are already booked. Please choose another.");return}try{await LF(ny(af,"bookings"),{name:r,email:t,checkIn:i.toISOString(),checkOut:l.toISOString()}),y("Your stay is booked!"),e(""),n(""),o(null),u(null)}catch(P){console.error("Error booking:",P),y("Something went wrong. Please try again.")}};return H.useEffect(()=>{i&&l&&w()},[i,l]),z.jsxs(_l.div,{initial:{opacity:0,x:-200},transition:{duration:1},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"text-center p-6 py-20 lg:px-32 w-full overflow-hidden",id:"booking",children:[z.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold mb-2 text-center",children:["Book your stay",z.jsx("span",{className:`underline \r
        underline-offset-4  decoration-1 under font-light`,children:" with Us"})]}),z.jsx("p",{className:`text-center text-gray-500 mb-12 max-w-80\r
        mx-auto`,children:"Ready to make a move? Book your stay with us"}),z.jsx("div",{children:z.jsxs("form",{onSubmit:E,className:"space-y-6",children:[z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Full Name"}),z.jsx("input",{type:"text",className:"w-full px-4 py-3 border rounded mt-1",value:r,onChange:I=>e(I.target.value),required:!0})]}),z.jsxs("div",{children:[z.jsx("label",{className:"block text-sm font-medium",children:"Email"}),z.jsx("input",{type:"email",className:"w-full px-4 py-3 border rounded mt-1",value:t,onChange:I=>n(I.target.value),required:!0})]}),z.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[z.jsxs("div",{className:"w-full",children:[z.jsx("label",{className:"block text-sm font-medium",children:"Check-in"}),z.jsx(VS,{selected:i,onChange:I=>o(I),className:"w-full px-4 py-3 border rounded mt-1",minDate:new Date,placeholderText:"Select a check-in date"})]}),z.jsxs("div",{className:"w-full",children:[z.jsx("label",{className:"block text-sm font-medium",children:"Check-out"}),z.jsx(VS,{selected:l,onChange:I=>u(I),className:"w-full px-4 py-3 border rounded mt-1",minDate:i||new Date,placeholderText:"Select a check-out date"})]})]}),d!==null&&z.jsx("p",{className:`text-sm ${d?"text-green-600":"text-red-500"}`,children:d?"Dates are available!":"Sorry, selected dates are unavailable."}),z.jsx("button",{type:"submit",className:"w-full bg-assent hover:bg-assent text-white py-3 rounded font-semibold",children:"Book Now"}),m&&z.jsx("p",{className:"text-center mt-4 text-gray-700 font-medium",children:m})]})})]})}const FS=()=>z.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:z.jsxs("div",{className:"bg-white p-10 rounded-lg shadow-lg w-full max-w-xl",children:[z.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4 text-center",children:"Dashboard"}),z.jsxs("p",{className:"text-gray-600 text-lg text-center",children:["Welcome to the ",z.jsx("span",{className:"font-semibold",children:"Admin Dashboard"}),"! Here you can manage bookings and view stats."]})]})}),E9=()=>{const[r,e]=H.useState([]);H.useEffect(()=>{(async()=>{const i=await c1(ny(af,"bookings"));e(i.docs.map(o=>({id:o.id,...o.data()})))})()},[]);const t=async n=>{window.confirm("Delete this booking?")&&(await OF(ZI(af,"bookings",n)),e(r.filter(i=>i.id!==n)))};return z.jsxs("div",{children:[z.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Bookings"}),z.jsx("div",{className:"overflow-x-auto",children:z.jsxs("table",{className:"min-w-full bg-white rounded shadow",children:[z.jsx("thead",{children:z.jsxs("tr",{className:"bg-gray-200 text-left",children:[z.jsx("th",{className:"p-3",children:"Name"}),z.jsx("th",{className:"p-3",children:"Email"}),z.jsx("th",{className:"p-3",children:"Check-In"}),z.jsx("th",{className:"p-3",children:"Check-Out"}),z.jsx("th",{className:"p-3",children:"Actions"})]})}),z.jsx("tbody",{children:r.map(n=>z.jsxs("tr",{className:"border-t",children:[z.jsx("td",{className:"p-3",children:n.name}),z.jsx("td",{className:"p-3",children:n.email}),z.jsx("td",{className:"p-3",children:new Date(n.checkIn).toLocaleDateString()}),z.jsx("td",{className:"p-3",children:new Date(n.checkOut).toLocaleDateString()}),z.jsx("td",{className:"p-3",children:z.jsx("button",{onClick:()=>t(n.id),className:"text-red-500",children:"Delete"})})]},n.id))})]})})]})},S9=()=>{const[r,e]=H.useState("Dashboard"),[t,n]=H.useState(!1),i=()=>{switch(r){case"Dashboard":return z.jsx(FS,{});case"Bookings":return z.jsx(E9,{});default:return z.jsx(FS,{})}},o=async()=>{try{await F4(Nv)}catch(l){console.error("Error logging out:",l)}};return z.jsxs("div",{className:"flex flex-col md:flex-row h-screen overflow-hidden",children:[z.jsxs("div",{className:"bg-gray-900 text-white w-full md:w-64 md:h-screen p-4 fixed md:static z-50",children:[z.jsxs("div",{className:"flex justify-between md:block items-center",children:[z.jsx("h1",{className:"text-xl font-bold mb-6",children:"Admin Panel"}),z.jsx("button",{onClick:()=>n(!t),className:"md:hidden text-white",children:t?"":""})]}),z.jsx("div",{children:z.jsx("button",{onClick:o,className:"mt-8 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",children:"Logout"})}),z.jsx("nav",{className:`${t?"block":"hidden"} md:block mt-4`,children:z.jsxs("ul",{className:"space-y-2",children:[z.jsx("li",{onClick:()=>{e("Dashboard"),n(!1)},className:`cursor-pointer px-4 py-2 rounded-lg ${r==="Dashboard"?"bg-blue-600 text-white":"hover:bg-blue-100 text-gray-200"}`,children:"Dashboard"}),z.jsx("li",{onClick:()=>{e("Bookings"),n(!1)},className:`cursor-pointer px-4 py-2 rounded-lg ${r==="Bookings"?"bg-blue-600 text-white":"hover:bg-blue-100 text-gray-200"}`,children:"Bookings"})]})})]}),z.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-100",children:i()})]})};function k9({onLogin:r}){const[e,t]=H.useState(""),[n,i]=H.useState(""),[o,l]=H.useState(""),u=async d=>{d.preventDefault();try{await N4(Nv,e,n),r()}catch{l("Invalid email or password.")}};return z.jsx("div",{className:"flex items-center justify-center  bg-gray-100 px-5 py-6",children:z.jsxs("div",{className:"w-full max-w-sm bg-white shadow-md rounded-lg px-6 py-5",children:[z.jsx("h2",{className:"text-lg font-semibold text-center mb-3",children:"Admin Login"}),o&&z.jsx("p",{className:"text-red-500 text-sm text-center mb-3",children:o}),z.jsxs("form",{onSubmit:u,className:"space-y-3",children:[z.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-300",value:e,onChange:d=>t(d.target.value),required:!0}),z.jsx("input",{type:"password",placeholder:"Password",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring focus:ring-blue-300",value:n,onChange:d=>i(d.target.value),required:!0}),z.jsx("button",{type:"submit",className:"w-full bg-blue-400 hover:bg-blue-700 text-white py-2 rounded",children:"Login"})]})]})})}const x9=()=>z.jsxs(_l.div,{initial:{opacity:0,x:200},transition:{duration:1},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"px-4 py-10 bg-white",id:"Gallery",children:[z.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Gallery"}),z.jsx("div",{className:"columns-1 sm:columns-2 md:columns-3 gap-4 space-y-4",children:gb.map((r,e)=>z.jsx("div",{className:"overflow-hidden rounded-lg shadow-md break-inside-avoid",children:z.jsx("img",{src:r,alt:`Gallery ${e+1}`,className:"w-full object-cover hover:scale-105 transition-transform duration-300"})},e))})]}),I9=()=>z.jsxs("div",{className:"bg-yellow-50 py-12 px-4 md:px-20 lg:px-32",id:"activities",children:[z.jsx("h2",{className:"text-4xl font-handwriting text-center mb-10",children:"Activities Near Mirema Blossom Homes"}),z.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-10",children:yb.map((r,e)=>z.jsx("div",{className:"overflow-hidden shadow-md group",children:z.jsx("img",{src:r,alt:`Activity ${e+1}`,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"})},e))}),z.jsxs("div",{className:"text-center text-lg space-y-6 text-gray-700 max-w-4xl mx-auto",children:[z.jsx("p",{children:"Whether you're in the mood for shopping, a cultural visit, or a relaxing walk, our location offers quick access to vibrant places."}),z.jsx("p",{children:"Nearby attractions include TRM Mall, the Nairobi National Museum, and beautiful walking trails at Karura Forest."}),z.jsx("p",{children:"Youll also find cozy cafs, vibrant restaurants, and local markets  perfect for experiencing Nairobi like a local."})]})]}),DC=()=>{const[r,e]=H.useState(!1);return H.useEffect(()=>{const t=V4(Nv,n=>{e(!!n)});return()=>t()},[]),z.jsxs("div",{className:"bg-yellow-20 min-h-screen w-full",children:[z.jsx(MN,{}),z.jsx(GM,{}),z.jsx(QM,{}),z.jsx(XM,{}),z.jsx(JM,{}),z.jsx(x9,{}),z.jsx(I9,{}),z.jsx(T9,{}),r?z.jsx(S9,{}):z.jsx(k9,{onLogin:()=>e(!0)}),z.jsx(NN,{})]})};zD.createRoot(document.getElementById("root")).render(z.jsx(H.StrictMode,{children:z.jsx(DC,{})}));ReactDOM.createRoot(document.getElementById("root")).render(z.jsx(React.StrictMode,{children:z.jsx(DC,{})}));
